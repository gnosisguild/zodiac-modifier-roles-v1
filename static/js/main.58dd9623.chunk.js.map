{"version":3,"sources":["typings/role.ts","components/views/Role/RoleTableRow.tsx","utils/conditions.ts","utils/networks.ts","services/subgraph.ts","store/main/rolesSlice.ts","store/main/web3Slice.ts","store/index.ts","store/main/selectors.ts","components/views/Role/RoleTable.tsx","components/views/Roles/RolesList.tsx","components/views/Roles/RolesEmpty.tsx","utils/address.ts","hooks/useFetchRoles.ts","assets/icons/arrow-up.svg","components/views/Roles/RolesView.tsx","components/views/AttachRolesModifier/AttachRolesModifierView.tsx","hooks/useSafeApp.ts","utils/http.ts","services/explorer.ts","utils/explorer.ts","components/commons/input/Select.tsx","components/commons/layout/Column.tsx","components/views/Role/targets/ParamConditionInputValue.tsx","assets/icons/checkbox-checked.svg","components/views/Role/targets/ParamConditionInput.tsx","components/views/Role/targets/TargetFunctionParams.tsx","assets/icons/checkbox-unchecked.svg","assets/icons/checkbox-indeterminate.svg","components/commons/input/Checkbox.tsx","components/views/Role/targets/ExecutionOptions.tsx","components/views/Role/targets/TargetFunction.tsx","components/views/Role/targets/TargetFunctionList.tsx","components/commons/input/ButtonLink.tsx","components/views/Role/RemovedAddress.tsx","components/views/Role/members/RoleMember.tsx","components/views/Role/MenuEntity.tsx","components/commons/Modal.tsx","components/modals/AddAddressModal.tsx","components/views/Role/members/RoleMembers.tsx","components/views/Role/targets/RoleTarget.tsx","components/modals/AddTargetModal.tsx","components/views/Role/targets/RoleTargets.tsx","contracts/type/factories/Permissions__factory.ts","contracts/type/factories/Roles__factory.ts","hooks/useWallet.ts","services/rolesModifierContract.ts","components/modals/PendingChanges.tsx","components/views/Role/RoleMenu.tsx","components/views/Role/RoleContext.tsx","components/views/Role/targets/TargetConfiguration.tsx","hooks/useAbi.ts","components/commons/layout/Dashboard.tsx","components/views/Role/RoleNoTarget.tsx","components/views/Role/RoleView.tsx","components/views/Header/HeaderBox.tsx","components/views/Header/ChainPicker.tsx","components/views/Header/HeaderAddressBox.tsx","components/views/Header/ConnectWalletBox.tsx","components/views/Header/Header.tsx","components/Root.tsx","components/App.tsx","theme/RolesGlobalStyles.ts","index.tsx"],"names":["ExecutionOption","EntityStatus","ParamComparison","ParameterType","ParamNativeType","ConditionType","useStyles","makeStyles","arrowIcon","color","iconButton","borderRadius","width","height","deleteButton","backgroundColor","border","opacity","deleteIcon","tableButton","content","tableCell","borderBottom","tableRow","cursor","RoleTableRow","role","classes","module","useParams","navigate","useNavigate","targets","filter","target","type","TableRow","className","onClick","name","TableCell","members","length","Box","display","justifyContent","sx","mr","Button","IconButton","size","id","BooleanValue","getFunctionConditionType","paramConditions","some","x","SCOPED","BLOCKED","getKeyFromFunction","func","Interface","getSighash","getNativeType","param","baseType","ADDRESS","STRING","BOOLEAN","TUPLE","startsWith","UINT","INT","arrayChildren","UNSUPPORTED","ARRAY","BYTES_FIXED","BYTES","isWriteFunction","method","stateMutability","includes","formatParamValue","value","nativeType","JSON","parse","Network","INFURA_KEY","process","client","NETWORKS","MAINNET","GOERLI","SEPOLIA","OPTIMISM","BASE","BINANCE","GNOSIS","POLYGON","EWT","ARBITRUM","AVALANCHE","VOLTA","AURORA","getNetworkRPC","network","config","getNetwork","rpc","replace","CHAINS","BASE_SUBGRAPH_URL","SUBGRAPH_SEPOLIA","getUrl","getSubgraphClient","createClient","url","exchanges","defaultExchanges","fetchOptions","cache","RolesQuery","gql","fetchRoles","rolesModifierAddress","a","ethers","utils","isAddress","query","toLowerCase","toPromise","roles","data","rolesModifier","map","roleMember","member","conditions","Object","fromEntries","functions","parameters","index","condition","comparison","comparisonValue","funcConditions","sighash","wildcarded","WILDCARDED","executionOption","getExecutionOptionFromLabel","executionOptions","params","address","clearance","console","log","label","BOTH","SEND","DELEGATE_CALL","NONE","initialChainId","rolesAppSlice","createSlice","initialState","transactions","transactionPending","transactionError","reducers","setRolesModifierAddress","state","action","payload","resetTransactionError","setTransactionPending","extraReducers","builder","addCase","fulfilled","actions","createAsyncThunk","subgraph","ethereum","window","chainId","BigNumber","from","toNumber","err","web3InitialState","connectedAddress","ens","networkPickerDisabled","web3Slice","setConnectedAddress","setChainId","setENS","resetConnectedAddress","setNetworkPickerDisabled","REDUX_STORE","configureStore","reducer","web3","rolesApp","useRootDispatch","useDispatch","useRootSelector","useSelector","getWeb3State","getRolesAppState","getChainId","createSelector","main","getConnectedAddress","getNetworkPickerDisabled","getRolesModifierAddress","getRoles","getTransactionPending","theme","root","marginTop","spacing","actionsCell","tableHeadCell","borderTop","fontSize","letterSpacing","textTransform","RoleTable","Table","TableHead","classNames","TableBody","search","maxWidth","borderColor","colors","tan","doubleBorder","grow","flexGrow","RolesList","placeholder","borderStyle","InputProps","startAdornment","InputAdornment","position","to","startIcon","variant","RolesEmpty","style","Typography","marginBottom","fullWidth","AddSharp","EIP3770Names","values","EIP3770List","EIP3770ChainIds","keys","truncateEthAddress","match","getAddress","split","chainShortName","_address","indexOf","parseInt","getEIP3770ChainId","fullAddress","formatAddressEIP3770","prefix","toString","getEIP3770Prefix","_path","useFetchRoles","lazy","dispatch","fetch","useCallback","addressData","useEffect","container","padding","background","center","alignItems","RolesView","_excluded","_extends","assign","i","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowUp","_ref","svgRef","title","titleId","props","viewBox","fill","xmlns","ref","fillRule","clipRule","d","ForwardRef","flexDirection","errorSpacing","AttachRolesModifierView","SafeAppsSDK","safe","getChainInfo","then","chainIdNumber","info","catch","warn","useSafeApp","useState","setAddress","handleAttach","Paper","onChange","evt","disabled","configure","localforage","defineDriver","memoryDriver","forageStore","createInstance","driver","INDEXEDDB","LOCALSTORAGE","_driver","setup","maxAge","store","exclude","Explorer","provider","apiUrl","apiKey","httpClient","getHttpClient","get","response","status","detectProxyTarget","proxyAddress","abi","removeResponseFromCache","Error","result","json","looksLikeAProxy","send","apikey","getHttpClientConfig","URLSearchParams","removeItem","iface","signatures","looksLike","expectedFunctions","every","sig","ETHERSCAN_KEY","GNOSISSCAN_KEY","POLYGONSCAN_KEY","ARBISCAN_KEY","BSCSCAN_KEY","OPTIMISTICSCAN_KEY","SNOWTRACE_KEY","BASESCAN_KEY","explorerConfig","OPTIMISM_ON_GNOSIS","getExplorer","memoize","rpcUrl","providers","StaticJsonRpcProvider","palette","common","white","select","Select","disableUnderline","Column","marginLeft","error","input","PlaceholderPerType","getPlaceholderForType","_rect","ParamConditionInputValue","onDecodingError","valueDecoded","useDecodedValue","internalValue","setInternalValue","valid","tryAbiEncode","handleChange","inputValue","TextField","OneOfParamConditionInputValue","newItemValue","newValue","v","callbackRef","useRef","current","tryAbiDecode","defaultAbiCoder","encode","paramTypeString","format","decoded","decode","stringify","selectIcon","button","icon","marginRight","btnRemove","ConditionLabel","EQUAL_TO","ONE_OF","GREATER_THAN","LESS_THAN","ParamConditionInput","DYNAMIC32","DYNAMIC","STATIC","getConditionType","options","getConditionsPerType","FALSE","removeButton","disableRipple","undefined","handleBooleanChange","MenuItem","TRUE","handleValueChange","option","checkbox","row","rowHead","paddingRight","overflow","whiteSpace","textOverflow","TargetFunctionParams","decodingError","setDecodingError","handleConditionChange","newConditions","push","maxIndex","reduce","max","Math","indices","Array","_","inputs","acc","parameterMismatch","find","p","ArrowRight","changingCondition","SvgCheckboxChecked","y","stroke","strokeWidth","strokeLinejoin","SvgCheckboxUnchecked","_rect2","SvgCheckboxIndeterminate","margin","Checkbox","disableFocusRipple","disableTouchRipple","checkedIcon","indeterminateIcon","ExecutionOptions","enumToFlags","allowSend","allowDelegateCall","FormControlLabel","control","checked","ev","flagsToEnum","flags","wrapper","trigger","minHeight","arrow","transition","rotate","transform","fontFamily","hidden","TargetFunction","functionConditions","open","setOpen","functionName","paramsText","join","getParamsTypesTitle","handleFunctionCheck","elevation","indeterminate","stopPropagation","KeyboardArrowDownSharp","maxHeight","overflowY","scrollbarGutter","disabledArea","pointerEvents","top","left","triggerTitle","TargetFunctionList","items","onSubmit","abiLoading","customABI","setCustomABI","usingCustomABI","setUsingCustomABI","customABIExpanded","setCustomABIExpanded","customABIJson","trim","e","handleFunctionChange","sighashesNotInAbi","item","expanded","Grid","direction","EditOutlined","Check","CircularProgress","WarningOutlined","minRows","multiline","mt","INITIAL_CONDITION","viewRolesLink","textDecoration","textUnderlineOffset","ButtonLink","text","ml","undo","RemovedAddress","onUndo","ButtonBase","blockieContainer","minWidth","blockie","copyButton","pending","RoleMember","onRemoveMember","useMemo","makeBlockie","REMOVE","PENDING","rounded","src","alt","textToCopy","DeleteOutlineSharp","primary","lineHeight","labelLink","labelWrapper","MenuEntity","tutorialLink","list","renderItem","onAdd","plural","Link","href","rel","singular","mb","underline","paper","Modal","children","isOpen","onClose","BackdropProps","backdropFilter","link","textField","AddAddressModal","onAddAddress","isValidAddress","setIsValidAddress","onAddressChange","RoleMembers","useContext","RoleContext","addMember","removeMember","addMemberModalIsOpen","setAddMemberModalIsOpen","add","getMemberStatus","remove","handleRemoveMember","active","targetIconContainer","borderWidth","targetIcon","filledButton","RoleTarget","onClickTarget","activeTarget","onRemoveTarget","event","preventDefault","AddTargetModal","onAddTarget","setExecutionOptions","Date","now","RoleTargets","addTarget","removeTarget","setActiveTarget","addTargetModalIsOpen","setAddTargetModalIsOpen","renderTarget","getStatus","_target","handleRemoveTarget","_abi","anonymous","indexed","internalType","_bytecode","isSuperArgs","xs","Permissions__factory","args","contractName","overrides","signer","signerOrProvider","Contract","ContractFactory","bytecode","outputs","isArray","Roles__factory","linkLibraryAddresses","linkBytecode","_owner","_avatar","linkedBytecode","RegExp","_signer","chainInfo","WalletType","configureOnboardJS","networkId","wallets","walletName","preferred","infuraKey","Onboard","dappId","darkMode","subscriptions","wallet","web3Provider","Web3Provider","getSigner","setProvider","walletSelect","walletCheck","checkName","useWallet","_chainId","account","onboard","setSigner","startOnboard","walletType","getState","GNOSIS_SAFE","INJECTED","getTargetTransaction","contract","populateTransaction","scopeTarget","allowTarget","revokeTarget","getFunctionTransaction","funcCondition","scopeRevokeFunction","scopeAllowFunction","paramIndexes","paramsLength","isParamScoped","paramType","paramComp","compValue","getParameterTypeInt","getParamComparisonInt","scopeFunction","updateRole","modifierAddress","rolesModifierContract","connect","addMemberTxs","assignRoles","removeMemberTxs","removeTargetTxs","txs","updateEvents","getTargetUpdate","explorer","targetABI","obj","targetLevelTxs","level","Level","SCOPE_TARGET","updateFunctionOptionTxs","UPDATE_FUNCTION_EXECUTION_OPTION","targetAddress","scopeFunctionExecutionOptions","scopedFunctions","functionLevelTxs","SCOPE_FUNCTION","paramEventsPerFunction","SCOPE_PARAM","funcSighash","funcParams","paramLevelTxs","entries","paramCondition","NO_RESTRICTION","unscopeParameter","scopeParameter","scopeParameterAsOneOf","flat","Promise","all","targetTxs","targetActionsTxs","memberTxs","executeTxsGnosisSafe","safeSDK","convertTxToSafeTx","safeTxHash","executeTxsInjectedProvider","tx","sendTransaction","recept","wait","hash","getSafeTx","getBySafeTxHash","safeTx","paramComparison","parameterType","rowItemContainer","inset","zIndex","rowIconContainer","memberIcon","targetNumberOfChanges","flex","textAlign","Members","memberRow","change","htmlColor","Targets","targetAddOrUpdate","changeType","changes","targetsToUpdate","PendingChanges","roleId","getRoleId","biggest","lt","RoleMenuTitle","wordBreak","getButtonText","isWaiting","indexing","txProposedInSafe","RoleActionType","RoleMenu","walletAddress","setIndexing","setTxProposedInSafe","pendingChangesModalIsOpen","setPendingChangesModalIsOpen","memberChanges","setMemberChanges","targetChanges","setTargetChanges","handleMemberChanges","handleTargetChanges","handleExecuteUpdate","ZODIAC_PILOT","txHash","txStatus","resolve","setTimeout","waitForTransaction","CheckSharp","ArrowBackSharp","bgcolor","my","align","Tooltip","replaceTargetValue","roleReducer","ADD_MEMBER","handleAddMember","ADD_TARGET","currentTarget","handleAddTarget","REMOVE_TARGET","REMOVE_MEMBER","_member","SET_ACTIVE_TARGET","SET_TARGET_EXECUTION_OPTION","replaceValue","targetId","handleTargetExecutionOption","SET_TARGET_CONDITIONS","conditionTypes","targetInState","hasWildcardedFunction","hasScopedFunction","handleTargetConditions","SET_TARGET_CLEARANCE","replaceOption","handleSetTargetClearance","RESET_STATE","initReducerState","React","createContext","getActiveRole","setTargetConditions","setTargetExecutionOption","setTargetClearance","reset","inList","updatedTarget","originalTarget","functionEvents","getFunctionUpdate","old","isClearanceUpdated","isExecutionOptionUpdated","events","originalFuncCondition","original","paramsEvents","updates","toUpdate","newParamConfig","originalParamConfig","_param","removals","toRemove","update","getParamUpdate","RoleContextWrap","useReducer","methods","Provider","allowAllLabel","functionWrapper","paddingLeft","functionTrigger","subtitle","TargetConfiguration","loading","setLoading","setError","setAbi","fetchAbi","message","useAbi","isWildcarded","getWriteFunctions","gridTemplateColumns","right","bottom","sideBar","menu","gridColumnStart","Dashboard","mainPanelZeroState","RoleNoTarget","RoleView","getRoleById","Consumer","banner","clickable","leftIcon","HeaderBox","networkPickerContainer","networkPicker","networkConfigs","ChainPicker","InputLabel","shrink","avatar","zodiacArrow","zodiacLink","addressFont","empty","HeaderAddressBox","emptyText","linkToZodiac","showAvatar","showCopyBtn","showHash","avatarSize","location","ArrowForward","connectWalletBoxContainer","connectWalletBoxMenu","ConnectWalletBox","showWalletOption","setShowWalletOption","walletReset","img","badge","warning","Header","Root","App","path","element","RolesGlobalStyles","createGlobalStyle","Main","zodiacMuiTheme","gnosisStyledComponentsTheme","CssBaseline","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"k6TAAYA,EAyBAC,EAeAC,EAOAC,EAOAC,EAcAC,E,gOC9DNC,EAAYC,aAAW,iBAAO,CAClCC,UAAW,CACTC,MAAO,0BAETC,WAAY,CACVC,aAAc,EACdF,MAAO,yBACPG,MAAO,GACPC,OAAQ,IAEVC,aAAc,CACZC,gBAAiB,2BACjBC,OAAQ,qCACR,UAAW,CACTC,QAAS,KAGbC,WAAY,CACVN,MAAO,IAETO,YAAa,CACXJ,gBAAiB,2BACjBC,OAAQ,qCACRL,aAAc,EACdF,MAAO,yBACP,WAAY,CACVW,QAAS,SAGbC,UAAW,CACTC,aAAc,sCAEhBC,SAAU,CACRC,OAAQ,UACR,qBAAsB,CACpBT,gBAAiB,kCA4CRU,EArCM,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,KAChBC,EAAUrB,IACRsB,EAAWC,cAAXD,OACFE,EAAWC,cAEXC,EAAUN,EAAKM,QAAQC,QAAO,SAACC,GAAD,MAA4B,SAAhBA,EAAOC,QAEvD,OACE,eAACC,EAAA,EAAD,CAAwBC,UAAWV,EAAQJ,SAAUe,QAJ9B,kBAAMR,EAAS,IAAD,OAAKF,EAAL,kBAAqBF,EAAKa,QAI/D,UACE,cAACC,EAAA,EAAD,CAAWH,UAAWV,EAAQN,UAA9B,yBAAmDK,EAAKa,QACxD,cAACC,EAAA,EAAD,CAAWH,UAAWV,EAAQN,UAA9B,mBAA6CK,EAAKe,QAAQC,OAA1D,cACA,cAACF,EAAA,EAAD,CAAWH,UAAWV,EAAQN,UAA9B,mBAA6CW,EAAQU,OAArD,cACA,cAACF,EAAA,EAAD,CAAWH,UAAWV,EAAQN,UAA9B,SACE,eAACsB,EAAA,EAAD,CAAKC,QAAQ,OAAOC,eAAe,WAAnC,UACE,cAACF,EAAA,EAAD,CAAKG,GAAI,CAAEC,GAAI,GAAf,SACE,cAACC,EAAA,EAAD,CAAQ,aAAW,YAAYX,UAAWV,EAAQR,YAAlD,oBAaF,cAAC8B,EAAA,EAAD,CAAYC,KAAK,QAAQ,aAAW,YAAYb,UAAWV,EAAQjB,WAAnE,SACE,cAAC,IAAD,CAAyB2B,UAAWV,EAAQnB,qBArBrCkB,EAAKyB,K,6FDxDZnD,O,eAAAA,I,eAAAA,I,iCAAAA,I,gBAAAA,M,cAyBAC,O,mBAAAA,I,qBAAAA,I,gBAAAA,M,cAeAC,K,mBAAAA,E,eAAAA,E,2BAAAA,E,sBAAAA,M,cAOAC,K,gBAAAA,E,kBAAAA,E,sBAAAA,E,gCAAAA,M,cAOAC,O,aAAAA,I,eAAAA,I,qBAAAA,I,iBAAAA,I,6BAAAA,I,qBAAAA,I,mBAAAA,I,iBAAAA,I,iBAAAA,I,8BAAAA,M,cAcAC,K,eAAAA,E,oBAAAA,E,mBAAAA,M,SExDA+C,E,SARL,SAASC,EAAyBC,GACvC,OAAOA,EAAgBC,MAAK,SAACC,GAAD,OAAOA,KAAKnD,EAAcoD,OAASpD,EAAcqD,QAGxE,SAASC,EAAmBC,GACjC,OAAOC,IAAUC,WAAWF,GAQvB,SAASG,EAAcC,GAC5B,OAAKA,EAEkB,YAAnBA,EAAMC,SAA+B7D,EAAgB8D,QAClC,WAAnBF,EAAMC,SAA8B7D,EAAgB+D,OACjC,SAAnBH,EAAMC,SAA4B7D,EAAgBgE,QAC/B,UAAnBJ,EAAMC,SAA6B7D,EAAgBiE,MACnDL,EAAMC,SAASK,WAAW,QAAgBlE,EAAgBmE,KAC1DP,EAAMC,SAASK,WAAW,OAAelE,EAAgBoE,IACtC,UAAnBR,EAAMC,SAC6B,UAAjCD,EAAMS,cAAcR,SAA6B7D,EAAgBsE,YAC9DtE,EAAgBuE,MAErBX,EAAMC,SAASK,WAAW,UAA+B,UAAnBN,EAAMC,SACvC7D,EAAgBwE,YAElBxE,EAAgByE,MAfJzE,EAAgBsE,YAqC9B,SAASI,EAAgBC,GAC9B,OAAKA,EAAOC,kBACJ,CAAC,OAAQ,QAAQC,SAASF,EAAOC,kB,SA7C/B5B,K,cAAAA,E,aAAAA,M,KAmDL,SAAS8B,EAAiBlB,EAA+BmB,GAC9D,IAAMC,EAAarB,EAAcC,GACjC,OAAIoB,IAAehF,EAAgBuE,OAASS,IAAehF,EAAgBiE,MAAcgB,KAAKC,MAAMH,GAC7FA,E,IC7DGI,G,UAHNC,GAAaC,oC,SAGPF,O,qBAAAA,I,mBAAAA,I,4BAAAA,I,wBAAAA,I,kBAAAA,I,6CAAAA,I,sBAAAA,I,qBAAAA,I,uBAAAA,I,eAAAA,I,2BAAAA,I,6BAAAA,I,qBAAAA,I,8BAAAA,Q,KAiBL,I,GCLHG,GDKSC,GAAW,CACtBJ,GAAQK,QACRL,GAAQM,OACRN,GAAQO,QACRP,GAAQQ,SACRR,GAAQS,KACRT,GAAQU,QACRV,GAAQW,OACRX,GAAQY,QACRZ,GAAQa,IACRb,GAAQc,SACRd,GAAQe,UACRf,GAAQgB,MACRhB,GAAQiB,QAqBH,SAASC,GAAcC,GAC5B,IAAMC,EAASC,GAAWF,GAC1B,GAAIC,EAEF,OAAOA,EAAOE,IAAI,GAAGC,QAAQ,oBAAqBtB,IAI/C,SAASoB,GAAWF,GACzB,OAAOK,GAAOL,GClBhB,IAAMM,GAAoBvB,mDAEpBwB,GAAmBxB,+CAQnByB,GAAS,SAACR,GACd,OAAQA,GACN,KAAKnB,GAAQK,QACX,OAAOoB,GAVYvB,+CAWrB,KAAKF,GAAQW,OACX,OAAOc,GAdiBvB,+CAe1B,KAAKF,GAAQO,QACX,OAAOkB,GAAoBC,GAC7B,KAAK1B,GAAQY,QACX,OAAOa,GAfYvB,+CAgBrB,KAAKF,GAAQQ,SACX,OAAOiB,GAfavB,+CAgBtB,KAAKF,GAAQc,SACX,OAAOW,GAlBavB,+CAmBtB,KAAKF,GAAQS,KACX,OAAOgB,GAlBSvB,+CAqBlB,QACE,OAAOuB,GAAoBC,KAI3BE,GAAoB,SAACT,GAAD,OACxBU,YAAa,CACXC,IAAKH,GAAOR,GACZY,UAAU,YAAKC,KACfC,aAAc,CACZC,MAAO,eAIPC,GAAaC,YAAH,mpBAuEHC,GAAU,uCAAG,WAAOlB,EAAkBmB,GAAzB,eAAAC,EAAA,yDACxBpC,GAASyB,GAAkBT,GACC,MAAxBmB,GAAiCE,SAAOC,MAAMC,UAAUJ,GAFpC,yCAGf,IAHe,gCAMFnC,GACjBwC,MAA0BR,GAAY,CAAEvE,GAAI0E,EAAqBM,gBACjEC,YARmB,YAMhBC,EANgB,QASZC,OAAQD,EAAMC,KAAKC,cATP,0CAUbF,EAAMC,KAAKC,cAAcF,MAAMG,KAAI,SAAC9G,GAAD,mBAAC,eACtCA,GADqC,IAExCe,QAASf,EAAKe,QAAQ+F,KAAI,SAACC,GAAD,OAAgBA,EAAWC,UACrD1G,QAASN,EAAKM,QAAQwG,KAAI,SAACtG,GACzB,IAAMyG,EAA+BC,OAAOC,YAC1C3G,EAAO4G,UAAUN,KAAI,SAAC5E,GACpB,IAAMN,EAAkBM,EAAKmF,WAAWP,KAAI,SAACxE,GAO3C,MANuC,CACrCgF,MAAOhF,EAAMgF,MACbC,UAAWjF,EAAMkF,WACjB/D,MAAOnB,EAAMmF,gBACbhH,KAAM6B,EAAM7B,SAKViH,EAAoC,CACxCC,QAASzF,EAAKyF,QACdlH,KAAMyB,EAAK0F,WAAajJ,EAAckJ,WAAalG,EAAyBC,GAC5EkG,gBAAiBC,GAA4B7F,EAAK8F,kBAClDC,OAAQrG,GAEV,MAAO,CAACM,EAAKyF,QAASD,OAG1B,MAAO,CACLjG,GAAIjB,EAAOiB,GACXyG,QAAS1H,EAAO0H,QAChBzH,KAAMD,EAAO2H,UACbL,gBAAiBC,GAA4BvH,EAAOwH,kBACpDf,uBAxCc,iCA6Cb,IA7Ca,gEAgDtBmB,QAAQC,IAAI,MAAZ,MAhDsB,+DAAH,wDAqDvB,SAASN,GAA4BO,GACnC,OAAQA,GACN,IAAK,OACH,OAAOhK,EAAgBiK,KACzB,IAAK,OACH,OAAOjK,EAAgBkK,KACzB,IAAK,eACH,OAAOlK,EAAgBmK,cAE3B,OAAOnK,EAAgBoK,KCzNzB,ICCIC,GDOSC,GAAgBC,YAAY,CACvChI,KAAM,QACNiI,aAV0C,CAC1CnC,MAAO,GACPR,qBAAsB,GACtB4C,aAAc,GACdC,oBAAoB,EACpBC,iBAAkB,IAMlBC,SAAU,CACRC,wBADQ,SACgBC,EAAOC,GAC7BD,EAAMjD,qBAAuBkD,EAAOC,SAEtCC,sBAJQ,SAIcH,GACpBA,EAAMH,iBAAmB,IAE3BO,sBAPQ,SAOcJ,EAAOC,GAC3BD,EAAMJ,mBAAqBK,EAAOC,UAGtCG,cAAe,SAACC,GACdA,EAAQC,QAAQzD,GAAW0D,WAAW,SAACR,EAAOC,GAC5CD,EAAMzC,MAAQ0C,EAAOC,cAKpB,GAAkFV,GAAciB,QAAxFV,GAAR,GAAQA,wBAAyBK,GAAjC,GAAiCA,sBAE3BtD,IAFN,GAAwDqD,sBAErCO,YACxB,oBACA,YAAkE,IAA/D9E,EAA8D,EAA9DA,QAASkD,EAAqD,EAArDA,QACV,OAAO6B,GAAoB/E,EAASkD,OClClC8B,GAAYC,OAAeD,SAEjC,IACE,IAAME,GAAiCF,IAAYA,GAASE,SAAW7D,SAAO8D,UAAUC,KAAKJ,GAASE,SAClGA,IAAWhF,GAAWgF,GAAQG,cAChC1B,GAAiBuB,GAAQG,YAE3B,MAAOC,KAET,IAAMC,GAA8B,CAClCL,QAASvB,IAAkB9E,GAAQK,QACnCsG,iBAAkB,GAClBC,IAAK,GACLC,uBAAuB,GAGZC,GAAY9B,YAAY,CACnChI,KAAM,OACNiI,aAAcyB,GACdrB,SAAU,CACR0B,oBADQ,SACYxB,EAAOC,GACzBD,EAAMoB,iBAAmBnB,EAAOC,SAElCuB,WAJQ,SAIGzB,EAAOC,GAChBjB,QAAQC,IAAI,mBAAqBgB,EAAOC,SACxCF,EAAMc,QAAUb,EAAOC,SAEzBwB,OARQ,SAQD1B,EAAOC,GACZD,EAAMqB,IAAMpB,EAAOC,SAErByB,sBAXQ,SAWc3B,GACpBA,EAAMoB,iBAAmB,GACzBpB,EAAMqB,IAAM,IAEdO,yBAfQ,SAeiB5B,EAAOC,GAC9BD,EAAMsB,sBAAwBrB,EAAOC,YAKpC,GACLqB,GAAUd,QADGgB,GAAR,GAAQA,WAAYC,GAApB,GAAoBA,OAAQF,GAA5B,GAA4BA,oBAAqBG,GAAjD,GAAiDA,sBAAuBC,GAAxE,GAAwEA,yBCxClEC,GAAcC,YAAe,CACxCC,QAAS,CACPC,KAAMT,GAAUQ,QAChBE,SAAUzC,GAAcuC,WAOfG,GAAkB,kBAAMC,eACxBC,GAAmDC,I,UCb1DC,GAAe,SAACtC,GAAD,OAAsBA,EAAMgC,MAC3CO,GAAmB,SAACvC,GAAD,OAAsBA,EAAMiC,UAExCO,GAAaC,aAAeH,IAAc,SAACI,GAAD,OAAUA,EAAK5B,WACzD6B,GAAsBF,aAAeH,IAAc,SAACI,GAAD,OAAUA,EAAKtB,oBAElEwB,IADSH,aAAeH,IAAc,SAACI,GAAD,OAAUA,EAAKrB,OAC1BoB,aAAeH,IAAc,SAACI,GAAD,OAAUA,EAAKpB,0BAEvEuB,GAA0BJ,aAAeF,IAAkB,SAACG,GAAD,OAAUA,EAAK3F,wBAC1E+F,GAAWL,aAAeF,IAAkB,SAACG,GAAD,OAAUA,EAAKnF,SAI3DwF,IADsBN,aAAeF,IAAkB,SAACG,GAAD,OAAUA,EAAK7C,oBAC9C4C,aAAeF,IAAkB,SAACG,GAAD,OAAUA,EAAK9C,uBCT/EpK,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJC,UAAWF,EAAMG,QAAQ,IAE3BC,YAAa,CACXtN,MAAO,KAETS,UAAW,CACTC,aAAc,sCAEhB6M,cAAe,CACb7M,aAAc,qCACd8M,UAAW,qCACX3N,MAAO,sBACP4N,SAAU,GACVC,cAAe,EACfC,cAAe,iBA6BJC,GAzBG,WAChB,IAAM7M,EAAUrB,KACV+H,EAAQ6E,GAAgBU,IAE9B,OACE,cAACjL,EAAA,EAAD,CAAKN,UAAWV,EAAQoM,KAAxB,SACE,eAACU,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,eAACtM,EAAA,EAAD,WACE,cAACI,EAAA,EAAD,CAAWH,UAAWV,EAAQwM,cAA9B,kBACA,cAAC3L,EAAA,EAAD,CAAWH,UAAWV,EAAQwM,cAA9B,qBACA,cAAC3L,EAAA,EAAD,CAAWH,UAAWV,EAAQwM,cAA9B,qBACA,cAAC3L,EAAA,EAAD,CAAWH,UAAWsM,IAAWhN,EAAQwM,cAAexM,EAAQuM,oBAGpE,cAACU,EAAA,EAAD,UACGvG,EAAMG,KAAI,SAAC9G,GAAD,OACT,cAAC,EAAD,CAA4BA,KAAMA,GAAfA,EAAKyB,e,yCCnC9B7C,GAAYC,aAAW,iBAAO,CAClCsO,OAAQ,CACNC,SAAU,IACV,sCAAuC,CACrCC,YAAaC,IAAOC,IAAI,KACxB,YAAaC,aAAc,EAAGF,IAAOC,IAAI,QAG7CE,KAAM,CACJC,SAAU,OAIDC,GAAY,WACvB,IAAM1N,EAAUrB,KACRsB,EAAWC,cAAXD,OACR,OACE,qCACE,eAACe,EAAA,EAAD,CAAKC,QAAQ,OAAb,UACE,cAAC,IAAD,CACE0M,YAAY,+BACZC,YAAY,SACZlN,UAAWV,EAAQkN,OACnBW,WAAY,CACVC,eACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,QAAzB,SACE,cAAC,KAAD,SAKR,qBAAKtN,UAAWV,EAAQwN,OACxB,cAAC,IAAD,CAAMS,GAAE,WAAMhO,EAAN,cAAR,SACE,cAACoB,EAAA,EAAD,CAAQ6M,UAAW,cAAC,KAAD,IAAaC,QAAQ,YAAYrP,MAAM,YAA1D,gCAKJ,cAAC,GAAD,Q,oBC3COsP,GAAa,WACxB,IAAMjO,EAAWC,cACTH,EAAWC,cAAXD,OAIR,OACE,eAACe,EAAA,EAAD,CACEqN,MAAO,CACLlB,SAAU,KAFd,UAKE,cAACmB,GAAA,EAAD,CAAYD,MAAO,CAAEE,aAAc,GAAnC,oEACA,cAAClN,EAAA,EAAD,CACEmN,WAAS,EACT1P,MAAM,YACNyC,KAAK,QACL4M,QAAQ,YACRxN,QAdmB,kBAAMR,EAAS,IAAD,OAAKF,EAAL,gBAejCiO,UAAW,cAACO,GAAA,EAAD,IANb,6B,mBCdAC,GAAezH,OAAO0H,OAAOC,IAAa/H,KAAI,SAACjG,GAAD,OAAUA,EAAK4F,iBAC7DqI,GAAkB5H,OAAO6H,KAAKF,IAO7B,SAASG,GAAmB9G,GACjC,IACM+G,EAAQ/G,EAAQ+G,MADA,oDAEtB,OAAKA,EACC,GAAN,OAAUA,EAAM,GAAhB,iBAAsBA,EAAM,IADT/G,EAId,SAASgH,GAAWhH,GACzB,GAAIA,EAAQ3E,SAAS,KAAM,CACzB,MAAmC2E,EAAQiH,MAAM,IAAK,GAAtD,oBAAOC,EAAP,KAAuBC,EAAvB,KACMnF,EAyBH,SAA2BrJ,GAChC,IAAMyG,EAAQqH,GAAaW,QAAQzO,EAAK4F,eACxC,GAAIa,GAAS,EACX,OAAOiI,SAAST,GAAgBxH,IAElC,OA9BkBkI,CAAkBJ,GAClC,GAAIlF,GAAW7D,SAAOC,MAAMC,UAAU8I,GACpC,MAAO,CACLnF,UACAhC,QAASmH,EACTI,YAAavH,GAInB,GAAI7B,SAAOC,MAAMC,UAAU2B,GACzB,MAAO,CAAEA,WAIN,SAASwH,GAAqBxF,EAAiBhC,GACpD,IAAMyH,EAKD,SAA0BzF,GAC/B,IAAM5C,EAAQ4C,EAAQ0F,WACtB,OAAQf,GAAuCvH,GAPhCuI,CAAiB3F,GAChC,GAAKyF,EACL,MAAM,GAAN,OAAUA,EAAV,YAAoBzH,GC1Bf,ICZH4H,GDYSC,GAAgB,WAA+C,IAAD,yDAAP,GAAO,IAA3CC,YAA2C,SACnEC,EAAW3E,KACXlL,EAAWC,cACjB,EAAmBF,cAAXD,EAAR,EAAQA,OAEF8E,EAAUwG,GAAgBI,IAC1BzF,EAAuBqF,GAAgBS,IACvCtF,EAAQ6E,GAAgBU,IAExBgE,EAAQC,uBAAY,WACxB,IAAMC,EAAclQ,GAAUgP,GAAWhP,GACzC,GAAKkQ,EAAL,CAIA,IAAMlI,EAAUkI,EAAYlI,QAC5B+H,EAAS/J,GAAW,CAAElB,UAASkD,kBAJ7B9H,EAAS,OAKV,CAAC6P,EAAU/P,EAAQE,EAAU4E,IAkBhC,OAhBAqL,qBAAU,WACR,IAAMD,EAAclQ,GAAUgP,GAAWhP,GACpCkQ,IAEDjK,IAAyBiK,EAAYlI,SACvC+H,EAAS9G,GAAwBiH,EAAYlI,UAE3CkI,EAAYlG,SAAWlF,IAAYoL,EAAYlG,SACjD+F,EAASpF,GAAWuF,EAAYlG,aAEjC,CAAC+F,EAAU/P,EAAQ8E,EAASmB,IAE/BkK,qBAAU,WACHL,GAAME,MACV,CAACD,EAAU7P,EAAUF,EAAQgQ,EAAOF,IAEhC,CAAEE,QAAOvJ,UErCZ/H,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCkE,UAAW,CACT5C,SAAU,EACV6C,QAASnE,EAAMG,QAAQ,GACvBiE,WAAY,eAEdC,OAAQ,CACNvP,QAAS,OACTwP,WAAY,SACZvP,eAAgB,cAyBLwP,GArBU,WACvB,IAAM1Q,EAAUrB,KAMhB,OAJAmR,KAEcvE,GAAgBU,IAEpBlL,OAEN,cAAC,IAAD,CAAaL,UAAWV,EAAQqQ,UAAhC,SACE,cAAC,GAAD,MAKJ,cAAC,IAAD,CAAa3P,UAAWsM,IAAWhN,EAAQqQ,UAAWrQ,EAAQwQ,QAA9D,SACE,cAAC,GAAD,O,UDrCFG,GAAY,CAAC,QAAS,WAE1B,SAASC,KAA2Q,OAA9PA,GAAW3J,OAAO4J,QAAU,SAAUtQ,GAAU,IAAK,IAAIuQ,EAAI,EAAGA,EAAIC,UAAUhQ,OAAQ+P,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc/J,OAAOiK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQ1Q,EAAO0Q,GAAOD,EAAOC,IAAY,OAAO1Q,GAAkBqQ,GAASS,MAAMC,KAAMP,WAEhT,SAASQ,GAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEvQ,EAEzF,SAAuCyQ,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DvQ,EAAS,GAAQkR,EAAaxK,OAAO6H,KAAKkC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW1Q,OAAQ+P,IAAOG,EAAMQ,EAAWX,GAAQU,EAASnC,QAAQ4B,IAAQ,IAAa1Q,EAAO0Q,GAAOD,EAAOC,IAAQ,OAAO1Q,EAFxMmR,CAA8BV,EAAQQ,GAAuB,GAAIvK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBX,GAAS,IAAKF,EAAI,EAAGA,EAAIc,EAAiB7Q,OAAQ+P,IAAOG,EAAMW,EAAiBd,GAAQU,EAASnC,QAAQ4B,IAAQ,GAAkBhK,OAAOiK,UAAUW,qBAAqBT,KAAKJ,EAAQC,KAAgB1Q,EAAO0Q,GAAOD,EAAOC,IAAU,OAAO1Q,EAMne,SAASuR,GAAWC,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQZ,GAAyBQ,EAAMpB,IAE3C,OAAoB,gBAAoB,MAAOC,GAAS,CACtD3R,MAAO,GACPC,OAAQ,GACRkT,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DzQ,GAAI0Q,GACHD,GAAS,KAAMpC,KAAUA,GAAqB,gBAAoB,OAAQ,CAC3E2C,SAAU,UACVC,SAAU,UACVC,EAAG,+rBACHL,KAAM,YAIV,IAAIM,GAA0B,aAAiBb,I,IAChC,I,mBE1BTnT,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJnL,QAAS,OACT2R,cAAe,MACf1R,eAAgB,SAChBmL,UAAWF,EAAMG,QAAQ,IAE3B7M,QAAS,CACP6Q,QAASnE,EAAMG,QAAQ,GACvBa,SAAU,KAEZb,QAAS,CACPiC,aAAcpC,EAAMG,QAAQ,IAE9BuG,aAAc,CACZxG,UAAWF,EAAMG,QAAQ,QAsDdwG,GAlDwB,WACrC,IAAM9S,EAAUrB,KACVwB,EAAWC,eC1BO,WACxB,IAAM4P,EAAW3E,KAEjB+E,qBAAU,YAEQ,IAAI2C,MACZC,KACLC,eACAC,MAAK,YAAkB,IAAfjJ,EAAc,EAAdA,QACDkJ,EAA2B,MAAXlJ,EAAkBqF,SAASrF,GAAW,KACvC,MAAjBkJ,IACFnD,EAASpF,GAAWuI,IAEpBnD,EAASjF,IAAyB,IAClC5C,QAAQiL,KAAK,oDAAqDD,OAGrEE,MAAMlL,QAAQmL,QAChB,CAACtD,IDUJuD,GAEA,IAAMtJ,EAAUsB,GAAgBI,IAEhC,EAA8B6H,mBAAS,IAAvC,oBAAOvL,EAAP,KAAgBwL,EAAhB,KACMtD,EAAclB,GAAWhH,GAEzByL,EAAY,uCAAG,4BAAAvN,EAAA,sDACfgK,IACIX,EAAcW,EAAYX,aAAeC,GAAqBxF,EAASkG,EAAYlI,SACzF9H,EAAS,IAAD,OAAKqP,GAAe,CAAErK,SAAS,KAHtB,2CAAH,qDAOlB,OACE,cAACnE,EAAA,EAAD,CAAKN,UAAWV,EAAQoM,KAAxB,SACE,eAACuH,GAAA,EAAD,CAAOjT,UAAWV,EAAQP,QAA1B,UACE,cAAC6O,GAAA,EAAD,CAAY5N,UAAWV,EAAQsM,QAAS6B,QAAQ,KAAhD,wCAGA,cAACG,GAAA,EAAD,CAAY5N,UAAWV,EAAQsM,QAAS6B,QAAQ,QAAhD,qFAIA,cAAC,IAAD,CACEzN,UAAWV,EAAQsM,QACnBsH,SAAU,SAACC,GAAD,OAAcJ,EAAWI,EAAItT,OAAOiD,QAC9C6E,MAAM,wBACNsF,YAAY,UAGd,cAACtM,EAAA,EAAD,CACEmN,WAAS,EACT1P,MAAM,YACNqP,QAAQ,YACRxN,QAAS+S,EACTI,UAAW3D,EACXjC,UAAW,cAAC,GAAD,IANb,yC,uFE3DD,SAAe6F,GAAtB,mC,8CAAO,WAAyB/O,GAAzB,iBAAAmB,EAAA,sEACC6N,KAAYC,aAAaC,MAD1B,cAGCC,EAAcH,KAAYI,eAAe,CAC7CC,OAAQ,CAACL,KAAYM,UAAWN,KAAYO,aAAcL,KAAaM,SACvE5T,KAAM,yBAGFmD,EAAS0Q,iBAAM,2BAChBzP,GADe,IAElBc,MAAO,CACL4O,OAAQ,MACRC,MAAOR,EACPS,QAAS,CAAErO,OAAO,OAbjB,kBAiBE,CACLoO,MAAOR,EACPpQ,WAnBG,4C,iDCOM8Q,GAAb,WAOE,WAAY7P,EAAwB8P,GAAmD,0BANtEC,YAMqE,OALrEC,YAKqE,OAJ9EC,gBAI8E,OAH9EnP,WAG8E,OAF9EgP,cAE8E,EACpFxD,KAAKyD,OAAS/P,EAAO+P,OACrBzD,KAAK0D,OAAShQ,EAAOgQ,OACrB1D,KAAKwD,SAAWA,EAVpB,+EAaE,WAAU7M,GAAV,uBAAA9B,EAAA,sEACuBmL,KAAK4D,gBAD5B,cACQnR,EADR,gBAEyBA,EAAOoR,IAAwC7D,KAAKyD,OAAQ,CACjF/M,OAAQ,CACN/H,OAAQ,WACRmJ,OAAQ,SACRnB,aANN,UAU+B,OARvBmN,EAFR,QAUezO,KAAK0O,OAVpB,iCAc+B/D,KAAKgE,kBAAkBrN,GAdtD,YAcUsN,EAdV,0CAemCjE,KAAKkE,IAAID,GAf5C,+DAkBIjE,KAAKmE,wBAAwBL,GACvB,IAAIM,MAAMN,EAASzO,KAAKgP,QAnBlC,WAsBQC,EAAOlS,KAAKC,MAAMyR,EAASzO,KAAKgP,SAElCE,GAAgBD,GAxBtB,kCAyB+BtE,KAAKgE,kBAAkBrN,GAzBtD,aAyBUsN,EAzBV,0CA0BmCjE,KAAKkE,IAAID,GA1B5C,iCA6BSK,GA7BT,iDAbF,6HA6CE,WAAwB3N,GAAxB,oBAAA9B,EAAA,sEACemP,aAAkBrN,GAAS,gBAAG7E,EAAH,EAAGA,OAAQ4E,EAAX,EAAWA,OAAX,OAAwB,EAAK8M,SAASgB,KAAK1S,EAAQ4E,MAD7F,mFA7CF,wFAiDE,WACE,IAAMA,EAASsJ,KAAK0D,OAAS,CAAEe,OAAQzE,KAAK0D,QAAW,GACvD,MAAO,CACLtP,IAAK4L,KAAKyD,OACV/M,YArDN,kEAyDE,2FACOsJ,KAAK2D,WADZ,gCAEoClB,GAAUzC,KAAK0E,uBAFnD,gBAEYjS,EAFZ,EAEYA,OAAQ4Q,EAFpB,EAEoBA,MAChBrD,KAAK2D,WAAalR,EAClBuN,KAAKxL,MAAQ6O,EAJjB,gCAMSrD,KAAK2D,YANd,gDAzDF,2FAkEE,SAAmCG,GACjC,GAAK9D,KAAKxL,MAAV,CACA,IAAMkC,EAAS,IAAIiO,gBAAgBb,EAASpQ,OAAOgD,QAC7CtC,EAAG,UAAM0P,EAASpQ,OAAOU,IAAtB,YAA6BsC,EAAO2H,YAC7C2B,KAAKxL,MAAMoQ,WAAWxQ,QAtE1B,KA0EMmQ,GAAkB,SAACL,GACvB,IAAMW,EAAQ,IAAIjU,aAAUsT,GACtBY,EAAanP,OAAO6H,KAAKqH,EAAMhP,WACrC,OACwB,IAAtBiP,EAAWrV,QACXqV,GACAC,GAAUb,EAAK,CAAC,sBAChBa,GAAUb,EAAK,CAAC,iCAIda,GAAY,SAACb,EAAqBc,GACtC,IAAMH,EAAQ,IAAIjU,aAAUsT,GACtBY,EAAanP,OAAO6H,KAAKqH,EAAMhP,WACrC,OAAOmP,EAAkBC,OAAM,SAACC,GAAD,OAASJ,EAAW9S,SAASkT,O,qBC/FxDC,GAAgB3S,qCAChB4S,GAAiB5S,qCACjB6S,GAAkB7S,qCAClB8S,GAAe9S,qCACf+S,GAAc/S,qCACdgT,GAAqBhT,qCACrBiT,GAAgBjT,qCAChBkT,GAAelT,qCAWrB,I,GAAMmT,IAA+C,sBAClDrT,GAAQK,QAAU,CACjB8Q,OAAQ,+BACRC,OAAQyB,KAHyC,gBAKlD7S,GAAQM,OAAS,CAChB6Q,OAAQ,sCACRC,OAAQyB,KAPyC,gBASlD7S,GAAQO,QAAU,CACjB4Q,OAAQ,uCACRC,OAAQyB,KAXyC,gBAalD7S,GAAQsT,mBAAqB,CAC5BnC,OAAQ,0CAdyC,gBAgBlDnR,GAAQY,QAAU,CACjBuQ,OAAQ,kCACRC,OAAQ2B,KAlByC,gBAoBlD/S,GAAQc,SAAW,CAClBqQ,OAAQ,8BACRC,OAAQ4B,KAtByC,gBAwBlDhT,GAAQW,OAAS,CAChBwQ,OAAQ,gCACRC,OAAQ0B,KA1ByC,gBA4BlD9S,GAAQU,QAAU,CACjByQ,OAAQ,8BACRC,OAAQ6B,KA9ByC,gBAgClDjT,GAAQQ,SAAW,CAClB2Q,OAAQ,0CACRC,OAAQ8B,KAlCyC,gBAoClDlT,GAAQS,KAAO,CACd0Q,OAAQ,+BACRC,OAAQgC,KAtCyC,gBAwClDpT,GAAQa,IAAM,CACbsQ,OAAQ,uCAzCyC,gBA2ClDnR,GAAQgB,MAAQ,CACfmQ,OAAQ,6CA5CyC,gBA8ClDnR,GAAQe,UAAY,CACnBoQ,OAAQ,+BACRC,OAAQ+B,KAhDyC,gBAkDlDnT,GAAQiB,OAAS,CAChBkQ,OAAQ,4CAnDyC,IAuDxCoC,GAAcC,MAAQ,SAACrS,GAClC,IAAMC,EAASiS,GAAelS,GACxBsS,EAASvS,GAAcC,GACvB+P,EAAW,IAAI1O,SAAOkR,UAAUC,sBAAsBF,EAAQtS,GACpE,OAAO,IAAI8P,GAAS7P,EAAQ8P,M,oBC/ExBnW,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJgB,YAAajB,EAAMqL,QAAQC,OAAOC,MAClCpH,QAASnE,EAAMG,QAAQ,EAAG,GAAK,EAAG,GAClC,WAAY,CACV7M,QAAS,SAGbkY,OAAQ,CACN,UAAW,CACTpH,WAAY,aAKLqH,GAAS,SAACzF,GAAwB,IAAD,EACtCnS,EAAUrB,KAEhB,OACE,cAAC,KAAD,yBACEkZ,kBAAgB,GACZ1F,GAFN,IAGEnS,QAAO,2BAAOmS,EAAMnS,SAAb,IAAsB2X,OAAQ3K,IAAWhN,EAAQ2X,OAAT,UAAiBxF,EAAMnS,eAAvB,aAAiB,EAAe2X,UAC/EjX,UAAWsM,IAAWhN,EAAQoM,KAAM+F,EAAMzR,e,8BCrBnCoX,GAAS,SAAC3F,GACrB,OAAO,cAACnR,EAAA,EAAD,aAAKC,QAAQ,OAAO2R,cAAc,UAAaT,KCWlDxT,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJnN,MAAO,kBACP8Y,WAAY5L,EAAMG,QAAQ,GAC1BmB,SAAU,GAEZuK,MAAO,CACL5K,YAAa,wBAEf6K,MAAO,CACL3H,QAASnE,EAAMG,QAAQ,IACvBI,SAAU,QAIRwL,IAAmD,sBACtDzZ,EAAgBuE,MAAQ,6BAD8B,gBAEtDvE,EAAgBiE,MAAQ,2BAF8B,gBAGtDjE,EAAgBgE,QAAU,QAH4B,gBAItDhE,EAAgBoE,IAAM,cAJgC,gBAKtDpE,EAAgBmE,KAAO,aAL+B,gBAMtDnE,EAAgB8D,QAAU,eAN4B,gBAOtD9D,EAAgB+D,OAAS,kBAP6B,gBAQtD/D,EAAgByE,MAAQ,SAR8B,gBAStDzE,EAAgBwE,YAAc,SATwB,gBAUtDxE,EAAgBsE,YAAc,SAVwB,IAazD,SAASoV,GAAsB9V,GAC7B,IAAMoB,EAAarB,EAAcC,GACjC,OAAO6V,GAAmBzU,GAGrB,I,GClDH2U,GAAO,GDkDEC,GAA2B,SAAC,GAMH,IALpCC,EAKmC,EALnCA,gBACAjW,EAImC,EAJnCA,MACAyR,EAGmC,EAHnCA,SACAF,EAEmC,EAFnCA,SACApQ,EACmC,EADnCA,MAEMxD,EAAUrB,KAEV4Z,EAAeC,GAAgBnW,EAAOmB,EAAM,IAAM,GAAI8U,GAC5D,EAA0C9E,mBAAS+E,GAAnD,oBAAOE,EAAP,KAAsBC,EAAtB,KAEAtI,qBAAU,WACRsI,EAAiBH,KAChB,CAACA,IAEJ,IAAII,GAAStW,GAAgD,OAAvCuW,GAAavW,EAAOoW,GAEpCI,EAAe,SAACC,GACpBJ,EAAiBI,GACjBlF,EAAS,CAACgF,GAAavW,EAAOyW,IAAe,MAG/C,OACE,cAACC,GAAA,EAAD,CACEf,OAAQW,EACR7E,SAAUA,EACVpT,UAAWV,EAAQoM,KACnByB,WAAY,CACVgK,kBAAkB,EAClBnX,UAAWsM,IAAWhN,EAAQiY,MAAT,gBAAmBjY,EAAQgY,OAASW,GAASF,EAAc1X,OAAS,KAE3FyC,MAAOiV,EACP9K,YAAawK,GAAsB9V,GACnCuR,SAAU,SAACC,GAAD,OAASgF,EAAahF,EAAItT,OAAOiD,WAKpCwV,GAAgC,SAAC,GAMR,IALpCV,EAKmC,EALnCA,gBACAjW,EAImC,EAJnCA,MACAmB,EAGmC,EAHnCA,MACAsQ,EAEmC,EAFnCA,SACAF,EACmC,EADnCA,SAEA,EAA0CJ,mBAAShQ,GAAnD,oBAAOiV,EAAP,KAAsBC,EAAtB,KAEA,OACE,cAAC,GAAD,CAAQjL,SAAU,EAAlB,SACG,sBACIjK,GADJ,CAEC,KACAqD,KAAI,SAACrD,EAAO6D,GAAR,OACJ,cAAC,GAAD,CACEiR,gBAAiBA,EACjBjW,MAAOA,EAEPmB,MAAO,CAACiV,EAAcpR,IACtByM,SAAUA,EACVF,SAAQ,+GAAE,SAACqF,GACT,IAAMC,EAAQ,YAAOT,GACrBS,EAAS7R,GAAS4R,EAAa,GAC/BP,EAAiBQ,GACjBtF,EAASsF,EAAS5Y,QAAO,SAAC6Y,GAAD,OAAOA,EAAEpY,OAAS,UAPxCsG,SAeTmR,GAAkB,SACtBnW,EACAmB,EACA8U,GAEA,IAAMc,EAAcC,iBAAOf,GAC3Bc,EAAYE,QAAUhB,EACtB,IAAMC,EAAelW,EAAQkX,GAAalX,EAAOmB,GAASA,EAQ1D,OANA4M,qBAAU,WACJ/N,GACFkX,GAAalX,EAAOmB,EAAO4V,EAAYE,WAExC,CAACjX,EAAOmB,IAEJ+U,GAGHK,GAAe,SAACvW,EAAsCmB,GAC1D,IAAKnB,EAAO,OAAOmB,EAEnB,IACE,OAAO4C,SAAOC,MAAMmT,gBAAgBC,OAAO,CAACpX,GAAQ,CAACkB,EAAiBlB,EAAOmB,KAC7E,MAAO6G,IACP,OAAO,OAILkP,GAAe,SAAClX,EAA+BmB,EAAe8U,GAClE,IAAK9U,EAAO,OAAOA,EAEnB,IAAMkW,EAAkBrX,EAAMsX,OAAO,QAC/BlW,EAAarB,EAAcC,GACjC,IACE,IAAMuX,EAAUxT,SAAOC,MAAMmT,gBAAgBK,OAAO,CAACH,GAAkBlW,GAAO,GAC9E,OAAOC,IAAehF,EAAgBuE,OAASS,IAAehF,EAAgBiE,MAC1EgB,KAAKoW,UAAUF,GACfA,EAAQjK,WACZ,MAAOtF,IAGP,OAFAlC,QAAQ6P,MAAM,uBAAwB3N,GAAK,CAAEhI,QAAOmB,UAChD8U,GAAiBA,EAAgBjO,IAC9B7G,I,qBE1JL7E,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCwL,OAAQ,CACNvK,YAAa,yBACbnO,MAAO,kBACPgC,QAAS,eACTyL,SAAU,GACV4D,QAASnE,EAAMG,QAAQ,IACvBxN,MAAO,oBAETib,WAAY,CACVjb,MAAO,yBAETkb,OAAQ,CACNlb,MAAO,UACPsO,YAAa,UACb9N,QAAS,GACTgR,QAASnE,EAAMG,QAAQ,IAAM,IAC7BI,SAAU,GACV,WAAY,CACVjN,QAAS,SAGbwa,KAAM,CACJvN,SAAU,GACVwN,YAAa/N,EAAMG,QAAQ,KAE7B6N,UAAW,CACTrb,MAAO,UACPwR,QAASnE,EAAMG,QAAQ,KACvByL,WAAY5L,EAAMG,QAAQ,GAC1BjN,OAAQ,qCACRL,aAAc,OAILob,IAA+C,sBACzD7b,EAAgB8b,SAAW,eAD8B,gBAEzD9b,EAAgB+b,OAAS,aAFgC,gBAGzD/b,EAAgBgc,aAAe,mBAH0B,gBAIzDhc,EAAgBic,UAAY,gBAJ6B,IAkB/CC,GAAsB,SAAC,GAOH,IAN/BpT,EAM8B,EAN9BA,MACAhF,EAK8B,EAL9BA,MACAiF,EAI8B,EAJ9BA,UACAwM,EAG8B,EAH9BA,SACAF,EAE8B,EAF9BA,SACA0E,EAC8B,EAD9BA,gBAEMtY,EAAUrB,KACV8E,EAAarB,EAAcC,GAC3B7B,EvBxBD,SAA0BiD,GAE/B,OAAIA,IAAehF,EAAgBuE,MAAcxE,EAAckc,UAC3DjX,IAAehF,EAAgByE,OAASO,IAAehF,EAAgB+D,OAAehE,EAAcmc,QACjGnc,EAAcoc,OuBoBRC,CAAiBpX,GACxBqX,EvBrCD,SAA8Bta,GACnC,OAAQA,GACN,KAAK/B,EAAgBmE,KACnB,MAAO,CAACrE,EAAgB8b,SAAU9b,EAAgB+b,OAAQ/b,EAAgBic,UAAWjc,EAAgBgc,cAEvG,KAAK9b,EAAgBgE,QACnB,MAAO,CAAClE,EAAgB8b,UAG5B,MAAO,CAAC9b,EAAgB8b,SAAU9b,EAAgB+b,QuB4BlCS,CAAqBtX,GAE/BoV,EAAe,SAACvR,GAAD,OAAgCsM,EAAS,CAAEvM,QAAO7G,OAAM8G,YAAW9D,MAAO,CAAC,OAGhG,IAAK8D,EAAW,CAQd,OACE,eAACjG,EAAA,EAAD,CAAQ8M,QAAQ,WAAWzN,UAAWV,EAAQga,OAAQrZ,QARpC,WACd8C,IAAehF,EAAgBgE,QAInCoW,EAAaiC,EAAQ,IAHnBlH,EAAS,CAAEvM,QAAO7G,OAAM8G,UAAW/I,EAAgB8b,SAAU7W,MAAO,CAAC/B,EAAauZ,UAMpF,UACE,cAAC,KAAD,CAAKta,UAAWV,EAAQia,OAD1B,qBAOJ,IAAMgB,EACJ,cAAC3Z,EAAA,EAAD,CAAY4Z,eAAa,EAACxa,UAAWV,EAAQma,UAAW5Y,KAAK,QAAQuS,SAAUA,EAAUnT,QAnBtE,kBAAMiT,OAASuH,IAmBlC,SACE,cAAC,KAAD,CAAYzO,SAAS,cAIzB,GAAIjJ,IAAehF,EAAgBgE,QAAS,CAC1C,IAAM2Y,EAAsB,SAAC5X,GAAD,OAC1BoQ,EAAS,CAAEvM,QAAO7G,OAAM8G,UAAW/I,EAAgB8b,SAAU7W,MAAO,CAACA,MACvE,OACE,qCACE,eAAC,GAAD,CACExD,QAAS,CAAEia,KAAMja,EAAQ+Z,YACzBrZ,UAAWV,EAAQ2X,OACnB7D,SAAUA,EACVtQ,MAAO8D,EAAU9D,MAAM,GACvBoQ,SAAU,SAACC,GAAD,OAASuH,EAAoBvH,EAAItT,OAAOiD,QALpD,UAOE,cAAC6X,GAAA,EAAD,CAAU7X,MAAO/B,EAAauZ,MAA9B,sBACA,cAACK,GAAA,EAAD,CAAU7X,MAAO/B,EAAa6Z,KAA9B,wBAEDL,KAKP,IAAMM,EAAoB,SAAC/X,GAAD,OAAqBoQ,EAAS,2BAAKtM,GAAN,IAAiB9D,YAExE,OACE,qCACE,cAAC,GAAD,CACExD,QAAS,CAAEia,KAAMja,EAAQ+Z,YACzBrZ,UAAWV,EAAQ2X,OACnB7D,SAAUA,EACVtQ,MAAO8D,EAAUA,UACjBsM,SAAU,SAACC,GAAD,OAASgF,EAAahF,EAAItT,OAAOiD,QAL7C,SAOGsX,EAAQjU,KAAI,SAAC2U,GAAD,OACX,cAACH,GAAA,EAAD,CAAuB7X,MAAOgY,EAA9B,SACGpB,GAAeoB,IADHA,QAKlBlU,GAAaA,EAAUA,YAAc/I,EAAgB+b,QACpD,cAAC,GAAD,CACEhC,gBAAiBA,EACjBjW,MAAOA,EACPmB,MAAO8D,EAAU9D,MACjBsQ,SAAUA,EACVF,SAAU2H,IAGbjU,GAAaA,EAAUA,YAAc/I,EAAgB+b,QACpD,cAAC,GAAD,CACEhC,gBAAiBA,EACjBjW,MAAOA,EACPmB,MAAO8D,EAAU9D,MACjBsQ,SAAUA,EACVF,SAAU2H,IAGbN,M,UC5IDtc,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCsP,SAAU,CACRnL,QAASnE,EAAMG,QAAQ,IAEzBoP,IAAK,CACHza,QAAS,OACT2R,cAAe,MACfnC,WAAY,QACZpE,UAAWF,EAAMG,QAAQ,IAE3BqP,QAAS,CACP1a,QAAS,OACT2R,cAAe,MACfnC,WAAY,UAEdjQ,KAAM,CACJ1B,MAAO,wBACPiZ,WAAY5L,EAAMG,QAAQ,GAC1BsP,aAAczP,EAAMG,QAAQ,GAC5BuP,SAAU,SACVC,WAAY,SACZC,aAAc,WACd5O,SAAU,SAID6O,GAAuB,SAAC,GAA6E,IAA3E/Z,EAA0E,EAA1EA,KAAMwF,EAAoE,EAApEA,eAAgBqM,EAAoD,EAApDA,SAAUF,EAA0C,EAA1CA,SAC/D5T,EAAUrB,KAChB,EAA0C6U,oBAAS,GAAnD,oBAAOyI,EAAP,KAAsBC,EAAtB,KAEMC,EAAwB,SAAC9U,EAAe7D,GAC5C,IAAM4Y,EAAgB3U,EAAeO,OAAO1H,QAAO,SAAC+B,GAAD,OAAWA,EAAMgF,QAAUA,KACjE,MAAT7D,GACF4Y,EAAcC,KAAK7Y,GAErB,IAAMhD,EAAsB4b,EAAcrb,OAASrC,EAAcoD,OAASpD,EAAckJ,WACxFgM,EAAS,2BAAKnM,GAAN,IAAsBjH,OAAMwH,OAAQoU,MAGxCE,EAAW7U,EAAeO,OAAOuU,QAAO,SAACC,EAAKna,GAAN,OAAgBoa,KAAKD,IAAIA,EAAKna,EAAMgF,UAAS,GACrFqV,EAAUC,MAAMxS,KAAK,CAAEpJ,OAAQub,EAAW,IAAK,SAACM,EAAG9L,GAAJ,OAAUA,KAK/D,MAAuB,kBAAT7O,GAHY,SAACA,EAAwBwF,GAAzB,OACxBxF,EAAK4a,OAAO9b,QAAU0G,EAAeO,OAAOuU,QAAO,SAACO,EAAKza,GAAN,OAAiBya,EAAMza,EAAMgF,MAAQhF,EAAMgF,MAAQyV,IAAM,GAE3EC,CAAkB9a,EAAMwF,IAAmBwU,EAC5E,mCACGS,EAAQ7V,KAAI,SAACQ,GACZ,IAAMhF,EAAQoF,EAAeO,OAAOgV,MAAK,SAACC,GAAD,OAAOA,EAAE5V,QAAUA,KAC5D,OACE,cAAC,WAAD,UACGhF,EACC,sBAAK3B,UAAWV,EAAQ0b,IAAxB,UACE,sBAAKhb,UAAWV,EAAQ2b,QAAxB,UACE,cAACuB,GAAA,EAAD,IACA,eAAC5O,GAAA,EAAD,CAAYH,QAAQ,QAApB,cAA8B9G,EAA9B,OACA,eAACiH,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQQ,KAA/C,cACI6B,EAAM7B,KADV,UAIF,cAAC,GAAD,CACEsT,SAAUA,EACVzR,MAAO,KACPgF,MAAOA,EACPC,UAAWjF,EACXuR,SAAU,SAACuJ,GAAD,OAAuBhB,EAAsB9U,EAAO8V,IAC9D7E,gBAAiB,kBAAM4D,GAAiB,SAI5C,sBAAKxb,UAAWV,EAAQ0b,IAAxB,UACE,sBAAKhb,UAAWV,EAAQ2b,QAAxB,UACE,cAACuB,GAAA,EAAD,IACA,eAAC5O,GAAA,EAAD,CAAYH,QAAQ,QAApB,cAA8B9G,EAA9B,OACA,cAACiH,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQQ,KAA/C,6BAIF,cAAC,GAAD,CACEsT,UAAQ,EACRzR,MAAO,KACPgF,MAAOA,EACPuM,SAAU,SAACuJ,GAAD,OAAuBhB,EAAsB9U,EAAO8V,IAC9D7E,gBAAiB,kBAAM4D,GAAiB,UAjCjC7U,QA0CrB,mCACGpF,EAAK4a,OAAOhW,KAAI,SAACxE,EAAOgF,GAAR,OACf,sBAAiB3G,UAAWV,EAAQ0b,IAApC,UACE,sBAAKhb,UAAWV,EAAQ2b,QAAxB,UACE,cAACuB,GAAA,EAAD,IACA,cAAC5O,GAAA,EAAD,CAAYH,QAAQ,QAApB,SAA6B9L,EAAMzB,OACnC,eAAC0N,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQQ,KAA/C,cACI6B,EAAM7B,KADV,UAIF,cAAC,GAAD,CACEsT,SAAUA,EACVzR,MAAOA,EACPgF,MAAOA,EACPC,UAAWG,EAAeO,OAAOgV,MAAK,SAAC3a,GAAD,OAAgB,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAOgF,SAAUA,KAClEuM,SAAU,SAACtM,GAAD,OAAe6U,EAAsB9U,EAAOC,IACtDgR,gBAAiB,kBAAM4D,GAAiB,QAdlC7U,S,UF3Gd,GAAY,CAAC,QAAS,WAE1B,SAAS,KAA2Q,OAA9P,GAAWJ,OAAO4J,QAAU,SAAUtQ,GAAU,IAAK,IAAIuQ,EAAI,EAAGA,EAAIC,UAAUhQ,OAAQ+P,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc/J,OAAOiK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQ1Q,EAAO0Q,GAAOD,EAAOC,IAAY,OAAO1Q,GAAkB,GAAS8Q,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEvQ,EAEzF,SAAuCyQ,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DvQ,EAAS,GAAQkR,EAAaxK,OAAO6H,KAAKkC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW1Q,OAAQ+P,IAAOG,EAAMQ,EAAWX,GAAQU,EAASnC,QAAQ4B,IAAQ,IAAa1Q,EAAO0Q,GAAOD,EAAOC,IAAQ,OAAO1Q,EAFxM,CAA8ByQ,EAAQQ,GAAuB,GAAIvK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBX,GAAS,IAAKF,EAAI,EAAGA,EAAIc,EAAiB7Q,OAAQ+P,IAAOG,EAAMW,EAAiBd,GAAQU,EAASnC,QAAQ4B,IAAQ,GAAkBhK,OAAOiK,UAAUW,qBAAqBT,KAAKJ,EAAQC,KAAgB1Q,EAAO0Q,GAAOD,EAAOC,IAAU,OAAO1Q,EAMne,SAAS6c,GAAmBrL,EAAMC,GAChC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtD9S,MAAO,GACPC,OAAQ,GACRkT,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DzQ,GAAI0Q,GACHD,GAAS,KAAMmG,KAAUA,GAAqB,gBAAoB,OAAQ,CAC3EvW,EAAG,GACHwb,EAAG,GACHpe,MAAO,GACPC,OAAQ,GACRoe,OAAQ,WACL,KAAU,GAAqB,gBAAoB,OAAQ,CAC9D5K,EAAG,kBACH4K,OAAQ,QACRC,YAAa,EACbC,eAAgB,YAIpB,IGzCI,GHyCA,GAA0B,aAAiBJ,IGvC3C,IHwCW,IGxCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWnW,OAAO4J,QAAU,SAAUtQ,GAAU,IAAK,IAAIuQ,EAAI,EAAGA,EAAIC,UAAUhQ,OAAQ+P,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc/J,OAAOiK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQ1Q,EAAO0Q,GAAOD,EAAOC,IAAY,OAAO1Q,GAAkB,GAAS8Q,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEvQ,EAEzF,SAAuCyQ,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DvQ,EAAS,GAAQkR,EAAaxK,OAAO6H,KAAKkC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW1Q,OAAQ+P,IAAOG,EAAMQ,EAAWX,GAAQU,EAASnC,QAAQ4B,IAAQ,IAAa1Q,EAAO0Q,GAAOD,EAAOC,IAAQ,OAAO1Q,EAFxM,CAA8ByQ,EAAQQ,GAAuB,GAAIvK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBX,GAAS,IAAKF,EAAI,EAAGA,EAAIc,EAAiB7Q,OAAQ+P,IAAOG,EAAMW,EAAiBd,GAAQU,EAASnC,QAAQ4B,IAAQ,GAAkBhK,OAAOiK,UAAUW,qBAAqBT,KAAKJ,EAAQC,KAAgB1Q,EAAO0Q,GAAOD,EAAOC,IAAU,OAAO1Q,EAMne,SAASkd,GAAqB1L,EAAMC,GAClC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtD9S,MAAO,GACPC,OAAQ,GACRkT,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DzQ,GAAI0Q,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EpQ,EAAG,GACHwb,EAAG,GACHpe,MAAO,GACPC,OAAQ,GACRoe,OAAQ,YAIZ,ICpCI,GAAOI,GDoCP,GAA0B,aAAiBD,IClC3C,IDmCW,ICnCC,CAAC,QAAS,YAE1B,SAAS,KAA2Q,OAA9P,GAAWxW,OAAO4J,QAAU,SAAUtQ,GAAU,IAAK,IAAIuQ,EAAI,EAAGA,EAAIC,UAAUhQ,OAAQ+P,IAAK,CAAE,IAAIE,EAASD,UAAUD,GAAI,IAAK,IAAIG,KAAOD,EAAc/J,OAAOiK,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQ1Q,EAAO0Q,GAAOD,EAAOC,IAAY,OAAO1Q,GAAkB,GAAS8Q,MAAMC,KAAMP,WAEhT,SAAS,GAAyBC,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKH,EAAnEvQ,EAEzF,SAAuCyQ,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKH,EAA5DvQ,EAAS,GAAQkR,EAAaxK,OAAO6H,KAAKkC,GAAqB,IAAKF,EAAI,EAAGA,EAAIW,EAAW1Q,OAAQ+P,IAAOG,EAAMQ,EAAWX,GAAQU,EAASnC,QAAQ4B,IAAQ,IAAa1Q,EAAO0Q,GAAOD,EAAOC,IAAQ,OAAO1Q,EAFxM,CAA8ByQ,EAAQQ,GAAuB,GAAIvK,OAAO0K,sBAAuB,CAAE,IAAIC,EAAmB3K,OAAO0K,sBAAsBX,GAAS,IAAKF,EAAI,EAAGA,EAAIc,EAAiB7Q,OAAQ+P,IAAOG,EAAMW,EAAiBd,GAAQU,EAASnC,QAAQ4B,IAAQ,GAAkBhK,OAAOiK,UAAUW,qBAAqBT,KAAKJ,EAAQC,KAAgB1Q,EAAO0Q,GAAOD,EAAOC,IAAU,OAAO1Q,EAMne,SAASod,GAAyB5L,EAAMC,GACtC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtD9S,MAAO,GACPC,OAAQ,GACRkT,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DzQ,GAAI0Q,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EpQ,EAAG,GACHwb,EAAG,GACHpe,MAAO,GACPC,OAAQ,GACRoe,OAAQ,WACLI,KAAWA,GAAsB,gBAAoB,OAAQ,CAChE7b,EAAG,EACHwb,EAAG,IACHpe,MAAO,GACPC,OAAQ,GACRoe,OAAQ,YAIZ,IAAI,GAA0B,aAAiBK,ICpCzChf,IDqCS,ICrCGC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJkE,QAAS,EACTlR,gBAAiB,yBACjBJ,aAAc,EACd4e,OAAQzR,EAAMG,QAAQ,EAAG,EAAG,EAAG,SAItBuR,GAAW,SAAC,GAAiC,IAA5B1L,EAA2B,oBACjDnS,EAAUrB,KAEhB,OACE,cAAC,KAAD,aACEmf,oBAAkB,EAClB5C,eAAa,EACb6C,oBAAkB,EAClB9D,KAAM,cAAC,GAAD,IACN+D,YAAa,cAAC,GAAD,IACbC,kBAAmB,cAAC,GAAD,IACnBje,QAAS,CAAEoM,KAAMpM,EAAQoM,OACrB+F,KChBG+L,GAAmB,SAAC,GAA0C,IAAxCtK,EAAuC,EAAvCA,SAAUpQ,EAA6B,EAA7BA,MAC3C,GADwE,EAAtBsQ,SACTqK,GAAY3a,IAA7C4a,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,kBACnB,OACE,qCACE,cAACC,GAAA,EAAD,CACEjW,MAAM,sBACNkW,QACE,cAAC,GAAD,CACEC,QAASJ,EACTzd,QAAS,SAAC8d,GAAD,OAAQ7K,EAAS8K,GAAY,CAAEL,oBAAmBD,WAAYA,UAK7E,cAACE,GAAA,EAAD,CACEjW,MAAM,sBACNkW,QACE,cAAC,GAAD,CACEC,QAASH,EACT1d,QAAS,SAAC8d,GAAD,OAAQ7K,EAAS8K,GAAY,CAAEN,YAAWC,mBAAoBA,cAQ7EF,GAAc,SAAC3a,GACnB,IAAI4a,GAAY,EACZC,GAAoB,EASxB,OARI7a,IAAUnF,EAAgBiK,MAC5B8V,GAAY,EACZC,GAAoB,GACX7a,IAAUnF,EAAgBkK,KACnC6V,GAAY,EACH5a,IAAUnF,EAAgBmK,gBACnC6V,GAAoB,GAEf,CAAED,YAAWC,sBAGhBK,GAAc,SAACC,GACnB,OAAIA,EAAMP,WAAaO,EAAMN,kBAA0BhgB,EAAgBiK,KACnEqW,EAAMP,UAAkB/f,EAAgBkK,KACxCoW,EAAMN,kBAA0BhgB,EAAgBmK,cAC7CnK,EAAgBoK,MC7CnB9J,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvC1M,QAAS,CACPwB,QAAS,OACT2R,cAAe,SACfgL,OAAQzR,EAAMG,QAAQ,EAAG,EAAG,EAAG,IAEjCsS,QAAS,CACPvS,UAAWF,EAAMG,QAAQ,GACzBgE,QAASnE,EAAMG,QAAQ,EAAG,IAE5BuS,QAAS,CACP5d,QAAS,OACTwP,WAAY,SACZ5Q,OAAQ,UACRif,UAAW,IAEbC,MAAO,CACL7f,OAAQ,GACRmT,KAAM,UACN2M,WAAY,8BACZ/f,MAAO,IAETggB,OAAQ,CACNC,UAAW,kBAEbte,KAAM,CACJue,WAAY,wBACZzS,SAAU,GACV5N,MAAO,mBACPiZ,WAAY5L,EAAMG,QAAQ,KAE5B9L,KAAM,CACJkM,SAAU,GACVyS,WAAY,wBACZrgB,MAAO,wBACPiZ,WAAY5L,EAAMG,QAAQ,GAC1BsP,aAAczP,EAAMG,QAAQ,GAC5BuP,SAAU,SACVC,WAAY,SACZC,aAAc,WACd5O,SAAU,KAEZiS,OAAQ,CACNne,QAAS,QAEX0W,OAAQ,CACNiG,OAAQzR,EAAMG,QAAQ,EAAG,EAAG,EAAG,QAgB5B,IAAM+S,GAAiB,SAAC,GAAiE,IAA/Dpd,EAA8D,EAA9DA,KAAMqd,EAAwD,EAAxDA,mBAAoB1L,EAAoC,EAApCA,SACnD5T,EAAUrB,KAEhB,EAAwB6U,oBAAS,GAAjC,oBAAO+L,EAAP,KAAaC,EAAb,KAEMC,EAA+B,kBAATxd,EAAoBA,EAAOA,EAAKrB,KACtD8e,EAA6B,kBAATzd,EAAoB,4BAXhD,SAA6BA,GAC3B,OAAKA,EAAK4a,OAAO9b,OACV,IAAMkB,EAAK4a,OAAOhW,KAAI,SAACoR,GAAD,OAAWA,EAAM0B,OAAO,WAASgG,KAAK,MAAQ,IAD3C,KAU4CC,CAAoB3d,GAC1FyF,EAA0B,kBAATzF,EAAoBA,EAAOC,IAAUC,WAAWF,GAejE4d,EAAsB,SAACrB,GAC3B,IAAMhe,EACJge,IAA6B,OAAlBc,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB9e,QAAS9B,EAAcoD,OAASpD,EAAckJ,WAAalJ,EAAcqD,QAE1G,OAAO6R,EAAS,2BACX0L,GADU,IAEbtX,OAAQ,GACRN,UACAlH,WAMJ,OACE,eAAC,IAAD,CAAaoN,YAAY,SAASkS,UAAW,EAAGpf,UAAWV,EAAQ4e,QAAnE,UACE,sBAAKle,UAAWV,EAAQ6e,QAASle,QAJlB,kBAAM6e,GAASD,IAI9B,UACE,cAAC,GAAD,CACEf,SAA2B,OAAlBc,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB9e,QAAS9B,EAAckJ,WACpDmY,eAAiC,OAAlBT,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB9e,QAAS9B,EAAcoD,OAC1D8R,SAAU,SAACC,GAAD,OAASgM,EAAoBhM,EAAItT,OAAOie,UAClD7d,QAAS,SAACkT,GAAD,OAASA,EAAImM,qBAExB,cAAC1R,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQY,KAA/C,SACG6e,IAEH,cAACnR,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQQ,KAA/C,SACGkf,IAEH,cAAC1e,EAAA,EAAD,CAAKG,GAAI,CAAEsM,SAAU,KACrB,cAACwS,GAAA,EAAD,CAAwBvf,UAAWsM,IAAWhN,EAAQ+e,MAAT,gBAAmB/e,EAAQif,OAASM,SAGnF,sBAAK7e,UAAWsM,IAAWhN,EAAQP,QAAT,gBAAqBO,EAAQof,QAAUG,IAAjE,UACE,qBAAK7e,UAAWV,EAAQ2X,OAAxB,SACE,cAAC,GAAD,CACEnU,MAAO8b,EAAmBzX,gBAC1B+L,SAlDoB,SAAC4H,GAC7B,IAAIhb,EAAO8e,EAAmB9e,KAC1BA,IAAS9B,EAAcqD,SAAWyZ,IAAWnd,EAAgBoK,OAC/DjI,EAAO9B,EAAckJ,YAEvBgM,EAAS,2BACJ0L,GADG,IAEN5X,UACAG,gBAAiB2T,EACjBhb,WA0CMsT,SAAUwL,EAAmB9e,OAAS9B,EAAcqD,YAIxD,cAAC,GAAD,CACE+R,UAA4B,OAAlBwL,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB9e,QAAS9B,EAAckJ,WACrD3F,KAAMA,EACNwF,eAAgB6X,EAChB1L,SAAUA,W,kDCzHdjV,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJkE,QAASnE,EAAMG,QAAQ,GACvBsP,aAAa,QAAD,OAAUzP,EAAMG,QAAQ,GAAxB,aACZ4T,UAAW,sBACXC,UAAW,OACXC,gBAAiB,SACjB,uBAAwB,CACtBnhB,MAAO,QAGXohB,aAAc,CACZC,cAAe,OACfhhB,QAAS,GACT,WAAY,CACVG,QAAS,KACTuO,SAAU,WACVuS,IAAK,EACLC,KAAM,EACNvhB,MAAO,OACPC,OAAQ,OACRE,gBAAiB,qBAIrB6S,MAAO,CACLhR,QAAS,OACTwP,WAAY,SACZqO,UAAW,IAEb2B,aAAc,CACZxf,QAAS,OACTwP,WAAY,SACZ5Q,OAAQ,UACRif,UAAW,IAEb7E,KAAM,CACJ/a,OAAQ,GACRmT,KAAM,UACNvT,MAAO,UACPkgB,WAAY,8BACZ/f,MAAO,IAETggB,OAAQ,CACNC,UAAW,sBAIFwB,GAAqB,SAAC,GAOH,IAN9BC,EAM6B,EAN7BA,MACA3Z,EAK6B,EAL7BA,WACA4M,EAI6B,EAJ7BA,SACAgN,EAG6B,EAH7BA,SACAC,EAE6B,EAF7BA,WACAlZ,EAC6B,EAD7BA,WAEM3H,EAAUrB,KAEhB,EAAkC6U,mBAAiB,IAAnD,oBAAOsN,EAAP,KAAkBC,EAAlB,KACA,EAA4CvN,oBAAS,GAArD,oBAAOwN,EAAP,KAAuBC,EAAvB,KACA,EAAkDzN,oBAAS,GAA3D,oBAAO0N,EAAP,KAA0BC,EAA1B,KAEIC,EAAgC,GACpC,GAAIN,EAAUO,OACZ,IACED,EAAgB1d,KAAKC,MAAMmd,GAC3B,MAAOQ,GACPnZ,QAAQmL,KAAK,qBAAsBgO,GAIvC,IAKMC,EAAuB,SAAC5H,GAAD,OAAoB,SAAClS,GAChDmM,EAAS,2BACJ5M,GADG,mBAEL2S,EAASlS,OAIR+Z,EAAoBva,OAAO6H,KAAK9H,GAAY1G,QAChD,SAAC2Q,GAAD,OAAU0P,EAAM/e,MAAK,SAAC6f,GAAD,OAAUzf,EAAmByf,KAAUxQ,QAGxDyQ,EAAWR,GAAuC,IAAjBP,EAAM5f,SAAiB8f,EAE9D,OACE,qCACE,cAAC,IAAD,CAAajT,YAAY,SAASlN,UAAWsM,IAAWhN,EAAQoM,KAAT,gBAAkBpM,EAAQqgB,aAAe1Y,IAAhG,SACE,eAACga,GAAA,EAAD,CAAMtR,WAAS,EAACuR,UAAU,SAAStV,QAAS,EAA5C,UACE,cAACqV,GAAA,EAAD,CAAMF,MAAI,EAAV,SACId,EAAM5f,QAAWigB,EAejB,sBAAKtgB,UAAWV,EAAQygB,aAAc9f,QAAS,kBAAMwgB,GAAsBO,IAA3E,UACGV,EACC,cAACa,GAAA,EAAD,CAAcnhB,UAAWV,EAAQia,KAAM5L,MAAO,CAAE6L,YAAa,KAE7D,cAAC4H,GAAA,EAAD,CAAOphB,UAAWV,EAAQia,KAAM5L,MAAO,CAAE6L,YAAa,KAExD,cAAC5L,GAAA,EAAD,UAAa0S,EAAiB,mBAAqB,0BACnD,cAAChgB,EAAA,EAAD,CAAKG,GAAI,CAAEsM,SAAU,MACnBiU,GACA,cAACpT,GAAA,EAAD,CAAYH,QAAQ,QAAQE,MAAO,CAAE6L,YAAa,GAAlD,uCAIF,cAAC+F,GAAA,EAAD,CAAwBvf,UAAWsM,IAAWhN,EAAQia,KAAT,gBAAkBja,EAAQif,OAASyC,SA3BlF,qBAAKhhB,UAAWV,EAAQiS,MAAxB,SACG4O,EACC,qCACE,cAACkB,GAAA,EAAD,CAAkBxgB,KAAM,GAAIb,UAAWV,EAAQia,KAAM5L,MAAO,CAAE6L,YAAa,KAC3E,cAAC5L,GAAA,EAAD,0CAGF,qCACE,cAAC0T,GAAA,EAAD,CAAiBthB,UAAWV,EAAQia,KAAM5L,MAAO,CAAE6L,YAAa,KAChE,cAAC5L,GAAA,EAAD,0DAsBToT,GACC,qCACE,cAACC,GAAA,EAAD,CAAMF,MAAI,EAAV,SACE,cAAC,IAAD,CACE5T,WAAY,CAAEQ,MAAO,CAAEiC,QAAS,KAChCsD,SAAU,SAACC,GAAD,OAASkN,EAAalN,EAAItT,OAAOiD,QAC3C6E,MAAM,aACN7E,MAAOsd,EACPnT,YAAY,yBACZsU,QAAS,EACTC,WAAS,MAGb,cAACP,GAAA,EAAD,CAAMF,MAAI,EAAV,SACE,cAACpgB,EAAA,EAAD,CACEvC,MAAM,YACNqP,QAAQ,YACRxN,QAxEQ,WACtBigB,EAASQ,GACTH,EAAkBG,EAAcrgB,OAAS,IAuE3B+S,UAAWsN,EAAcrgB,QAAU+f,EAAU/f,OAAS,EAJxD,yCAaV,cAACC,EAAA,EAAD,CAAKmhB,GAAI,EAAT,SACE,eAAC,IAAD,CAAavU,YAAY,SAASlN,UAAWsM,IAAWhN,EAAQoM,KAAT,gBAAkBpM,EAAQqgB,aAAe1Y,IAAhG,UAEGgZ,EAAM9Z,KAAI,SAAC5E,GACV,IAAMyF,EAAU1F,EAAmBC,GAC7BwF,EAAiBT,EAAWU,IAAX,2BAA4B0a,IAA5B,IAA+C1a,YACtE,OACE,cAAC,GAAD,CAEEzF,KAAMA,EACNqd,mBAAoB7X,EACpBmM,SAAU2N,EAAqB7Z,IAH1BA,MASV8Z,EAAkB3a,KAAI,SAACa,GACtB,IAAMD,EAAiBT,EAAWU,GAClC,OACE,cAAC,GAAD,CAEEzF,KAAMyF,EACN4X,mBAAoB7X,EACpBmM,SAAU2N,EAAqB7Z,IAH1BA,eAaf0a,GAAoB,CACxB5hB,KAAM9B,EAAcqD,QACpB8F,gBAAiBxJ,EAAgBoK,KACjCT,OAAQ,I,oBChNJrJ,GAAYC,aAAW,iBAAO,CAClCyjB,cAAe,CACb5R,WAAY,SACZ3R,MAAO,mBACPe,OAAQ,UACRoB,QAAS,cACTyL,SAAU,GACV4V,eAAgB,kBAChBC,oBAAqB,MACrB,UAAW,CACTD,eAAgB,6BAqBPE,GAXI,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,KAAMxI,EAAkB,EAAlBA,KACpBja,EAAUrB,KAEhB,OACE,eAACqC,EAAA,EAAD,CAAKN,UAAWV,EAAQqiB,cAAxB,UACGpI,EACD,cAACjZ,EAAA,EAAD,CAAKG,GAAI,CAAEuhB,GAAIzI,GAAQ,GAAvB,SAA6BwI,Q,6DClB7B9jB,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJnL,QAAS,OACTC,eAAgB,gBAChB0c,OAAQzR,EAAMG,QAAQ,EAAG,IAE3BqW,KAAM,CACJL,eAAgB,YAChB,UAAW,CACThjB,QAAS,SAqBAsjB,GAhBQ,SAAC,GAA8C,IAA5C3a,EAA2C,EAA3CA,QAAS4a,EAAkC,EAAlCA,OAC3B7iB,EAAUrB,KAChB,OACE,sBAAK+B,UAAWV,EAAQoM,KAAxB,UACE,eAACkC,GAAA,EAAD,CAAYH,QAAQ,QAAQrP,MAAM,QAAlC,UACGiQ,GAAmB9G,GADtB,uBAGA,cAAC6a,GAAA,EAAD,CAAYniB,QAASkiB,EAArB,SACE,cAACvU,GAAA,EAAD,CAAYH,QAAQ,QAAQrP,MAAM,QAAQ4B,UAAWV,EAAQ2iB,KAA7D,wBCrBFhkB,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCkE,UAAW,CACTI,WAAY,SACZxP,QAAS,OACTke,WAAY,yBACZje,eAAgB,gBAChBqN,aAAc,GACd+B,QAASnE,EAAMG,QAAQ,GACvB,YAAaiB,aAAc,EAAGF,IAAOC,IAAI,OAE3CrF,QAAS,CACPwI,WAAY,SACZxP,QAAS,QAEX8hB,iBAAkB,CAChBtS,WAAY,SACZxP,QAAS,OACT/B,OAAQ,GACRgC,eAAgB,SAChBgZ,YAAa/N,EAAMG,QAAQ,GAC3B0W,SAAU,IAEZC,QAAS,CACPjkB,aAAc,KAEhBD,WAAY,CACVC,aAAc,EACdF,MAAOuO,IAAOC,IAAI,KAClBrO,MAAO,GACPC,OAAQ,IAEVgkB,WAAY,CACVnL,WAAY5L,EAAMG,QAAQ,GAC1B,UAAW,CACTlN,gBAAgB,GAAD,OAAKiO,IAAOC,IAAI,KAAhB,eACfhO,QAAS,KAGbH,aAAc,CACZC,gBAAiBiO,IAAOC,IAAI,KAC5BjO,OAAO,aAAD,OAAegO,IAAOC,IAAI,MAChC,UAAW,CACThO,QAAS,KAGbC,WAAY,CACVN,MAAO,IAETkkB,QAAS,CACP,WAAY,CACVvV,YAAa,eAyCJwV,GA9BI,SAAC,GAAyD,IAAvDrc,EAAsD,EAAtDA,OAAQsO,EAA8C,EAA9CA,OAAQgO,EAAsC,EAAtCA,eAC9BrjB,EAAUrB,KAEVskB,EAAUK,mBAAQ,kBAAMvc,GAAUwc,KAAYxc,KAAS,CAACA,IAE9D,OAAIsO,IAAW/W,EAAaklB,OACnB,cAAC,GAAD,CAAgBX,OAAQ,kBAAMQ,EAAetc,GAAQ,IAAQkB,QAASlB,IAI7E,eAAC,IAAD,CAAarG,UAAWsM,IAAWhN,EAAQqQ,UAAT,gBAAuBrQ,EAAQmjB,QAAU9N,IAAW/W,EAAamlB,UAAnG,UACE,eAACziB,EAAA,EAAD,CAAKN,UAAWV,EAAQiI,QAAxB,UACE,cAAC,IAAD,CAAakG,QAAQ,WAAWP,YAAY,SAAS8V,QAAQ,OAAOhjB,UAAWV,EAAQ+iB,iBAAvF,SACE,qBAAKriB,UAAWV,EAAQijB,QAASU,IAAKV,EAASW,IAAK7c,EAAQ9H,MAAO,GAAIC,OAAQ,OAEhF6P,GAAmBhI,GACpB,cAAC,qBAAD,CAAoB8c,WAAY9c,EAAQrG,UAAWsM,IAAWhN,EAAQkjB,WAAY,YAEpF,cAAC5hB,EAAA,EAAD,CACEC,KAAK,QACL,aAAW,gBACXb,UAAWsM,IAAWhN,EAAQjB,WAAYiB,EAAQb,cAClDwB,QAAS,kBAAM0iB,EAAetc,IAJhC,SAME,cAAC+c,GAAA,EAAD,CAAoBpjB,UAAWV,EAAQT,mBClFzCZ,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvC9D,MAAO,CACLvJ,MAAOqN,EAAMqL,QAAQiL,KAAKsB,QAC1BC,WAAY,GAEdC,UAAW,CACTnlB,MAAO,yBACPe,OAAQ,UACRmkB,WAAY,EACZ,UAAW,CACTllB,MAAO,2BAGXolB,aAAc,CACZzT,WAAY,WACZxP,QAAS,OACTC,eAAgB,qBAIb,SAASijB,GAAT,GAA6F,IAApEvjB,EAAmE,EAAnEA,KAAMwjB,EAA6D,EAA7DA,aAAcC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,WAAYC,EAA6B,EAA7BA,MAC9DvkB,EAAUrB,KAEhB,OACE,qCACE,eAACqC,EAAA,EAAD,CAAKN,UAAWV,EAAQkkB,aAAxB,UACE,cAAC5V,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQqI,MAA/C,SACGzH,EAAK4jB,SAER,cAACC,GAAA,EAAD,CAAMC,KAAMN,EAAc7jB,OAAO,SAASokB,IAAI,aAA9C,SACE,eAACrW,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQikB,UAA/C,sBACYrjB,EAAKgkB,SAASpe,cAD1B,YAKJ,cAACxF,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,EAAG0C,GAAI,GAAtB,SACGR,EAAKtjB,OACJ,qCACGsjB,EAAKxd,IAAIyd,GACV,cAACG,GAAA,EAAD,CAAM9jB,QAAS4jB,EAAOO,UAAU,OAAhC,SACE,cAAC,GAAD,CAAYrC,KAAI,gBAAW7hB,EAAKgkB,UAAY3K,KAAM,cAACxL,GAAA,EAAD,CAAU/B,SAAS,iBAIzE,eAACrL,EAAA,EAAD,CAAQmN,WAAS,EAAC1P,MAAM,YAAYyC,KAAK,QAAQ4M,QAAQ,YAAYxN,QAAS4jB,EAAOrW,UAAW,cAACO,GAAA,EAAD,IAAhG,mBACS7N,EAAKgkB,iB,cCxDlBjmB,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvC4Y,MAAO,CACL3lB,gBAAiB,wBACjBohB,KAAM,MACNrT,SAAU,IACVmD,QAASnE,EAAMG,QAAQ,GACvB0B,SAAU,WACVuS,IAAK,MACLrB,UAAW,wBACXjgB,MAAO,YAqBI+lB,GAZM,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,QAClCnlB,EAAUrB,KAEhB,OACE,cAAC,KAAD,CAAU4gB,KAAM2F,EAAQC,QAASA,EAASC,cAAe,CAAE/W,MAAO,CAAEgX,eAAgB,cAApF,SACE,cAAC1R,GAAA,EAAD,CAAOmM,UAAW,EAAG9f,QAAS,CAAEoM,KAAMpM,EAAQ+kB,OAA9C,SACGE,OCpBHtmB,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCmZ,KAAM,CACJxmB,MAAOqN,EAAMqL,QAAQiL,KAAKsB,QAC1BlkB,OAAQ,UACR6M,SAAU,GACVsS,WAAY,4BACZ,UAAW,CACT1f,QAAS,KAGbimB,UAAW,CACT,uBAAwB,CACtBnY,YAAaC,IAAOC,IAAI,WAoEfkY,GAxDS,SAAC,GAAwE,IAAtEhlB,EAAqE,EAArEA,KAAMilB,EAA+D,EAA/DA,aAAcN,EAAiD,EAAjDA,QAASD,EAAwC,EAAxCA,OAChDllB,EAAUrB,KAChB,EAA8B6U,mBAAS,IAAvC,oBAAOvL,EAAP,KAAgBwL,EAAhB,KACA,EAA4CD,oBAAS,GAArD,oBAAOkS,EAAP,KAAuBC,EAAvB,KAYA,OACE,eAAC,GAAD,CAAOT,OAAQA,EAAQC,QAASA,EAAhC,UACE,eAAC7W,GAAA,EAAD,CAAYH,QAAQ,KAApB,mBAAgC3N,KAChC,eAACQ,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,UACE,cAAC7T,GAAA,EAAD,CAAYH,QAAQ,QAApB,qEACA,cAACsW,GAAA,EAAD,CACEC,KAAK,gFACLnkB,OAAO,SACPokB,IAAI,aACJG,UAAU,SACVpkB,UAAWV,EAAQslB,KALrB,yCAUF,cAACtkB,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,cAAC,IAAD,CACEzhB,UAAWV,EAAQulB,UACnB3R,SAAU,SAAC0N,GAAD,OA5BM,SAACrZ,GACvB0d,EAAkBvf,SAAOC,MAAMC,UAAU2B,IACzCwL,EAAWxL,GA0BY2d,CAAgBtE,EAAE/gB,OAAOiD,QAC1C6E,MAAK,UAAK7H,EAAL,YACLmN,YAAW,oBAAenN,EAAf,gBAIf,cAACQ,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,eAAC9gB,EAAA,EAAD,CACEmN,WAAS,EACT1P,MAAM,YACNyC,KAAK,QACL4M,QAAQ,YACRxN,QAnCU,WAChB8kB,EAAaxd,GACbkd,KAkCMrR,UAAW4R,EACXxX,UAAW,cAAC,KAAD,IAPb,iBASO1N,WCzEFqlB,GAAc,WACzB,MAA2CC,qBAAWC,IAA9CC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,aAAc9c,EAAjC,EAAiCA,MAEjC,EAAwDqK,oBAAS,GAAjE,oBAAO0S,EAAP,KAA6BC,EAA7B,KAEMrlB,EAAO,sBAAOqI,EAAMrI,QAAQujB,MAArB,YAA8Blb,EAAMrI,QAAQslB,MAEnDC,EAAkB,SAACtf,GACvB,OAAIoC,EAAMrI,QAAQwlB,OAAOhjB,SAASyD,GAAgBzI,EAAaklB,OAC3Dra,EAAMrI,QAAQslB,IAAI9iB,SAASyD,GAAgBzI,EAAamlB,QACrDnlB,EAAamK,MAGhB8d,EAAqB,SAACxf,EAAgBuf,GAC1CL,EAAa,CAAElf,SAAQuf,YAGzB,OACE,qCACE,cAACnC,GAAD,CACEE,KAAMvjB,EACNF,KAAM,CAAEgkB,SAAU,SAAUJ,OAAQ,WACpCJ,aAAa,gFACbG,MAAO,kBAAM4B,GAAwB,IACrC7B,WAAY,SAACvd,GAAD,OACV,cAAC,GAAD,CAEEA,OAAQA,EACRsO,OAAQgR,EAAgBtf,GACxBsc,eAAgBkD,GAHXxf,MAQX,cAAC,GAAD,CACEvG,KAAK,SACL0kB,OAAQgB,EACRT,aAAcO,EACdb,QAAS,kBAAMgB,GAAwB,U,UCnCzCxnB,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCkE,UAAW,CACTI,WAAY,SACZ5Q,OAAQ,UACRoB,QAAS,OACTke,WAAY,yBACZje,eAAgB,gBAChBqN,aAAc,GACd+B,QAASnE,EAAMG,QAAQ,GACvB,YAAaiB,aAAc,EAAGF,IAAOC,IAAI,MACzC,kBAAmB,CACjBlO,gBAAiBiO,IAAOC,IAAI,OAGhCkZ,OAAQ,CACN3mB,OAAQ,UACRuN,YAAa,OACb,YAAa,CACXhO,gBAAiB,cACjBgO,YAAa,SAGjBqZ,oBAAqB,CACnBhW,WAAY,SACZiW,YAAa,EACbzlB,QAAS,OACT/B,OAAQ,GACRgC,eAAgB,SAChBgZ,YAAa/N,EAAMG,QAAQ,GAC3B0W,SAAU,IAEZ2D,WAAY,CACVpW,WAAYlD,IAAOC,IAAI,KACvBtO,aAAc,IACdE,OAAQ,EACRD,MAAO,GAETF,WAAY,CACVC,aAAc,EACdF,MAAOuO,IAAOC,IAAI,KAClBrO,MAAO,GACPC,OAAQ,IAEV0nB,aAAc,CACZxnB,gBAAiBiO,IAAOC,IAAI,KAC5BjO,OAAO,aAAD,OAAegO,IAAOC,IAAI,MAChCzN,OAAQ,UACR,UAAW,CACTT,gBAAiBiO,IAAOC,IAAI,KAC5BhO,QAAS,KAGb4jB,WAAY,CACVnL,WAAY5L,EAAMG,QAAQ,GAC1B,UAAW,CACTlN,gBAAgB,GAAD,OAAKiO,IAAOC,IAAI,KAAhB,eACfhO,QAAS,KAGbC,WAAY,CACVN,MAAO,IAETJ,UAAW,CACTwT,KAAMhF,IAAOC,IAAI,KACjB,UAAW,CACThO,QAAS,KAGb6jB,QAAS,CACP,WAAY,CACVvV,YAAa,eA+DJiZ,GAlDI,SAAC,GAAsF,IAAD,EAAnFtmB,EAAmF,EAAnFA,OAAQumB,EAA2E,EAA3EA,cAAeC,EAA4D,EAA5DA,aAAcC,EAA8C,EAA9CA,eAAgB3R,EAA8B,EAA9BA,OACnErV,EAAUrB,KACRsJ,EAAY1H,EAAZ0H,QAER,GAAIoN,IAAW/W,EAAaklB,OAAQ,CAKlC,OAAO,cAAC,GAAD,CAAgBX,OAJwB,SAACoE,GAC9CA,EAAMC,iBACNF,EAAezmB,GAAQ,IAEkB0H,QAAS1H,EAAO0H,UAQ7D,OACE,eAAC,IAAD,CACEvH,UAAWsM,IAAWhN,EAAQqQ,WAAT,oBAClBrQ,EAAQwmB,OAASO,GADC,eAElB/mB,EAAQmjB,QAAU9N,IAAW/W,EAAamlB,SAFxB,IAIrB9iB,QAAS,kBAAMmmB,EAAcvmB,IAL/B,UAOE,cAAC,IAAD,CAAaqN,YAAY,SAASO,QAAQ,WAAWuV,QAAQ,OAAOhjB,UAAWV,EAAQymB,oBAAvF,SACE,cAACzlB,EAAA,EAAD,CAAKN,UAAWV,EAAQ2mB,WAAY1nB,MAAO,GAAIC,OAAQ,OAExD6P,GAAmB9G,GACpB,cAAC,qBAAD,CAAoB4b,WAAY5b,EAASvH,UAAWsM,IAAWhN,EAAQkjB,WAAY,SAEnF,cAACliB,EAAA,EAAD,CAAKG,GAAI,CAAEsM,SAAU,KAErB,cAACnM,EAAA,EAAD,CACEC,KAAK,QACL,aAAW,gBACXb,UAAWsM,IAAWhN,EAAQjB,WAAYiB,EAAQ4mB,cAClDjmB,QAzB2C,SAACsmB,GAChDA,EAAMjH,kBACNgH,EAAezmB,IAmBb,SAME,cAACujB,GAAA,EAAD,CAAoBpjB,UAAWV,EAAQT,eAEzC,cAACyB,EAAA,EAAD,CAAKG,GAAI,CAAEuhB,GAAI,GAAf,SACE,cAACphB,EAAA,EAAD,CAAYC,KAAK,QAAQ,aAAW,sCAAsCb,UAAWV,EAAQjB,WAA7F,SACE,cAAC,KAAD,CAAyB2B,UAAWV,EAAQnB,oBC/HhDF,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCmZ,KAAM,CACJxmB,MAAOqN,EAAMqL,QAAQiL,KAAKsB,QAC1BlkB,OAAQ,UACR6M,SAAU,GACVsS,WAAY,4BACZ,UAAW,CACT1f,QAAS,KAGbimB,UAAW,CACT,uBAAwB,CACtBnY,YAAaC,IAAOC,IAAI,WA8Ef6Z,GAnEQ,SAAC,GAAiE,IAA/DC,EAA8D,EAA9DA,YAAajC,EAAiD,EAAjDA,QAASD,EAAwC,EAAxCA,OACxCllB,EAAUrB,KAChB,EAA8B6U,mBAAS,IAAvC,oBAAOvL,EAAP,KAAgBwL,EAAhB,KACA,EAAgDD,mBAASnV,EAAgBoK,MAAzE,oBAAOV,EAAP,KAAyBsf,EAAzB,KACA,EAA4C7T,oBAAS,GAArD,oBAAOkS,EAAP,KAAuBC,EAAvB,KAkBA,OACE,eAAC,GAAD,CAAOT,OAAQA,EAAQC,QAASA,EAAhC,UACE,cAAC7W,GAAA,EAAD,CAAYH,QAAQ,KAApB,0BACA,eAACnN,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,UACE,cAAC7T,GAAA,EAAD,CAAYH,QAAQ,QAApB,kGAGA,cAACsW,GAAA,EAAD,CACEC,KAAK,gFACLnkB,OAAO,SACPokB,IAAI,aACJG,UAAU,SACVpkB,UAAWV,EAAQslB,KALrB,yCAUF,cAACtkB,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAKzhB,UAAWV,EAAQulB,UAAvC,SACE,cAAC,IAAD,CACE3R,SAAU,SAAC0N,GAAD,OAnCM,SAACrZ,GACvB0d,EAAkBvf,SAAOC,MAAMC,UAAU2B,IACzCwL,EAAWxL,GAiCY2d,CAAgBtE,EAAE/gB,OAAOiD,QAC1C6E,MAAK,iBACLsF,YAAW,+BAGf,cAAC3M,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,cAAC,GAAD,CAAkB3e,MAAOuE,EAAkB6L,SAAUyT,MAGvD,cAACrmB,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,cAAC9gB,EAAA,EAAD,CACEmN,WAAS,EACT1P,MAAM,YACNyC,KAAK,QACL4M,QAAQ,YACRxN,QA7CU,WAChBymB,EAAY,CACV5lB,GAAG,GAAD,OAAKyG,EAAL,YAAgBqf,KAAKC,OACvBtf,UACAzH,KAAM9B,EAAckJ,WACpBC,gBAAiBE,EACjBf,WAAY,KAEdme,KAsCMrR,UAAW4R,EACXxX,UAAW,cAAC,KAAD,IAPb,8BC5EKsZ,GAAc,WACzB,MAA4D1B,qBAAWC,IAA/D5c,EAAR,EAAQA,MAAOse,EAAf,EAAeA,UAAWC,EAA1B,EAA0BA,aAAcC,EAAxC,EAAwCA,gBAExC,EAAwDnU,oBAAS,GAAjE,oBAAOoU,EAAP,KAA6BC,EAA7B,KAIMC,EADO,sBAAO3e,EAAM9I,QAAQgkB,MAArB,YAA8Blb,EAAM9I,QAAQ+lB,MAC5B9lB,QAAO,SAACC,GAAD,MAA4B,SAAhBA,EAAOC,QAEjDunB,EAAY,SAACxnB,GACjB,OAAI4I,EAAM9I,QAAQimB,OAAOhjB,SAAS/C,EAAO0H,SAAiB3J,EAAaklB,OACnEra,EAAM9I,QAAQ+lB,IAAIpJ,MAAK,SAACgL,GAAD,OAAaA,EAAQxmB,KAAOjB,EAAOiB,MAAYlD,EAAamlB,QAChFnlB,EAAamK,MAGhBwf,EAAqB,SAAC1nB,EAAgB+lB,GAC1CoB,EAAa,CAAEnnB,SAAQ+lB,YAGzB,OACE,qCACE,cAACnC,GAAD,CACEE,KAAMyD,EACNlnB,KAAM,CAAEgkB,SAAU,SAAUJ,OAAQ,WACpCJ,aAAa,gFACbG,MArB2B,kBAAMsD,GAAwB,IAsBzDvD,WAAY,SAAC/jB,GAAD,OACV,cAAC,GAAD,CAEE8U,OAAQ0S,EAAUxnB,GAClBA,OAAQA,EACRumB,cAAe,SAACvmB,GAAD,OAAYonB,EAAgBpnB,EAAOiB,KAClDulB,gBAAiB5d,EAAM4d,cAAgB5d,EAAM4d,eAAiBxmB,EAAOiB,IACrEwlB,eAAgBiB,GALX1nB,EAAO0H,YAUlB,cAAC,GAAD,CACEid,OAAQ0C,EACRR,YAAaK,EACbtC,QAAS,kBAAM0C,GAAwB,U,iECzCzCK,GAAO,CACX,CACErL,OAAQ,GACRjc,KAAM,wBACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,sBACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,yBACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,qBACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,4BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,eACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,8BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,8BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,2BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,sBACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,2BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,6BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,iBACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,0BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,8BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,mCACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,4BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,+BACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,gCACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,wBACdznB,KAAM,UACNJ,KAAM,UAGVI,KAAM,cACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,YAGVI,KAAM,eACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,WACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,wBACdznB,KAAM,UACNJ,KAAM,SAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,uBACNJ,KAAM,YAGVI,KAAM,qBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,gBACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,uBACdznB,KAAM,YACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,oBACdznB,KAAM,YACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,YACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,wBACdznB,KAAM,UACNJ,KAAM,SAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,uBACNJ,KAAM,YAGVI,KAAM,gBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,wBACdznB,KAAM,UACNJ,KAAM,SAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,uBACNJ,KAAM,YAGVI,KAAM,gCACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,qBACdznB,KAAM,YACNJ,KAAM,SAER,CACE4nB,SAAS,EACTC,aAAc,kBACdznB,KAAM,YACNJ,KAAM,SAER,CACE4nB,SAAS,EACTC,aAAc,QACdznB,KAAM,YACNJ,KAAM,SAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,uBACNJ,KAAM,YAGVI,KAAM,iBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,qBACdznB,KAAM,YACNJ,KAAM,SAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,aACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,uBACNJ,KAAM,YAGVI,KAAM,wBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,WACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,uBACNJ,KAAM,YAGVI,KAAM,sBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,YAGVI,KAAM,cACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,uBACNJ,KAAM,YAGVI,KAAM,mBACNJ,KAAM,UAIJ8nB,GACJ,uomBAMIC,GAAc,SAClBC,GADkB,OAEsCA,EAAGznB,OAAS,GAEzD0nB,GAAb,oDACE,aAAoD,IAAD,kDAApCC,EAAoC,yBAApCA,EAAoC,uBAC7CH,GAAYG,IACd,+BAASA,KAwBGC,kBAzBS,GAGrB,cAAMT,GAAMI,GAAWI,EAAK,KAsBhBC,kBAvBP,EAGP,EAAKA,aAAe,cAN6B,gBADrD,2CAUE,SACEC,GAEA,OAAO,gEAAaA,GAAa,MAbrC,kCAeE,SACEA,GAEA,OAAO,8EAA2BA,GAAa,MAlBnD,oBAoBE,SAAO3gB,GACL,OAAO,gEAAaA,KArBxB,qBAuBE,SAAQ4gB,GACN,OAAO,iEAAcA,MAxBzB,8BA8BE,WACE,OAAO,IAAIxiB,SAAMnE,UAAUgmB,MA/B/B,qBAiCE,SACEjgB,EACA6gB,GAEA,OAAO,IAAIC,KAAS9gB,EAASigB,GAAMY,OArCvC,GAA0CE,MAA7BP,GA0BKE,kB,EA1BLF,GA4BKQ,SAAWX,GA5BhBG,GA6BKjT,IAAM0S,GC5fxB,IAAMA,GAAO,CACX,CACErL,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,SACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,UACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,UACNJ,KAAM,YAGV6C,gBAAiB,aACjB7C,KAAM,eAER,CACEqc,OAAQ,GACRjc,KAAM,wBACNJ,KAAM,SAER,CACEqc,OAAQ,GACRjc,KAAM,0BACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,SACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,WACdznB,KAAM,QACNJ,KAAM,YAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,WACNJ,KAAM,WAGVI,KAAM,cACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,iBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,YACNJ,KAAM,YAGVI,KAAM,YACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,QACNJ,KAAM,YAGVI,KAAM,eACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,SACNJ,KAAM,YAGVI,KAAM,iBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,SACNJ,KAAM,YAGVI,KAAM,gBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,WACNJ,KAAM,YAGVI,KAAM,uBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,YACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,SACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,SACNJ,KAAM,YAGVI,KAAM,gBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,SACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,SACdznB,KAAM,cACNJ,KAAM,WAGVI,KAAM,iBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,mBACNJ,KAAM,YAGVI,KAAM,sBACNJ,KAAM,SAER,CACE2nB,WAAW,EACXtL,OAAQ,CACN,CACEuL,SAAS,EACTC,aAAc,UACdznB,KAAM,iBACNJ,KAAM,WAER,CACE4nB,SAAS,EACTC,aAAc,UACdznB,KAAM,YACNJ,KAAM,YAGVI,KAAM,YACNJ,KAAM,SAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,wBACdznB,KAAM,UACNJ,KAAM,UAGVI,KAAM,cACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,SACNJ,KAAM,WAER,CACE6nB,aAAc,WACdznB,KAAM,SACNJ,KAAM,YAER,CACE6nB,aAAc,SACdznB,KAAM,WACNJ,KAAM,WAGVI,KAAM,cACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,GACRjc,KAAM,SACNsoB,QAAS,CACP,CACEb,aAAc,UACdznB,KAAM,GACNJ,KAAM,YAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,GACNJ,KAAM,YAGVI,KAAM,eACNsoB,QAAS,CACP,CACEb,aAAc,SACdznB,KAAM,GACNJ,KAAM,WAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,aACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,SACNJ,KAAM,YAGVI,KAAM,gBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,SACNJ,KAAM,YAGVI,KAAM,eACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,KACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE6nB,aAAc,QACdznB,KAAM,OACNJ,KAAM,SAER,CACE6nB,aAAc,sBACdznB,KAAM,YACNJ,KAAM,UAGVI,KAAM,4BACNsoB,QAAS,CACP,CACEb,aAAc,OACdznB,KAAM,UACNJ,KAAM,SAGV6C,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,KACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE6nB,aAAc,QACdznB,KAAM,OACNJ,KAAM,SAER,CACE6nB,aAAc,sBACdznB,KAAM,YACNJ,KAAM,UAGVI,KAAM,sCACNsoB,QAAS,CACP,CACEb,aAAc,OACdznB,KAAM,GACNJ,KAAM,QAER,CACE6nB,aAAc,QACdznB,KAAM,GACNJ,KAAM,UAGV6C,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,KACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE6nB,aAAc,QACdznB,KAAM,OACNJ,KAAM,SAER,CACE6nB,aAAc,sBACdznB,KAAM,YACNJ,KAAM,SAER,CACE6nB,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,OACdznB,KAAM,eACNJ,KAAM,SAGVI,KAAM,0BACNsoB,QAAS,CACP,CACEb,aAAc,OACdznB,KAAM,UACNJ,KAAM,SAGV6C,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,KACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE6nB,aAAc,QACdznB,KAAM,OACNJ,KAAM,SAER,CACE6nB,aAAc,sBACdznB,KAAM,YACNJ,KAAM,SAER,CACE6nB,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,OACdznB,KAAM,eACNJ,KAAM,SAGVI,KAAM,oCACNsoB,QAAS,CACP,CACEb,aAAc,OACdznB,KAAM,UACNJ,KAAM,QAER,CACE6nB,aAAc,QACdznB,KAAM,aACNJ,KAAM,UAGV6C,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,GACRjc,KAAM,WACNsoB,QAAS,CACP,CACEb,aAAc,UACdznB,KAAM,SACNJ,KAAM,YAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,QACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,WACNJ,KAAM,YAGVI,KAAM,sBACNsoB,QAAS,CACP,CACEb,aAAc,YACdznB,KAAM,QACNJ,KAAM,aAER,CACE6nB,aAAc,UACdznB,KAAM,OACNJ,KAAM,YAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,GACRjc,KAAM,QACNsoB,QAAS,CACP,CACEb,aAAc,UACdznB,KAAM,GACNJ,KAAM,YAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,UACNJ,KAAM,YAGVI,KAAM,kBACNsoB,QAAS,CACP,CACEb,aAAc,OACdznB,KAAM,GACNJ,KAAM,SAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,GACRjc,KAAM,YACNsoB,QAAS,CACP,CACEb,aAAc,UACdznB,KAAM,GACNJ,KAAM,YAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,GACRjc,KAAM,QACNsoB,QAAS,CACP,CACEb,aAAc,UACdznB,KAAM,GACNJ,KAAM,YAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,GACRjc,KAAM,oBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,YAGVI,KAAM,eACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE6nB,aAAc,wBACdznB,KAAM,UACNJ,KAAM,UAGVI,KAAM,qBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE6nB,aAAc,SACdznB,KAAM,gBACNJ,KAAM,UAER,CACE6nB,aAAc,uBACdznB,KAAM,YACNJ,KAAM,WAER,CACE6nB,aAAc,oBACdznB,KAAM,YACNJ,KAAM,WAER,CACE6nB,aAAc,UACdznB,KAAM,YACNJ,KAAM,WAER,CACE6nB,aAAc,wBACdznB,KAAM,UACNJ,KAAM,UAGVI,KAAM,gBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE6nB,aAAc,wBACdznB,KAAM,UACNJ,KAAM,UAGVI,KAAM,gCACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,aACNJ,KAAM,WAER,CACE6nB,aAAc,qBACdznB,KAAM,YACNJ,KAAM,SAER,CACE6nB,aAAc,kBACdznB,KAAM,YACNJ,KAAM,SAER,CACE6nB,aAAc,QACdznB,KAAM,YACNJ,KAAM,UAGVI,KAAM,iBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,aACNJ,KAAM,WAER,CACE6nB,aAAc,qBACdznB,KAAM,YACNJ,KAAM,SAER,CACE6nB,aAAc,UACdznB,KAAM,aACNJ,KAAM,YAGVI,KAAM,wBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,cACNJ,KAAM,WAGVI,KAAM,sBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,YAGVI,KAAM,cACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,UACNJ,KAAM,YAGVI,KAAM,YACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,SACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,OACNJ,KAAM,WAGVI,KAAM,iBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,SACNJ,KAAM,YAGVI,KAAM,WACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,aACNJ,KAAM,YAGVI,KAAM,eACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,UACNJ,KAAM,YAGVI,KAAM,YACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,QACdznB,KAAM,aACNJ,KAAM,UAGVI,KAAM,QACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,GACRjc,KAAM,SACNsoB,QAAS,CACP,CACEb,aAAc,UACdznB,KAAM,GACNJ,KAAM,YAGV6C,gBAAiB,OACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,UACdznB,KAAM,WACNJ,KAAM,YAGVI,KAAM,oBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,YAER,CACEqc,OAAQ,CACN,CACEwL,aAAc,SACdznB,KAAM,OACNJ,KAAM,UAER,CACE6nB,aAAc,UACdznB,KAAM,gBACNJ,KAAM,WAER,CACE6nB,aAAc,SACdznB,KAAM,cACNJ,KAAM,UAER,CACE6nB,aAAc,QACdznB,KAAM,aACNJ,KAAM,UAGVI,KAAM,mBACNsoB,QAAS,GACT7lB,gBAAiB,aACjB7C,KAAM,aAIJ8nB,GACJ,i92BAMIC,GAAc,SAClBC,GAEA,MACmB,kBAAVA,EAAG,IACT7L,MAAMwM,QAAgDX,EAAG,KAC1D,iBAAkBA,EAAG,IAIZY,GAAb,oDACE,aAA8C,IAAD,kDAA9BV,EAA8B,yBAA9BA,EAA8B,gBAC3C,GAAIH,GAAYG,IACd,+BAASA,KAsDGC,kBAvDS,MAEhB,CACL,IAAOU,EAAgCX,EAAvC,GAA6BG,EAAUH,EAAvC,IACA,cAAMR,GAAMkB,EAAeE,aAAaD,GAAuBR,IAmDnDF,kBArDP,EAHoC,OAO3C,EAAKA,aAAe,QAPuB,gBAD/C,2CAwBE,SACEY,EACAC,EACAxB,EACAY,GAEA,OAAO,gEACLW,EACAC,EACAxB,EACAY,GAAa,MAlCnB,kCAqCE,SACEW,EACAC,EACAxB,EACAY,GAEA,OAAO,8EACLW,EACAC,EACAxB,EACAY,GAAa,MA/CnB,oBAkDE,SAAO3gB,GACL,OAAO,gEAAaA,KAnDxB,qBAqDE,SAAQ4gB,GACN,OAAO,iEAAcA,MAtDzB,2BAWE,SAAoBQ,GAClB,IAAII,EAAiBnB,GASrB,OAPAmB,EAAiBA,EAAetkB,QAC9B,IAAIukB,OAAO,+CAAgD,KAC3DL,EAAqB,yCAClBlkB,QAAQ,MAAO,IACfqB,iBAlBT,6BA4DE,WACE,OAAO,IAAIH,SAAMnE,UAAUgmB,MA7D/B,qBA+DE,SAAejgB,EAAiB6gB,GAC9B,OAAO,IAAIC,KAAS9gB,EAASigB,GAAMY,OAhEvC,GAAoCE,MAAvBI,GAwDKT,kB,EAxDLS,GA0DKH,SAAWX,GA1DhBc,GA2DK5T,IAAM0S,G,ICvhCbyB,G,WAEK,IAAI5W,MACZC,KACLC,eACAC,KAFH,uCAEQ,WAAO0W,GAAP,SAAAzjB,EAAA,sDACJ6E,GAAYgF,SAASpF,GAAW0E,SAASsa,EAAU3f,WAD/C,2CAFR,uDAKGoJ,MAAMlL,QAAQmL,MAEjB,ICRYuW,GDQNC,GAAqB1S,MACzB,SAAC2S,GACC,IACMC,EAAU,CACd,CAAEC,WAAY,WAAYC,WAAW,GACrC,CAAED,WAAY,SAAUC,WAAW,GACnC,CAAED,WAAY,WAAYC,WAAW,GACrC,CAAED,WAAY,SAAU5S,OALXvS,GAAcilB,GAKaG,WAAW,GACnD,CAAED,WAAY,gBAAiBE,UApBlBrmB,mCAoByComB,WAAW,GACjE,CAAED,WAAY,SACd,CAAEA,WAAY,eAGhB,OAAOG,aAAQ,CACbL,YACAM,OA5BqBvmB,uCA6BrBwmB,UAAU,EACVC,cAAe,CACbC,OAAQ,SAACA,GACHA,EAAO1V,UAsEd,SAAqBA,GAC1B,IAAM2V,EAAe,IAAIrkB,SAAOkR,UAAUoT,aAAa5V,GACvD6U,GAAUc,EAAaE,YAvEbC,CAAYJ,EAAO1V,WAGvB7M,QANa,SAMLA,GACFA,EACF+C,GAAYgF,SAASrF,GAAoB1C,IAEzC+C,GAAYgF,SAASlF,OAGzBN,IAba,SAaTA,GACEA,GAAOA,EAAI5J,MACboK,GAAYgF,SAASnF,GAAOL,EAAI5J,SAItCiqB,aAAc,CACZb,WAEFc,YAAa,CACX,CAAEC,UAAW,kBACb,CAAEA,UAAW,YACb,CAAEA,UAAW,WACb,CAAEA,UAAW,iBAInB,SAAC9gB,GAAD,OAAaA,EAAQ0F,cAGVqb,GAAY,WACvB,IAAMC,EAAW1f,GAAgBI,IACzBuf,EAAYhrB,cAAZgrB,QAEFjhB,EAAUqZ,mBAAQ,WACtB,GAAI4H,EAAS,CACX,IAAMjjB,EAAUgH,GAAWic,GAC3B,GAAIjjB,GAAWA,EAAQgC,QAAS,OAAOhC,EAAQgC,QAEjD,OAAOghB,IACN,CAACA,EAAUC,IAERC,EAAU7H,mBAAQ,kBAAMwG,GAAmB7f,KAAU,CAACA,IAC5D,EAAgCuJ,qBAAhC,oBAAOsB,EAAP,KAAiB8V,EAAjB,KACA,EAA4BpX,mBAAwBmW,IAApD,oBAAOd,EAAP,KAAeuC,EAAf,KAEMC,EAAY,uCAAG,sBAAAllB,EAAA,+EAEMglB,EAAQN,eAFd,kDAITM,EAAQL,cAJC,OAKfM,EAAUzB,IALK,yDAQjBxhB,QAAQmL,KAAK,qBAAb,MARiB,0DAAH,qDAYlBlD,qBAAU,WACR,IAAMiH,EAASvS,GAAcmF,GACvB6K,EAAW,IAAI1O,SAAOkR,UAAUC,sBAAsBF,EAAQpN,GACpE2gB,EAAY9V,KACX,CAAC7K,IAEJ,IAAMqhB,EAAgD,gBAAnCH,EAAQI,WAAWf,OAAO5pB,KAAyBipB,GAAW2B,YAAc3B,GAAW4B,SAE1G,MAAO,CAAE3W,WAAU+T,SAAQsC,UAASE,eAAcC,eCxFpD,SAASI,GAAqBC,EAAiB5rB,EAAwBQ,GACrE,OAAQA,EAAOC,MACb,KAAK9B,EAAcoD,OAEjB,OADAqG,QAAQC,IAAI,kDAAmD,CAACrI,EAAKyB,GAAIjB,EAAO0H,UACzE0jB,EAASC,oBAAoBC,YAAY9rB,EAAKyB,GAAIjB,EAAO0H,SAClE,KAAKvJ,EAAckJ,WAEjB,OADAO,QAAQC,IAAI,sCAAuC,CAACrI,EAAKyB,GAAIjB,EAAO0H,UAC7D0jB,EAASC,oBAAoBE,YAAY/rB,EAAKyB,GAAIjB,EAAO0H,QAAS1H,EAAOsH,iBAGpF,OADAM,QAAQC,IAAI,uCAAwC,CAACrI,EAAKyB,GAAIjB,EAAO0H,UAC9D0jB,EAASC,oBAAoBG,aAAahsB,EAAKyB,GAAIjB,EAAO0H,SAGnE,SAAS+jB,GACPL,EACA5rB,EACAQ,EACA0rB,EACAhqB,GAEA,GAAIgqB,EAAczrB,OAAS9B,EAAcqD,QAEvC,OADAoG,QAAQC,IAAI,iDAAkD,CAACrI,EAAKyB,GAAIjB,EAAO0H,QAASgkB,EAAcvkB,UAC/FikB,EAASC,oBAAoBM,oBAAoBnsB,EAAKyB,GAAIjB,EAAO0H,QAASgkB,EAAcvkB,SAGjG,GAAIukB,EAAczrB,OAAS9B,EAAckJ,WAOvC,OANAO,QAAQC,IAAI,gDAAiD,CAC3DrI,EAAKyB,GACLjB,EAAO0H,QACPgkB,EAAcvkB,QACdukB,EAAcpkB,kBAET8jB,EAASC,oBAAoBO,mBAClCpsB,EAAKyB,GACLjB,EAAO0H,QACPgkB,EAAcvkB,QACdukB,EAAcpkB,iBAIlB,IAAK5F,EAAM,MAAM,IAAIyT,MAAM,kCAU3B,IARA,IAAM0W,EAAeH,EAAcjkB,OAAOnB,KAAI,SAACxE,GAAD,cAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOgF,SAC1DglB,EAAe5P,KAAKD,IAAL,MAAAC,KAAI,EAAM,GAAN,mBAAY2P,KAAgB,EAE/CE,EAA2B,GAC3BC,EAA4B,GAC5BC,EAA4B,GAC5BC,EAAyB,GA7BO,WA+B7B3b,GACP,IAAMzO,EAAQ4pB,EAAcjkB,OAAOgV,MAAK,SAAC3a,GAAD,OAAWA,EAAMgF,QAAUyJ,KAC/DzO,GAASA,EAAMiF,YAAc/I,EAAgB+b,QAC/CgS,EAAcjQ,MAAK,GACnBkQ,EAAUlQ,KAAKqQ,GAAoBrqB,EAAM7B,OACzCgsB,EAAUnQ,KAAKsQ,GAAsBtqB,EAAMiF,YAC3CmlB,EAAUpQ,KAAKha,EAAMmB,MAAM,MAE3B8oB,EAAcjQ,MAAK,GACnBkQ,EAAUlQ,KAAK,GACfmQ,EAAUnQ,KAAK,GACfoQ,EAAUpQ,KAAK,QAXVvL,EAAI,EAAGA,EAAIub,EAAcvb,IAAM,EAA/BA,GA0BT,OAXA3I,QAAQC,IAAI,0CAA2C,CACrDrI,EAAKyB,GACLjB,EAAO0H,QACPgkB,EAAcvkB,QACd4kB,EACAC,EACAC,EACAC,EACAR,EAAcpkB,kBAGT8jB,EAASC,oBAAoBgB,cAClC7sB,EAAKyB,GACLjB,EAAO0H,QACPgkB,EAAcvkB,QACd4kB,EACAC,EACAC,EACAC,EACAR,EAAcpkB,kB,SA1FNgiB,K,oBAAAA,E,0BAAAA,E,6BAAAA,Q,KAuGL,IAAMgD,GAAU,uCAAG,WACxBC,EACA/nB,EACAhF,GAHwB,6BAAAoG,EAAA,6DAKxBgC,QAAQC,IAAI,WAAYrI,EAAKyB,IAC7B2G,QAAQC,IAAI,mBAAoBrI,EAAKe,QAAQslB,KAC7Cje,QAAQC,IAAI,sBAAuBrI,EAAKe,QAAQwlB,QAChDne,QAAQC,IAAI,mBAAoBrI,EAAKM,QAAQ+lB,KAC7Cje,QAAQC,IAAI,sBAAuBrI,EAAKM,QAAQimB,QAE1CyG,EAAwB3D,GAAe4D,QAAQF,EAAiBnD,IAEhEsD,EAAeltB,EAAKe,QAAQslB,IAAIvf,KAAI,SAACE,GAAD,OACxCgmB,EAAsBnB,oBAAoBsB,YAAYnmB,EAAQ,CAAChH,EAAKyB,IAAK,EAAC,OAEtE2rB,EAAkBptB,EAAKe,QAAQwlB,OAAOzf,KAAI,SAACE,GAAD,OAC9CgmB,EAAsBnB,oBAAoBsB,YAAYnmB,EAAQ,CAAChH,EAAKyB,IAAK,EAAC,OAEtE4rB,EAAkBrtB,EAAKM,QAAQimB,OAAOzf,KAAI,SAACtG,GAE/C,OADA4H,QAAQC,IAAI,kCAAmC,CAACrI,EAAKyB,GAAIjB,IAClDwsB,EAAsBnB,oBAAoBG,aAAahsB,EAAKyB,GAAIjB,MAGnE8sB,EAAM,sBAAIttB,EAAKM,QAAQgkB,MAAjB,YAA0BtkB,EAAKM,QAAQ+lB,MAAKvf,IAA5C,uCAAgD,WAAOtG,GAAP,mCAAA4F,EAAA,6DACpDmnB,EAAevtB,EAAKwtB,gBAAgBhtB,EAAOiB,IAE3CgsB,EAAWrW,GAAYpS,GACzBoC,EAA8C,GAJQ,kBAMhCqmB,EAAShY,IAAIjV,EAAO0H,SANY,OAMlDwlB,EANkD,OAOlD9B,EAAW,IAAIvlB,SAAOC,MAAMnE,UAAUurB,GAC5CtmB,EAAYF,OAAO0H,OAAOgd,EAASxkB,WAChC7G,OAAO6C,GACPoZ,QAAO,SAACmR,EAAKzrB,GACZ,OAAO,2BAAKyrB,GAAZ,mBAAkBxrB,IAAUC,WAAWF,GAAQA,MAC9CkF,GAZmD,kDAcxDgB,QAAQmL,KAAK,gCAAiC/S,EAAO0H,SAdG,eAiBpD0lB,EAAkDL,EACrDhtB,QAAO,SAAC2mB,GAAD,OAAWA,EAAM2G,QAAUC,GAAMC,gBACxCjnB,KAAI,SAACogB,GAAD,OAAWyE,GAAqBqB,EAAuBhtB,EAAMknB,EAAMzjB,UAEpEuqB,EAA2DT,EAC9DhtB,QACC,SAAC2mB,GAAD,OAAWA,EAAM2G,QAAUC,GAAMG,kCAAoC/G,EAAMgH,gBAAkB1tB,EAAO0H,WAErGpB,KAAI,SAACogB,GACJ,IAAMzjB,EAAQyjB,EAAMzjB,MAQpB,OAPA2E,QAAQC,IAAI,+CAAgD,CAC1DrI,EAAKyB,GACLjB,EAAO0H,QACPzE,EAAMkE,QACNlE,EAAMqE,gBACNV,EAAU3D,EAAMkE,SAASiS,OAAO,UAE3BoT,EAAsBnB,oBAAoBsC,8BAC/CnuB,EAAKyB,GACLjB,EAAO0H,QACPzE,EAAMkE,QACNlE,EAAMqE,oBAINsmB,EAA4B,GAE5BC,EAAoDd,EACvDhtB,QAAO,SAAC2mB,GAAD,OAAWA,EAAM2G,QAAUC,GAAMQ,gBAAkBpH,EAAMgH,gBAAkB1tB,EAAO0H,WACzFpB,KAAI,SAACogB,GACJ,IAAMzjB,EAAQyjB,EAAMzjB,MAEpB,OADA2qB,EAAgB9R,KAAK7Y,EAAMkE,SACpBskB,GAAuBe,EAAuBhtB,EAAMQ,EAAQiD,EAAO2D,EAAU3D,EAAMkE,aAIxF4mB,EAAyBhB,EAC5BhtB,QAAO,SAAC2mB,GAAD,OAAWA,EAAM2G,QAAUC,GAAMU,aAAetH,EAAMgH,gBAAkB1tB,EAAO0H,WACtFsU,QAAO,SAACmR,EAAKzG,GACZ,GAAIA,EAAM2G,QAAUC,GAAMU,YAAa,OAAOb,EAO9C,GAAIzG,EAAMzjB,MAAM8D,YAAc/I,EAAgB+b,QAAU6T,EAAgB7qB,SAAS2jB,EAAMuH,aAAc,OAAOd,EAE5G,IAAMe,EAAaf,EAAIzG,EAAMuH,cAAgB,GAC7C,OAAO,2BACFd,GADL,mBAEGzG,EAAMuH,YAFT,sBAE2BC,GAF3B,CAEuCxH,EAAMzjB,YAE5C,IAECkrB,EAAiDznB,OAAO0nB,QAAQL,GACnEznB,KAAI,YAAwB,IAAD,oBAArBa,EAAqB,KAC1B,OAD0B,KACZb,KAAI,SAAC+nB,GACjB,OAAIA,EAAepuB,OAAShC,EAAcqwB,gBAExC1mB,QAAQC,IAAI,iCAAkC,CAACrI,EAAKyB,GAAIjB,EAAO0H,QAASP,EAASknB,EAAevnB,QACzF0lB,EAAsBnB,oBAAoBkD,iBAC/C/uB,EAAKyB,GACLjB,EAAO0H,QACPP,EACAknB,EAAevnB,QAERunB,EAAetnB,YAAc/I,EAAgB+b,QACtDnS,QAAQC,IAAI,+BAAgC,CAC1CrI,EAAKyB,GACLjB,EAAO0H,QACPP,EACAknB,EAAevnB,MACfqlB,GAAoBkC,EAAepuB,MACnCmsB,GAAsBiC,EAAetnB,WACrCsnB,EAAeprB,MAAM,KAEhBupB,EAAsBnB,oBAAoBmD,eAC/ChvB,EAAKyB,GACLjB,EAAO0H,QACPP,EACAknB,EAAevnB,MACfqlB,GAAoBkC,EAAepuB,MACnCmsB,GAAsBiC,EAAetnB,WACrCsnB,EAAeprB,MAAM,MAGvB2E,QAAQC,IAAI,wCAAyC,CACnDrI,EAAKyB,GACLjB,EAAO0H,QACPP,EACAknB,EAAevnB,MACfqlB,GAAoBkC,EAAepuB,MACnCouB,EAAeprB,QAEVupB,EAAsBnB,oBAAoBoD,sBAC/CjvB,EAAKyB,GACLjB,EAAO0H,QACPP,EACAknB,EAAevnB,MACfqlB,GAAoBkC,EAAepuB,MACnCouB,EAAeprB,cAKtByrB,OA3HuD,kBA6HnDC,QAAQC,IAAR,sBAAgBxB,GAAhB,YAAmCS,GAAnC,YAAwDL,GAAxD,YAAoFW,MA7HjC,0DAAhD,uDAxBY,UAwJCQ,QAAQC,IAAR,YAAgB9B,IAxJjB,eAwJlB+B,EAxJkB,OAwJwBH,OAxJxB,UAyJOC,QAAQC,IAAR,YAAgB/B,IAzJvB,eAyJlBiC,EAzJkB,iBA0JAH,QAAQC,IAAR,sBAAgBlC,GAAhB,YAAiCE,GAAjC,YAAqDkC,KA1JrD,eA0JlBC,EA1JkB,OA4JxBnnB,QAAQC,IAAI,MAAZ,sBAAuBknB,GAAvB,YAAqCF,KA5Jb,wCA8JbE,GA9Ja,YA8JCF,KA9JD,4CAAH,0DAiKVG,GAAoB,uCAAG,WAAOlC,GAAP,mBAAAlnB,EAAA,6DAC5BqpB,EAAU,IAAIzc,KADc,SAELyc,EAAQnC,IAAIvX,KAAK,CAAEuX,IAAKA,EAAIxmB,IAAI4oB,MAF3B,uBAE1BC,EAF0B,EAE1BA,WAF0B,kBAG3BA,GAH2B,2CAAH,sDAMpBC,GAA0B,uCAAG,WAAOtC,GAAP,SAAAlnB,EAAA,sEAClC+oB,QAAQC,IACZ9B,EAAIxmB,IAAJ,uCAAQ,WAAO+oB,GAAP,eAAAzpB,EAAA,sEACewjB,GAAQkG,gBAAgBD,GADvC,cACAE,EADA,gBAEAA,EAAOC,OAFP,gCAGCD,EAAOE,MAHR,2CAAR,wDAFsC,mFAAH,sDASvC,SAASP,GAAkBG,GACzB,MAAO,CACL3hB,GAAI2hB,EAAG3hB,GACPzK,MAAO,IACPmD,KAAMipB,EAAGjpB,MAIN,IAAMspB,GAAS,uCAAG,WAAOP,GAAP,iBAAAvpB,EAAA,6DACjBqpB,EAAU,IAAIzc,KADG,SAEFyc,EAAQnC,IAAI6C,gBAAgBR,GAF1B,cAEjBS,EAFiB,OAGvBhoB,QAAQC,IAAI+nB,GAHW,kBAIhBA,GAJgB,2CAAH,sDAatB,SAASxD,GAAsByD,GAC7B,OAAQA,GACN,KAAK7xB,EAAgB8b,SACnB,OAAO,EACT,KAAK9b,EAAgBgc,aACnB,OAAO,EACT,KAAKhc,EAAgBic,UACnB,OAAO,EACT,KAAKjc,EAAgB+b,OACnB,OAAO,GAIb,SAASoS,GAAoB2D,GAC3B,OAAQA,GACN,KAAK7xB,EAAcoc,OACjB,OAAO,EACT,KAAKpc,EAAcmc,QACjB,OAAO,EACT,KAAKnc,EAAckc,UACjB,OAAO,EACT,KAAKlc,EAAcqwB,eACjB,MAAM,IAAInZ,MAAM,wF,uDC3UhB/W,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCmkB,iBAAkB,CAChB7f,WAAY,SACZxP,QAAS,OACTke,WAAY,yBACZje,eAAgB,gBAChBqN,aAAc,GACd+B,QAASnE,EAAMG,QAAQ,GACvB0B,SAAU,WACV,YAAa,CACXvO,QAAS,MACTJ,OAAQ,qCACRkxB,OAAQ,EACRjQ,cAAe,OACftS,SAAU,WACVwiB,OAAQ,IAGZC,iBAAkB,CAChBhgB,WAAY,SACZF,WAAY,2BACZvR,aAAc,IACdiC,QAAS,OACT/B,OAAQ,GACRgC,eAAgB,SAChBgZ,YAAa/N,EAAMG,QAAQ,GAC3B0W,SAAU,IAEZoD,IAAK,CACHhnB,gBAAiB,4BAEnBknB,OAAQ,CACNlnB,gBAAiB,4BAEnBsxB,WAAY,GACZroB,MAAO,CACLvJ,MAAOqN,EAAMqL,QAAQiL,KAAKsB,QAC1BxV,aAAcpC,EAAMG,QAAQ,KAE9BrE,QAAS,CACPwI,WAAY,SACZxP,QAAS,QAEX0vB,sBAAuB,CACrBC,KAAM,OACNC,UAAW,aAgCTC,GAAU,SAAC,GAAmD,IAAjDhwB,EAAgD,EAAhDA,QACXd,EAAUrB,KAEVoyB,EAAY,SAACC,GAAD,OAA8B,SAACjqB,GAC/C,MAAe,QAAXiqB,EAEA,cAAChwB,EAAA,EAAD,CAAKN,UAAWsM,IAAWhN,EAAQswB,iBAAkBtwB,EAAQomB,KAA7D,SACE,eAACplB,EAAA,EAAD,CAAKN,UAAWV,EAAQiI,QAAxB,UACE,cAACjH,EAAA,EAAD,CAAKN,UAAWV,EAAQywB,iBAAxB,SACE,cAAC,KAAD,CAAsBQ,UAAU,QAAQvwB,UAAWV,EAAQ0wB,WAAYzxB,MAAO,GAAIC,OAAQ,OAE3F6P,GAAmBhI,OALxB,cAA+EA,IAWpE,WAAXiqB,EAEA,cAAChwB,EAAA,EAAD,CAAKN,UAAWsM,IAAWhN,EAAQswB,iBAAkBtwB,EAAQsmB,QAA7D,SACE,eAACtlB,EAAA,EAAD,CAAKN,UAAWV,EAAQiI,QAAxB,UACE,cAACjH,EAAA,EAAD,CAAKN,UAAWV,EAAQywB,iBAAxB,SACE,cAAC,KAAD,CAAyB3xB,MAAM,QAAQ4B,UAAWV,EAAQ0wB,WAAYzxB,MAAO,GAAIC,OAAQ,OAE1F6P,GAAmBhI,OALxB,iBAAqFA,SAFzF,IAcF,OACE,eAAC/F,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,UACE,cAAC7T,GAAA,EAAD,CAAY5N,UAAWV,EAAQqI,MAA/B,sBACEvH,EAAQslB,IAAIrlB,SAAWD,EAAQwlB,OAAOvlB,QAAU,kDACjDD,EAAQslB,IAAIvf,IAAIkqB,EAAU,QAC1BjwB,EAAQwlB,OAAOzf,IAAIkqB,EAAU,eAY9BG,GAAU,SAAC,GAAmD,IAAjD7wB,EAAgD,EAAhDA,QACXL,EAAUrB,KACRwK,EAAU2c,qBAAWC,IAArB5c,MAaFgoB,EAAoB,SAACC,GAAD,OAAkC,SAAC7wB,GAC3D,IAAM8wB,EAAUloB,EAAMokB,gBAAgBhtB,EAAOiB,IAI7C,OAHA2G,QAAQC,IAAI,YACZD,QAAQC,IAAIipB,GAGV,eAACrwB,EAAA,EAAD,CACEN,UAAWsM,IAAWhN,EAAQswB,iBAAT,gBAA8BtwB,EAAQomB,IAAqB,QAAfgL,IADnE,UAIE,eAACpwB,EAAA,EAAD,CAAKN,UAAWV,EAAQiI,QAAxB,UACkB,QAAfmpB,GACC,cAACpwB,EAAA,EAAD,CAAKN,UAAWV,EAAQywB,iBAAxB,SACE,cAAC,KAAD,CAAsBQ,UAAU,QAAQvwB,UAAWV,EAAQ0wB,WAAYzxB,MAAO,GAAIC,OAAQ,OAG7F6P,GAAmBxO,EAAO0H,YAE7B,cAACjH,EAAA,EAAD,CAAKN,UAAWV,EAAQ2wB,sBAAxB,mBAAmDU,EAAQtwB,OAA3D,YACiB,QAAfqwB,EAAuB,UAAY,eAbvC,UAEUA,EAFV,YAEwB7wB,EAAO0H,YAiB7BqpB,EAAkBjxB,EAAQgkB,KAC7B/jB,QAAO,gBAAG2H,EAAH,EAAGA,QAAH,OAAkB5H,EAAQimB,OAAOhjB,SAAS2E,MACjD3H,QAAO,kBAAGkB,EAAH,EAAGA,GAAH,iBAAY2H,EAAMokB,gBAAgB/rB,UAAlC,aAAY,EAA2BT,UAEjD,OACE,eAACC,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,UACE,cAAC7T,GAAA,EAAD,CAAY5N,UAAWV,EAAQqI,MAA/B,sBACEhI,EAAQ+lB,IAAIrlB,SAAWuwB,EAAgBvwB,SAAWV,EAAQimB,OAAOvlB,QAAU,kDAC5EV,EAAQ+lB,IAAIvf,IAAIsqB,EAAkB,QAClCG,EAAgBzqB,IAAIsqB,EAAkB,WACtC9wB,EAAQimB,OAAOzf,KA9CU,SAAConB,GAAD,OAC5B,cAACjtB,EAAA,EAAD,CAAKN,UAAWsM,IAAWhN,EAAQswB,iBAAkBtwB,EAAQsmB,QAA7D,SACE,eAACtlB,EAAA,EAAD,CAAKN,UAAWV,EAAQiI,QAAxB,UACE,cAACjH,EAAA,EAAD,CAAKN,UAAWV,EAAQywB,iBAAxB,SACE,cAAC,KAAD,CAAyB3xB,MAAM,QAAQ4B,UAAWV,EAAQ0wB,WAAYzxB,MAAO,GAAIC,OAAQ,OAE1F6P,GAAmBkf,OALxB,gBAAoFA,WAkDzEsD,GA9HQ,SAAC,GAAoD,IAAlDpM,EAAiD,EAAjDA,QAASD,EAAwC,EAAxCA,OACzB/b,EAAU2c,qBAAWC,IAArB5c,MACIqoB,EAA6BroB,EAAjC3H,GAAYV,EAAqBqI,EAArBrI,QAAST,EAAY8I,EAAZ9I,QAC7B,OACE,eAAC,GAAD,CAAO6kB,OAAQA,EAAQC,QAASA,EAAhC,UACE,eAAC7W,GAAA,EAAD,CAAYH,QAAQ,KAApB,sCAAmDqjB,KACnD,cAACxwB,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,eAAC7T,GAAA,EAAD,CAAYH,QAAQ,QAApB,4DACkDqjB,EADlD,iDAIF,cAAC,GAAD,CAAS1wB,QAASA,IAClB,cAAC,GAAD,CAAST,QAASA,QCtCjB,SAASoxB,GAAUD,EAAgB9qB,GACxC,MAAe,QAAX8qB,EAEA9qB,EACGG,KAAI,SAAC9G,GAAD,OAAUmK,KAAUC,KAAKpK,EAAKa,SAElC2b,QAAO,SAACmV,EAASpY,GAAV,OAAuBoY,EAAQC,GAAGrY,GAAWA,EAAUoY,IAAUxnB,KAAUC,KAAK,IACvFic,IAAI,GACJzW,WAGE6hB,EAIX,IAAMI,GAAgB,SAAC,GAA+C,IAA7C7xB,EAA4C,EAA5CA,KAAMyB,EAAsC,EAAtCA,GAC7B,OAAIzB,EAEA,eAACuO,GAAA,EAAD,CAAYH,QAAQ,KAAKE,MAAO,CAAEwjB,UAAW,aAA7C,2BACiB9xB,EAAKa,QAIxB,eAAC0N,GAAA,EAAD,CAAYH,QAAQ,KAAKE,MAAO,CAAEwjB,UAAW,aAA7C,0BACgBrwB,MAKpB,SAASswB,GACP/xB,EACAgyB,EACAC,EACAC,GAEA,OAAID,EAAiB,cAEjBjyB,EACEkyB,EAAyB,0CACrBF,EAA4B,mBAAhB,cAElBE,EAAyB,iDACrBF,EAA4B,mBAAhB,cAGf,IChDFG,GAiBOrE,GD+BCsE,GAAW,WACtB,IAAQlyB,EAAWC,cAAXD,OACAkJ,EAAU2c,qBAAWC,IAArB5c,MACR,EAAiC6hB,KAAzBlW,EAAR,EAAQA,SAAUwW,EAAlB,EAAkBA,WACZtb,EAAW3E,KACXlL,EAAWC,cAEF6F,EAAe6J,GAAc,CAAEC,MAAM,IAA5CE,MAEF8hB,EAAYxmB,GAAgBW,IAC5BnH,EAAUwG,GAAgBI,IAC1BymB,EAAgB7mB,GAAgBO,IAChC5F,EAAuBqF,GAAgBS,IAE7C,EAAgCwH,oBAAS,GAAzC,oBAAOwe,EAAP,KAAiBK,EAAjB,KACA,EAAgD7e,oBAAS,GAAzD,oBAAOye,EAAP,KAAyBK,EAAzB,KACA,EAAkE9e,oBAAS,GAA3E,oBAAO+e,EAAP,KAAkCC,EAAlC,KACA,EAA0Chf,oBAAkB,GAA5D,oBAAOif,EAAP,KAAsBC,EAAtB,KACA,EAA0Clf,oBAAkB,GAA5D,oBAAOmf,EAAP,KAAsBC,EAAtB,KAEAxiB,qBAAU,WACR,GAAIjH,EAAO,CACT,IAAQrI,EAAqBqI,EAArBrI,QAAST,EAAY8I,EAAZ9I,QACjBwyB,EAAoB/xB,GACpBgyB,EAAoBzyB,MAErB,CAAC8I,IAEJ,IAAM0pB,EAAsB,SAAC/xB,GACtBA,EAAQslB,IAAIrlB,QAAWD,EAAQwlB,OAAOvlB,OAI3C2xB,GAAiB,GAHfA,GAAiB,IAMfI,EAAsB,SAACzyB,GAC3B,IAAMixB,EAAkBjxB,EAAQgkB,KAC7B/jB,QAAO,gBAAG2H,EAAH,EAAGA,QAAH,OAAkB5H,EAAQimB,OAAOhjB,SAAS2E,MACjD3H,QAAO,kBAAGkB,EAAH,EAAGA,GAAH,iBAAY2H,EAAMokB,gBAAgB/rB,UAAlC,aAAY,EAA2BT,UAE5CV,EAAQ+lB,IAAIrlB,QAAWuwB,EAAgBvwB,QAAWV,EAAQimB,OAAOvlB,OAItE6xB,GAAiB,GAHfA,GAAiB,IAMfG,EAAmB,uCAAG,gCAAA5sB,EAAA,yDACrBD,EADqB,wDAG1B8J,EAASzG,IAAsB,IAHL,kBAKNsjB,GAAW3mB,EAAsBnB,EAASoE,GALpC,OAKlBkkB,EALkB,YAOhB/B,EAPgB,cAQjBzB,GAAW2B,YARM,UAuCjB3B,GAAW4B,SAvCM,UA8CjB5B,GAAWmJ,aA9CM,qCASDzD,GAAqBlC,GATpB,eAShB4F,EATgB,iBAULhD,GAAUgD,GAVL,QAUhBrD,EAVgB,mBAcb,CAAC,UAAW,0BAA0BtsB,SAASssB,EAAGsD,UAdrC,kCAeZ,IAAIhE,SAAQ,SAACiE,GAAD,OAAaC,WAAWD,EAAS,QAfjC,yBAgBPlD,GAAUgD,GAhBH,QAgBlBrD,EAhBkB,mCAoBhB,CAAC,sBAAsBtsB,SAASssB,EAAGsD,UApBnB,iBAqBlB/qB,QAAQC,IAAI,yCACZkqB,GAAoB,GAtBF,2BAyBK,YAAhB1C,EAAGsD,WAA0BtD,EAAGqD,OAzBrB,oBA0BlBZ,GAAY,IACRvd,EA3Bc,kCA6BVA,EAASue,mBAAmBzD,EAAGqD,OAAQ,GA7B7B,iDAgCV,IAAI/D,SAAQ,SAACiE,GAAD,OAAaC,WAAWD,EAAS,SAhCnC,sCAmCZzd,MAAM,kCAAD,OAAmCka,EAAGsD,WAnC/B,6DAwCdvD,GAA2BtC,GAxCb,eAyCpBgF,GAAY,GAzCQ,UA2Cd,IAAInD,SAAQ,SAACiE,GAAD,OAAaC,WAAWD,EAAS,QA3C/B,kDA+Cdzd,MAAM,kEA/CQ,QAmDnBuc,IACE9oB,EAAMpJ,KAITkG,IAFA9F,EAAS,IAAD,OAAKF,EAAL,kBAAqBkJ,EAAM3H,MAtDf,kDA4DxB2G,QAAQ6P,MAAR,MA5DwB,yBA8DxBhI,EAASzG,IAAsB,IAC/B8oB,GAAY,GA/DY,6EAAH,qDAoEnBrY,EACJ,cAAC3Y,EAAA,EAAD,CACEmN,WAAS,EACT1P,MAAM,YACNyC,KAAK,QACL4M,QAAQ,YACRxN,QAASoyB,EACTjf,SAAUie,IAAcK,GAAiBH,IARJQ,IAAkBE,EASvDzkB,UACE+jB,EAAmB,cAACqB,GAAA,EAAD,IAAiBvB,EAAY,cAAChQ,GAAA,EAAD,CAAkBxgB,KAAM,GAAIzC,MAAM,YAAe,cAAC2P,GAAA,EAAD,IARrG,SAWGqjB,GAAc3oB,EAAMpJ,KAAMgyB,EAAWC,EAAUC,KAIpD,OACE,eAACjxB,EAAA,EAAD,CAAKG,GAAI,CAAEF,QAAS,OAAQ2R,cAAe,SAAU1R,eAAgB,gBAAiBhC,OAAQ,QAA9F,UACE,eAAC8B,EAAA,EAAD,WACE,eAACA,EAAA,EAAD,CAAKG,GAAI,CAAEF,QAAS,OAAQ2R,cAAe,OAA3C,UACE,cAAC,GAAD,CAAepR,GAAI2H,EAAM3H,GAAIzB,KAAMoJ,EAAMpJ,OACzC,cAACiB,EAAA,EAAD,CAAKG,GAAI,CAAEsM,SAAU,KACrB,cAACzM,EAAA,EAAD,CAAKG,GAAI,CAAE6hB,SAAU,KAArB,SACE,cAAC,IAAD,CAAY/U,GAAE,WAAMhO,GAApB,SACE,cAAC,GAAD,CAAYwiB,KAAK,iBAAiBxI,KAAM,cAACsZ,GAAA,EAAD,CAAgB7mB,SAAS,mBAIvE,cAAC1L,EAAA,EAAD,CACEG,GAAI,CACFqyB,QAAS,2BACTt0B,OAAQ,EACRu0B,GAAI,EACJx0B,MAAO,UAGVgzB,EACC,eAACjxB,EAAA,EAAD,CAAKG,GAAI,CAAEF,QAAS,OAAQwP,WAAY,SAAUmC,cAAe,UAAjE,UACE,eAACtE,GAAA,EAAD,CAAYH,QAAQ,QAAQulB,MAAM,SAAlC,4DAEE,uBAFF,oDAIE,uBAJF,kCAME,uBACA,uBAPF,qCAUA,cAAC1yB,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,cAAC,IAAD,CAAYlU,GAAE,WAAMhO,GAApB,SACE,cAAC,GAAD,CAAYga,KAAM,cAACsZ,GAAA,EAAD,CAAgB7mB,SAAS,UAAY+V,KAAK,4BAKlE,qCACE,cAAC,GAAD,IACA,cAAC,GAAD,WAIJgQ,GAAiBE,KAAmBV,GACpC,cAACjxB,EAAA,EAAD,CAAKG,GAAI,CAAEF,QAAS,OAAQwP,WAAY,SAAUmC,cAAe,SAAUuP,GAAI,OAAQ0C,GAAI,GAA3F,SACE,cAACJ,GAAA,EAAD,CAAM9jB,QAAS,kBAAM6xB,GAA6B,IAAO1N,UAAU,SAAnE,SACE,cAAC,GAAD,CAAYrC,KAAM,6BAKvB2P,EACCpY,EAGA,cAAC2Z,GAAA,EAAD,CAAS1hB,MAAM,uDAAf,SACE,8BAAM+H,MAGV,cAAC,GAAD,CAAgBkL,OAAQqN,EAA2BpN,QAAS,kBAAMqN,GAA6B,UC3LrG,SAASvK,GAAmB9e,EAAyBE,GACnD,IAAQ9I,EAA0B8I,EAA1B9I,OAAR,EAAkC8I,EAAlBid,cAAhB,SAEA,OAAInd,EAAM4d,eAAiBxmB,EAAOiB,GACzBymB,GAAmB,2BAAK9e,GAAN,IAAa4d,kBAAc5L,IAAa9R,GAG9Did,EAODnd,EAAM9I,QAAQ+lB,IAAIpJ,MAAK,SAACgL,GAAD,OAAaA,EAAQ/f,UAAY1H,EAAO0H,WAC1D,2BACFkB,GADL,IAEE9I,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsB+lB,IAAKjd,EAAM9I,QAAQ+lB,IAAI9lB,QAAO,SAAC0nB,GAAD,OAAaA,EAAQ/f,UAAY1H,EAAO0H,eAGnGkB,EAAM9I,QAAQimB,OAAOhjB,SAAS/C,EAAO0H,SAEhCkB,EAGF,2BAAKA,GAAZ,IAAmB9I,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsBimB,OAAO,GAAD,mBAAMnd,EAAM9I,QAAQimB,QAApB,CAA4B/lB,EAAO0H,cAhBhF,2BACFkB,GADL,IAEE9I,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsBimB,OAAQnd,EAAM9I,QAAQimB,OAAOhmB,QAAO,SAAC0nB,GAAD,OAAaA,IAAYznB,EAAO0H,gB,SAjElGiqB,O,2BAAAA,I,2BAAAA,I,iCAAAA,I,iCAAAA,I,yCAAAA,I,6DAAAA,I,iDAAAA,I,+CAAAA,I,8BAAAA,Q,cAiBOrE,O,+BAAAA,I,mCAAAA,I,6BAAAA,I,wEAAAA,Q,KAqGZ,SAAS+F,GAAmBvzB,EAAmBmB,EAAYgC,GACzD,OAAOnD,EAAQwG,KAAI,SAACtG,GAClB,OAAIA,EAAOiB,KAAOA,EACT,2BAAKjB,GAAWiD,GAElBjD,KAqEX,IAAMszB,GAAqD,SAAC1qB,EAAOC,GACjE,OAAQA,EAAO5I,MACb,KAAK0xB,GAAe4B,WAClB,OA1BN,SAAyB3qB,EAAyBE,GAChD,OAAIF,EAAMrI,QAAQslB,IAAI9iB,SAAS+F,EAAQ7C,gBAAkB2C,EAAMrI,QAAQujB,KAAK/gB,SAAS+F,EAAQ7C,eACpF2C,EAEF,2BAAKA,GAAZ,IAAmBrI,QAAQ,2BAAMqI,EAAMrI,SAAb,IAAsBslB,IAAI,GAAD,mBAAMjd,EAAMrI,QAAQslB,KAApB,CAAyB/c,EAAQ7C,oBAsBzEutB,CAAgB5qB,EAAOC,EAAOC,SACvC,KAAK6oB,GAAe8B,WAClB,OAnHN,SAAyB7qB,EAAyB5I,GAChD,IAAM0zB,EACJ9qB,EAAM9I,QAAQ+lB,IAAIpJ,MAAK,SAACgL,GAAD,OAAaznB,EAAO0H,QAAQzB,gBAAkBwhB,EAAQ/f,QAAQzB,kBACrF2C,EAAM9I,QAAQgkB,KAAKrH,MAAK,SAACgL,GAAD,OAAaznB,EAAO0H,QAAQzB,gBAAkBwhB,EAAQ/f,QAAQzB,iBACxF,OAAIytB,EACK,2BAAK9qB,GAAZ,IAAmB4d,aAAckN,EAAczyB,KAE1C,2BACF2H,GADL,IAEE4d,aAAcxmB,EAAOiB,GACrBnB,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsB+lB,IAAI,GAAD,mBAAMjd,EAAM9I,QAAQ+lB,KAApB,4BAA8B7lB,GAA9B,IAAsC0H,QAAS1H,EAAO0H,QAAQzB,sBAyGrF0tB,CAAgB/qB,EAAOC,EAAOC,SACvC,KAAK6oB,GAAeiC,cAClB,OAAOlM,GAAmB9e,EAAOC,EAAOC,SAC1C,KAAK6oB,GAAekC,cAClB,OAzGqB,SAACjrB,EAAyBE,GACnD,IAAQtC,EAA0BsC,EAA1BtC,OAAR,EAAkCsC,EAAlBid,OAChB,YADA,SAQInd,EAAMrI,QAAQslB,IAAI9iB,SAASyD,GACtB,2BACFoC,GADL,IAEErI,QAAQ,2BAAMqI,EAAMrI,SAAb,IAAsBslB,IAAKjd,EAAMrI,QAAQslB,IAAI9lB,QAAO,SAAC+zB,GAAD,OAAaA,IAAYttB,SAGpFoC,EAAMrI,QAAQwlB,OAAOhjB,SAASyD,GAEzBoC,EAEF,2BAAKA,GAAZ,IAAmBrI,QAAQ,2BAAMqI,EAAMrI,SAAb,IAAsBwlB,OAAO,GAAD,mBAAMnd,EAAMrI,QAAQwlB,QAApB,CAA4Bvf,QAfzE,2BACFoC,GADL,IAEErI,QAAQ,2BAAMqI,EAAMrI,SAAb,IAAsBwlB,OAAQnd,EAAMrI,QAAQwlB,OAAOhmB,QAAO,SAAC+zB,GAAD,OAAaA,IAAYttB,SAmGnFwf,CAAmBpd,EAAOC,EAAOC,SAC1C,KAAK6oB,GAAeoC,kBAClB,OAAO,2BAAKnrB,GAAZ,IAAmB4d,aAAc3d,EAAOC,UAC1C,KAAK6oB,GAAeqC,4BAClB,OA9EN,SACEprB,EACAE,GAEA,IAAMmrB,EAAe,SAACn0B,GAAD,OACnBuzB,GAAmBvzB,EAASgJ,EAAQorB,SAAU,CAAE5sB,gBAAiBwB,EAAQmS,UAE3E,OAAIrS,EAAM9I,QAAQgkB,KAAKrH,MAAK,SAACzc,GAAD,OAAYA,EAAOiB,KAAO6H,EAAQorB,YACrD,2BAAKtrB,GAAZ,IAAmB9I,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsBgkB,KAAMmQ,EAAarrB,EAAM9I,QAAQgkB,UAE5E,2BAAKlb,GAAZ,IAAmB9I,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsB+lB,IAAKoO,EAAarrB,EAAM9I,QAAQ+lB,SAoErEsO,CAA4BvrB,EAAOC,EAAOC,SACnD,KAAK6oB,GAAeyC,sBAClB,OAnEN,SAAgCxrB,EAAyBE,GACvD,IAAMmrB,EAAe,SAACn0B,GACpB,IAAMu0B,EAAiB3tB,OAAO0H,OAAOtF,EAAQrC,YAAYH,KAAI,SAACS,GAAD,OAAeA,EAAU9G,QAChFq0B,EAAgBx0B,EAAQ2c,MAAK,SAACzc,GAAD,OAAYA,EAAOiB,KAAO6H,EAAQorB,YAErE,IAAKI,EACH,MAAMnf,MAAM,6BAGd,IAAIlV,EAAsBq0B,EAAcr0B,KACxC,GAAIA,IAAS9B,EAAckJ,WAAY,CACrC,IAAMktB,EAAwBF,EAAehzB,MAAK,SAAC0F,GAAD,OAAeA,IAAc5I,EAAckJ,cACvFmtB,EAAoBH,EAAehzB,MAAK,SAAC0F,GAAD,OAAeA,IAAc5I,EAAcoD,UAEzFtB,EAAO9B,EAAcoD,OAChBizB,GAAsBD,IACzBt0B,EAAO9B,EAAcqD,SAIzB,OAAO6xB,GAAmBvzB,EAASgJ,EAAQorB,SAAU,CAAEj0B,OAAMwG,WAAYqC,EAAQrC,cAGnF,OAAImC,EAAM9I,QAAQgkB,KAAKrH,MAAK,SAACzc,GAAD,OAAYA,EAAOiB,KAAO6H,EAAQorB,YACrD,2BAAKtrB,GAAZ,IAAmB9I,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsBgkB,KAAMmQ,EAAarrB,EAAM9I,QAAQgkB,UAE5E,2BAAKlb,GAAZ,IAAmB9I,QAAQ,2BAAM8I,EAAM9I,SAAb,IAAsB+lB,IAAKoO,EAAarrB,EAAM9I,QAAQ+lB,SAyCrE4O,CAAuB7rB,EAAOC,EAAOC,SAC9C,KAAK6oB,GAAe+C,qBAClB,OAjCN,SAAkC9rB,EAAyBE,GACzD,IAAM6rB,EAAgB,SAAC30B,GACrB,OAAIA,EAAOiB,KAAO6H,EAAQorB,SAAiBl0B,EACpC,2BAAKA,GAAZ,IAAoBsH,gBAAiBxJ,EAAgBoK,KAAMjI,KAAM6I,EAAQmS,UAG3E,OAAO,2BACFrS,GADL,IAEE9I,QAAQ,2BACH8I,EAAM9I,SADJ,IAEL+lB,IAAKjd,EAAM9I,QAAQ+lB,IAAIvf,IAAIquB,GAC3B7Q,KAAMlb,EAAM9I,QAAQgkB,KAAKxd,IAAIquB,OAsBtBC,CAAyBhsB,EAAOC,EAAOC,SAChD,KAAK6oB,GAAekD,YAClB,OAAOC,GAAiBjsB,EAAOC,WA+BxB0c,GAAcuP,IAAMC,cAAgC,CAC/DpsB,MAAO,CACL3H,GAAI,GACJnB,QAAS,CAAE+lB,IAAK,GAAIE,OAAQ,GAAIjC,KAAM,IACtCvjB,QAAS,CAAEslB,IAAK,GAAIE,OAAQ,GAAIjC,KAAM,IACtCmR,cAAe,iBAAe,IAC9BjI,gBAAiB,iBAAqB,KAExC9F,UAR+D,aAS/DxB,aAT+D,aAU/DyB,aAV+D,aAW/D1B,UAX+D,aAY/D2B,gBAZ+D,aAa/D8N,oBAb+D,aAc/DC,yBAd+D,aAe/DC,mBAf+D,aAgB/DC,MAhB+D,eAmBjE,SAASP,GAAT,GAAiF,IAArD7zB,EAAoD,EAApDA,GAAIzB,EAAgD,EAAhDA,KAC9B,MAAO,CACLyB,KACAzB,OACAe,QAAS,CACPujB,MAAU,OAAJtkB,QAAI,IAAJA,OAAA,EAAAA,EAAMe,QAAQ+F,KAAI,SAACE,GAAD,OAAYA,EAAOkB,aAAY,GACvDme,IAAK,GACLE,OAAQ,IAEVjmB,QAAS,CACPgkB,MAAU,OAAJtkB,QAAI,IAAJA,OAAA,EAAAA,EAAMM,UAAW,GACvB+lB,IAAK,GACLE,OAAQ,IAEVkP,cAbK,WAagC,IAAD,OAC5BK,EAASvkB,KAAKjR,QAAQgkB,KAAKrH,MAAK,SAACzc,GAAD,OAAYA,EAAOiB,KAAO,EAAKulB,gBACrE,OAAI8O,GAGGvkB,KAAKjR,QAAQ+lB,IAAIpJ,MAAK,SAACzc,GAAD,OAAYA,EAAOiB,KAAO,EAAKulB,iBAE9DwG,gBApBK,SAoBWkH,GAAkC,IAAD,EACzCqB,EAAgB,sBAAIxkB,KAAKjR,QAAQgkB,MAAjB,YAA0B/S,KAAKjR,QAAQ+lB,MAAKpJ,MAAK,SAACgL,GAAD,OAAaA,EAAQxmB,KAAOizB,KACnG,IAAKqB,EAAe,MAAO,GAE3B,IAAMC,EAAc,UAAGzkB,KAAKvR,YAAR,aAAG,EAAWM,QAAQ2c,MAAK,SAACgL,GAAD,OAAaA,EAAQxmB,KAAOizB,KAC3E,IAAKsB,EAAgB,CAEnB,GAAID,EAAct1B,OAAS9B,EAAcqD,QAAS,MAAO,GAGzD,IAAMi0B,EAAiB/uB,OAAO0H,OAAOmnB,EAAc9uB,YAChDH,KAAI,SAAColB,GAAD,OAAmBgK,GAAkBH,EAAe7J,MACxDgD,OAMH,MAAM,CAL2B,CAC/BrB,MAAOC,GAAMC,aACbtqB,MAAOsyB,EACPI,IAAKJ,IAEP,mBAAwBE,IAG1B,IAAMG,EAAqBJ,EAAev1B,OAASs1B,EAAct1B,KAEjE,GAAIs1B,EAAct1B,OAAS9B,EAAcoD,OAAQ,CAI/C,IAAMs0B,EAA2BL,EAAeluB,kBAAoBiuB,EAAcjuB,gBAElF,OAAKsuB,GAAuBL,EAAct1B,OAAS9B,EAAcqD,SAAYq0B,EAGtE,CAAC,CAAExI,MAAOC,GAAMC,aAActqB,MAAOsyB,EAAeI,IAAKH,IAFvD,GAKX,IAAMM,EAAwB,GAE1BF,GACFE,EAAOha,KAAK,CAAEuR,MAAOC,GAAMC,aAActqB,MAAOsyB,EAAeI,IAAKH,IAGtE,IAAMC,EAAiB/uB,OAAO0H,OAAOmnB,EAAc9uB,YAChDH,KAAI,SAAColB,GACJ,IAAMqK,EAAwBP,EAAe/uB,WAAWilB,EAAcvkB,SACtE,OAAOuuB,GAAkBH,EAAe7J,EAAeqK,MAExDrH,OAIH,OAFAoH,EAAOha,KAAP,MAAAga,EAAM,YAASL,IAERK,IAiEb,SAASJ,GACP11B,EACA0rB,EACAsK,GAEA,IAAKA,GAAYtK,EAAczrB,OAAS9B,EAAcqD,QAAS,MAAO,GAEtE,IAAMo0B,GAA6B,OAARI,QAAQ,IAARA,OAAA,EAAAA,EAAU/1B,QAASyrB,EAAczrB,KACtD41B,GAAmC,OAARG,QAAQ,IAARA,OAAA,EAAAA,EAAU1uB,mBAAoBokB,EAAcpkB,gBAE7E,GAAIokB,EAAczrB,OAAS9B,EAAcoD,OAKvC,OAAKq0B,GAAsBC,EAClB,CACL,CACExI,MAAOC,GAAMG,iCACbxqB,MAAOyoB,EACPiK,IAAKK,EACLtI,cAAe1tB,EAAO0H,UAIvBkuB,GAAuBlK,EAAczrB,OAAS9B,EAAcqD,SAAYq0B,EAEtE,CACL,CACExI,MAAOC,GAAMQ,eACb7qB,MAAOyoB,EACPiK,IAAKK,GAAYtK,EACjBgC,cAAe1tB,EAAO0H,UAPqF,GAYjH,IAAMouB,EAAwB,GAE1BF,EACFE,EAAOha,KAAK,CACVuR,MAAOC,GAAMQ,eACb7qB,MAAOyoB,EACPiK,IAAKK,GAAYtK,EACjBgC,cAAe1tB,EAAO0H,UAEfmuB,GACTC,EAAOha,KAAK,CACVuR,MAAOC,GAAMG,iCACbxqB,MAAOyoB,EACPiK,IAAKK,EACLtI,cAAe1tB,EAAO0H,UAK1B,IAAMuuB,EApHR,SACEvI,EACAhC,EACAsK,GACgB,IAAD,EACTE,EAAUxK,EAAcjkB,OAAOuU,QAAO,SAACma,EAAUC,GAErD,IAAKA,EAAgB,OAAOD,EAC5B,IAAME,EAAmB,OAAGL,QAAH,IAAGA,OAAH,EAAGA,EAAUvuB,OAAOgV,MAAK,SAAC6Z,GAAD,OAAYF,EAAetvB,SAAf,OAAyBwvB,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAQxvB,UAG/F,OACEuvB,GACAD,EAAenzB,QAAUozB,EAAoBpzB,OAC7CmzB,EAAen2B,OAASo2B,EAAoBp2B,MAC5Cm2B,EAAervB,YAAcsvB,EAAoBtvB,UAE1CovB,EAGH,GAAN,mBACKA,GADL,CAEE,CACE9I,MAAOC,GAAMU,YACb/qB,MAAOmzB,EACPT,IAAKS,EACL1I,gBACAO,YAAavC,EAAcvkB,aAG9B,IAEGovB,GAAW,iBAACP,QAAD,IAACA,OAAD,EAACA,EAAUvuB,cAAX,QAAqB,IAAIuU,QAAO,SAACwa,EAAUH,GAG1D,OACoB,MAHG3K,EAAcjkB,OAAOgV,MAAK,SAAC6Z,GAAD,OAAYD,EAAoBvvB,SAApB,OAA8BwvB,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAQxvB,WAId,MAAnFovB,EAAQzZ,MAAK,SAACga,GAAD,OAAiBA,EAAOxzB,MAAM6D,QAAUuvB,EAAoBvvB,SAGnE,GAAN,mBACK0vB,GADL,CAEE,CACEnJ,MAAOC,GAAMU,YACb/qB,MAAM,2BACDozB,GADA,IAEHp2B,KAAMhC,EAAcqwB,iBAEtBqH,IAAKU,EACL3I,gBACAO,YAAavC,EAAcvkB,WAI1BqvB,IACN,IAEH,MAAM,GAAN,mBAAWN,GAAX,YAAuBK,IA2DFG,CAAe12B,EAAO0H,QAASgkB,EAAesK,GAGnE,OAFAF,EAAOha,KAAP,MAAAga,EAAM,YAASG,IAERH,EAGF,I,GAAMa,GAAkB,SAAC,GAAqE,IAAnE11B,EAAkE,EAAlEA,GAAIzB,EAA8D,EAA9DA,KAAMklB,EAAwD,EAAxDA,SACpCve,EAAQ6E,GAAgBU,IAE9B,EAA0BkrB,qBAAWtD,GAAa,CAAEryB,GAAIiwB,GAAUjwB,EAAIkF,GAAQ3G,QAAQs1B,IAAtF,oBAAOlsB,EAAP,KAAc6G,EAAd,KAEMonB,EAAU9T,mBAAQ,WACtB,MAAO,CACL0C,UADK,SACK3c,GACR,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAe4B,WAAYzqB,aAErDoe,UAJK,SAIKpe,GACR,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAe8B,WAAY3qB,aAErD4c,aAPK,SAOQ5c,GACX,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAekC,cAAe/qB,aAExDqe,aAVK,SAUQre,GACX,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAeiC,cAAe9qB,aAExDse,gBAbK,SAaWte,GACd,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAeoC,kBAAmBjrB,aAE5DqsB,yBAhBK,SAgBoBrsB,GACvB,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAeqC,4BAA6BlrB,aAEtEosB,oBAnBK,SAmBepsB,GAClB,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAeyC,sBAAuBtrB,aAEhEssB,mBAtBK,SAsBctsB,GACjB,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAe+C,qBAAsB5rB,aAE/DusB,MAzBK,SAyBCvsB,GACJ,OAAO2G,EAAS,CAAExP,KAAM0xB,GAAekD,YAAa/rB,gBAGvD,CAAC2G,IAEJI,qBAAU,WACRgnB,EAAQxB,MAAM,CAAE71B,OAAMyB,GAAIiwB,GAAUjwB,EAAIkF,OACvC,CAAClF,EAAI41B,EAASr3B,EAAM2G,IAEvB,IAAMlD,EAAuB,aAC3B2F,SACGiuB,GAEL,OAAO,cAACrR,GAAYsR,SAAb,CAAsB7zB,MAAOA,EAA7B,SAAqCyhB,KChhBxCtmB,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCkE,UAAW,CACThE,UAAWF,EAAMG,QAAQ,IAE3BgrB,cAAe,CACb,yBAA0B,CACxB5qB,SAAU,KAId6qB,gBAAiB,CACfn4B,gBAAiB,2BACjBC,OAAQ,qCACRgN,UAAWF,EAAMG,QAAQ,GACzBkrB,YAAarrB,EAAMG,QAAQ,GAC3BsP,aAAczP,EAAMG,QAAQ,GAC5B0B,SAAU,WACV,YAAa,CACX3O,OAAQ,qCACRI,QAAS,MACTuO,SAAU,WACVwiB,OAAQ,EACRD,MAAO,EACPjQ,cAAe,SAGnBmX,gBAAiB,CACfhnB,WAAY,SACZ5Q,OAAQ,UACRoB,QAAS,OACTC,eAAgB,iBAElB+Z,aAAc,CACZa,WAAY,SACZ/D,WAAY5L,EAAMG,QAAQ,GAC1BkrB,YAAarrB,EAAMG,QAAQ,GAC3BsP,aAAczP,EAAMG,QAAQ,IAE9ByS,MAAO,CACL7f,OAAQ,GACRmT,KAAM,UACN2M,WAAY,8BACZ/f,MAAO,GACP,aAAc,CACZigB,UAAW,mBAGfjN,MAAO,CACLvF,SAAU,IAEZgrB,SAAU,CACR54B,MAAO,mBACPqgB,WAAY,cACZzS,SAAU,QAQDirB,GAAsB,SAAC,GAA0C,IAAxCp3B,EAAuC,EAAvCA,OAC9BP,EAAUrB,KAChB,ECpEoB,SAACsJ,GACrB,IAAMlD,EAAUwG,GAAgBI,IAEhC,EAA8B6H,oBAAS,GAAvC,oBAAOokB,EAAP,KAAgBC,EAAhB,KACA,EAA0BrkB,qBAA1B,oBAAOwE,EAAP,KAAc8f,EAAd,KACA,EAAsBtkB,qBAAtB,oBAAOgC,EAAP,KAAYuiB,EAAZ,KAEMC,EAAW9nB,sBAAW,sBAAC,8BAAA/J,EAAA,6DACrBqnB,EAAWrW,GAAYpS,GAC7B8yB,GAAW,GAFgB,kBAIJrK,EAAShY,IAAIvN,GAJT,OAInB0N,EAJmB,OAKzBoiB,EAAOpiB,GACPmiB,OAAS3c,GANgB,kDAQzB4c,OAAO5c,GACPhT,QAAQ6P,MAAR,MACA8f,EAAS,KAAaG,SAVG,yBAYzBJ,GAAW,GAZc,6EAc1B,CAAC9yB,EAASkD,IAMb,OAJAmI,qBAAU,WACR4nB,MACC,CAACA,IAEG,CAAExiB,MAAKuiB,SAAQC,WAAUhgB,QAAO4f,WDyCgBM,CAAO33B,EAAO0H,SAA7DuN,EAAR,EAAQA,IAAKuiB,EAAb,EAAaA,OAAQC,EAArB,EAAqBA,SAAmBnX,EAAxC,EAA+B+W,QAC/B,EAAqF9R,qBAAWC,IAAxF0P,EAAR,EAAQA,oBAAqBE,EAA7B,EAA6BA,mBAAoBD,EAAjD,EAAiDA,yBAA0BvsB,EAA3E,EAA2EA,MAE3EhB,QAAQC,IAAI,gBAAiBe,EAAMokB,gBAAgBhtB,EAAOiB,KAC1D,IAAM22B,EAAe53B,EAAOC,OAAS9B,EAAckJ,WAC7CT,EhDnByB,SAACqO,GAAD,OAC9BA,EAAWvO,OAAO0H,OAAO,IAAIzM,IAAUsT,GAAKrO,WAAW7G,OAAO6C,GAAxD,GgDkBWi1B,CAAkB5iB,GA4BpC,OACE,eAACxU,EAAA,EAAD,WACE,cAACA,EAAA,EAAD,CAAKyP,WAAW,WAAWxP,QAAQ,OAAOC,eAAe,gBAAzD,SACE,gCACE,cAACoN,GAAA,EAAD,CAAYH,QAAQ,KAAKzN,UAAWV,EAAQiS,MAA5C,4BAGA,cAAC3D,GAAA,EAAD,CAAYH,QAAQ,KAAKzN,UAAWV,EAAQ03B,SAA5C,SACGn3B,EAAO0H,eAed,cAACjH,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,cAAC7D,GAAA,EAAD,CACE5d,UAAWV,EAAQs3B,cACnBjvB,MAAM,4BACNkW,QAAS,cAAC,GAAD,CAAUC,QAAS2Z,EAAcx3B,QA7CtB,WAC1B,IAAMH,EAAQ23B,EAA0Cz5B,EAAcoD,OAAzCpD,EAAckJ,WAC3C+tB,EAAmB,CAAElB,SAAUl0B,EAAOiB,GAAIga,OAAQhb,IAElD,IAAMwG,EAAaC,OAAO6H,KAAKvO,EAAOyG,YAAYuV,QAChD,SAAC1V,EAAKoK,GAAN,mBAAC,eACIpK,GADL,mBAEGoK,EAFH,YAAC,eAEa1Q,EAAOyG,WAAWiK,IAFhC,IAEsCjJ,OAAQ,GAAIxH,KAAM9B,EAAcqD,cAEtE,IAGF0zB,EAAoB,CAClBhB,SAAUl0B,EAAOiB,GACjBwF,sBAkCCmxB,EACC,cAACn3B,EAAA,EAAD,CAAKG,GAAI,CAAEghB,GAAI,GAAf,SACE,cAAC,GAAD,CAAkB3e,MAAOjD,EAAOsH,gBAAiB+L,SA1Db,SAACpQ,GAC3CkyB,EAAyB,CAAEjB,SAAUl0B,EAAOiB,GAAIga,OAAQhY,SA2DlD,KACJ,cAACxC,EAAA,EAAD,CAAKN,UAAWsM,IAAWhN,EAAQqQ,WAAnC,SACE,cAAC,GAAD,CACEsQ,MAAOxZ,EACPH,WAAYzG,EAAOyG,WACnB4M,SA7DuB,SAAC5M,GAC9ByuB,EAAoB,CAAEhB,SAAUl0B,EAAOiB,GAAIwF,gBA6DrC6Z,WAAYA,EACZD,SAAU,SAACE,GAAD,OAAgBA,EAAU/f,OAASg3B,EAAOjX,GAAakX,KACjErwB,WAAYwwB,GACP53B,EAAOiB,UElJhB7C,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCkE,UAAW,CACTpP,QAAS,OACTo3B,oBAAqB,+BAErBn5B,OAAQ,OACR8O,SAAU,WACVP,SAAU,EACV,YAAa,CACXhO,QAAS,MACTuO,SAAU,WACVwiB,OAAQ,EACRjQ,IAAK,OACLC,KAAM,OACN8X,MAAO,OACPC,OAAQ,OACRl5B,OAAQ,qCACRihB,cAAe,SAGnBkY,QAAS,CACP5c,aAAc,eACd,UAAW,CACT3a,QAAS,OACT2R,cAAe,SACf1R,eAAgB,kBAGpBugB,KAAM,CACJpiB,OAAQ,qCACRH,OAAQ,OACRoR,QAASnE,EAAMG,QAAQ,IAEzBmsB,KAAM,CACJC,gBAAiB,GAEnBj5B,QAAS,CACPi5B,gBAAiB,EACjB7c,SAAU,YAMD8c,GAAY,SAAC,GAAwC,IAAtCnY,EAAqC,EAArCA,KAAMyE,EAA+B,EAA/BA,SAC1BjlB,EAAUrB,KAEhB,OACE,sBAAK+B,UAAWV,EAAQqQ,UAAxB,UACE,cAACrP,EAAA,EAAD,CAAKN,UAAWsM,IAAWhN,EAAQyhB,KAAMzhB,EAAQy4B,MAAjD,SAAyDjY,IACzD,cAACxf,EAAA,EAAD,CAAKN,UAAWsM,IAAWhN,EAAQyhB,KAAMzhB,EAAQP,SAAjD,SAA4DwlB,QCpD5DtmB,GAAYC,aAAW,iBAAO,CAClCg6B,mBAAoB,CAClB33B,QAAS,OACTwP,WAAY,SACZvP,eAAgB,SAChBhC,OAAQ,YAIC25B,GAAe,WAC1B,IAAM74B,EAAUrB,KAChB,OACE,cAACqC,EAAA,EAAD,CAAKN,UAAWV,EAAQ44B,mBAAxB,SACE,cAAC53B,EAAA,EAAD,CAAKG,GAAI,CAAEF,QAAS,OAAQwP,WAAY,SAAUmC,cAAe,UAAjE,SACE,eAACtE,GAAA,EAAD,CAAYH,QAAQ,QAAQulB,MAAM,SAAlC,uDAEE,uBAFF,iDCeOoF,GArBE,WACf,MAA2B54B,cAAnBsxB,cAAR,MAAiB,MAAjB,EAEMzxB,EAAOwL,G9CAY,SAACimB,GAAD,OACzB5lB,aAAeF,IAAkB,SAACG,GAAD,OAAUA,EAAKnF,MAAMsW,MAAK,SAACjd,GAAD,OAAUA,EAAKa,OAAS4wB,Q8CDtDuH,CAAYvH,IAIzC,OAFA1hB,KAGE,cAAC,GAAD,CAAiB/P,KAAMA,EAAMyB,GAAIgwB,EAAjC,SACE,cAAC,GAAD,CAAWhR,KAAM,cAAC,GAAD,IAAjB,SACE,cAACuF,GAAYiT,SAAb,UACG,YAAgB,IAAb7vB,EAAY,EAAZA,MACI5I,EAAS4I,EAAM4d,cAAgB5d,EAAMqsB,gBAC3C,OAAOj1B,EAAS,cAAC,GAAD,CAAqBA,OAAQA,IAAa,cAAC,GAAD,Y,UClBhE5B,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvC8sB,OAAQ,CACNh4B,QAAS,OACTwP,WAAY,SACZH,QAASnE,EAAMG,QAAQ,IACvB0B,SAAU,WACVgR,WAAY,+BACZ,sBAAuB,CACrBjH,WAAY5L,EAAMG,QAAQ,IAE5B,YAAY,2BACPiB,aAAc,IADnB,IAEEH,YAAaC,IAAOC,IAAI,QAG5B4rB,UAAW,CACTr5B,OAAQ,UACRmf,WAAY,+BACZ,kBAAmB,CACjBzO,WAAYlD,IAAOC,IAAI,OAG3B2M,KAAM,CACJhZ,QAAS,OACTwP,WAAY,SACZvP,eAAgB,SAChBlC,aAAc,GACd0nB,YAAa,EACb9Y,YAAa,QACbR,YAAaC,IAAOC,IAAI,KACxBgD,QAASnE,EAAMG,QAAQ,IACvBrN,MAAO,GACPC,OAAQ,IAEVi6B,SAAU,CACRvd,aAAc,QAULwd,GAAY,SAAC,GAA+E,IAA7E14B,EAA4E,EAA5EA,UAAWuZ,EAAiE,EAAjEA,KAAMgL,EAA2D,EAA3DA,SAAUtkB,EAAiD,EAAjDA,QAC/CX,EAAUrB,KAEhB,YAAawc,IAATlB,EAEA,eAAC,IAAD,CACEyJ,QAAQ,OACR5D,UAAW,EACXnf,QAASA,EACTD,UAAWsM,IAAWhN,EAAQi5B,OAAQj5B,EAAQm5B,SAAUz4B,EAAnC,gBAAiDV,EAAQk5B,UAAuB,MAAXv4B,IAJ5F,UAMW,MAARsZ,GAAgB,qBAAKvZ,UAAWV,EAAQia,KAAxB,SAA+BA,IAC/CgL,KAML,cAAC,IAAD,CACEnF,UAAW,EACXnf,QAASA,EACTD,UAAWsM,IAAWhN,EAAQi5B,OAAQv4B,EAAjB,gBAA+BV,EAAQk5B,UAAuB,MAAXv4B,IAH1E,SAKGskB,KClEDtmB,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCktB,uBAAwB,CACtB,kBAAmB,CACjBzmB,cAAe,SACfnC,WAAY,aACZhD,SAAU,EACVN,SAAU,MAGdmsB,cAAe,CACbjtB,UAAWF,EAAMG,QAAQ,IACzBgE,QAASnE,EAAMG,QAAQ,IACvBI,SAAU,QAIR6sB,GAAiBv1B,GAAS6C,IAAI5B,IAEvBu0B,GAAc,WACzB,IAAMx5B,EAAUrB,KACVqR,EAAW3E,KAEXpB,EAAUsB,GAAgBI,IAC1BmI,EAAWvI,GAAgBQ,IAC3B7F,EAAuBqF,GAAgBS,IAI7C,OACE,eAAC,GAAD,CAAWtL,UAAWV,EAAQq5B,uBAA9B,UACE,cAACI,GAAA,EAAD,CAAYC,QAAM,EAAlB,mBACA,cAAC,KAAD,CACE7hB,kBAAgB,EAChBnX,UAAWV,EAAQs5B,cACnBxlB,WAAY5N,GAAwB4N,EACpCtQ,MAAOyG,EACP2J,SAAU,SAACC,GAAD,OAVarQ,EAUgBqQ,EAAItT,OAAOiD,MAVTwM,EAASpF,GAAW0E,SAAS9L,KAAhD,IAACA,GAKzB,SAOG+1B,GAAe1yB,KAAI,SAAC7B,GAAD,OAClB,cAACqW,GAAA,EAAD,CAA+B7X,MAAOwB,EAAOiF,QAA7C,SACGjF,EAAOpE,MADKoE,EAAOiF,kB,UCvC1BtL,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJnL,QAAS,OACT2R,cAAe,MACfrE,aAAcpC,EAAMG,QAAQ,IAE9BqtB,OAAQ,CACN,QAAS,CACP/b,OAAQ,GAEV,QAAS,CACP3e,MAAO,GACPC,OAAQ,KAGZ+S,MAAO,CACL8F,WAAY5L,EAAMG,QAAQ,IAE5BstB,YAAa,CACX96B,MAAO,eACPiZ,WAAY5L,EAAMG,QAAQ,IAC1BrN,MAAOkN,EAAMG,QAAQ,IAEvButB,WAAY,CACV/6B,MAAO,wBACPmC,QAAS,OACTwP,WAAY,SACZ,UAAW,CACT3R,MAAO,UAGXg7B,YAAa,CACX3a,WAAY,eAEd4a,MAAO,CACLz6B,QAAS,QAWA06B,GAAmB,SAAC,GAA0E,IAAD,EAAvE/xB,EAAuE,EAAvEA,QAASgyB,EAA8D,EAA9DA,UAAWt5B,EAAmD,EAAnDA,QAASu5B,EAA0C,EAA1CA,aACxDl6B,EAAUrB,KAEhB,OACE,cAAC,GAAD,CACEsb,KACEhS,EACE,cAAC,cAAD,CACEvH,UAAWV,EAAQ25B,OACnB3J,KAAM/nB,EACNkyB,YAAU,EACVC,aAAa,EACbC,UAAU,EACVC,WAAW,YAEXnf,EAENxa,QAASA,EAbX,SAeE,eAACK,EAAA,EAAD,CAAKN,UAAWV,EAAQiS,MAAxB,UACE,cAAC3D,GAAA,EAAD,CACEH,QAAQ,QACRzN,UAAWsM,KAAU,oBAAIhN,EAAQ+5B,OAAS9xB,GAArB,eAA+BjI,EAAQ85B,YAAc7xB,GAArD,IAFvB,SAIGA,EAAU8G,GAAmB9G,GAAWgyB,IAE1ChyB,GAAWiyB,GACV,eAACzV,GAAA,EAAD,CACEE,IAAI,aACJhkB,QAAS,WACPqJ,OAAOuwB,SAAS7V,KAAhB,mCAEFhkB,UAAWV,EAAQ65B,WACnB/U,UAAU,SANZ,wBASE,cAAC0V,GAAA,EAAD,CAAc95B,UAAWV,EAAQ45B,uBC/EvCj7B,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJvM,OAAQ,WAEVoS,MAAO,CACL8F,WAAY5L,EAAMG,QAAQ,GAC1BxN,MAAO,WAETmb,KAAM,CACJnb,MAAO,WAET27B,0BAA2B,CACzBzsB,SAAU,WACV+J,WAAY,GACZyY,OAAQ,GAEVkK,qBAAsB,CACpB1sB,SAAU,WACVuqB,QAAS,GACTt5B,MAAO,YAIE07B,GAAmB,WAC9B,IAAM36B,EAAUrB,KACVsJ,EAAUsD,GAAgBO,IAChC,EAA8Ckf,KAAtCK,EAAR,EAAQA,aAAcF,EAAtB,EAAsBA,QAASG,EAA/B,EAA+BA,WAC/B,EAAgD9X,oBAAkB,GAAlE,oBAAOonB,EAAP,KAAyBC,EAAzB,KACA,OAAK5yB,EAWH,eAACjH,EAAA,EAAD,CAAKN,UAAWV,EAAQy6B,0BAAxB,UACE,cAAC,GAAD,CACExyB,QAASA,EACTgyB,UAAU,sBACVt5B,QAAS2qB,IAAezB,GAAW2B,YAAc,kBAAMqP,GAAqBD,SAAoBzf,EAChG+e,aAAc5O,IAAezB,GAAW2B,cAEzCoP,GACC,cAAC55B,EAAA,EAAD,CAAKN,UAAWV,EAAQ06B,qBAAxB,SACE,cAACr5B,EAAA,EAAD,CACEE,KAAK,QACL4M,QAAQ,YACRrP,MAAM,UACN0P,WAAS,EACT7N,QAAS,WACPwqB,EAAQ2P,cACRD,GAAoB,IAPxB,oCAlBJ,cAAC,GAAD,CAAWl6B,QAAS0qB,EAAcpR,KAAM,cAAC,KAAD,CAASvZ,UAAWV,EAAQia,OAAUvZ,UAAWV,EAAQoM,KAAjG,SACE,cAACkC,GAAA,EAAD,CAAYH,QAAQ,QAAQzN,UAAWV,EAAQiS,MAA/C,+BC/BFtT,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJnL,QAAS,OACT2R,cAAe,MACfrE,aAAcpC,EAAMG,QAAQ,IAE9ByuB,IAAK,CACH95B,QAAS,QACThC,MAAO,GACPC,OAAQ,IAEV+S,MAAO,CACL8F,WAAY5L,EAAMG,QAAQ,IAE5BkB,KAAM,CACJC,SAAU,GAEZutB,MAAO,CACLjjB,WAAY5L,EAAMG,QAAQ,IAE5B2uB,QAAS,CACPn8B,MAAOqN,EAAMqL,QAAQyjB,QAAQpvB,KAC7Be,cAAe,iBAINsuB,GAAS,WACpB,IAAMl7B,EAAUrB,KACVwB,EAAWC,cAEXH,EAASsL,GAAgBS,IAE/B,OACE,eAAChL,EAAA,EAAD,CAAKN,UAAWV,EAAQoM,KAAxB,UACE,cAAC,GAAD,CAAW6N,KAAM,cAAC,IAAD,CAAWA,KAAK,UAAYtZ,QAAS,kBAAMR,EAAS,IAAD,OAAKF,KAAzE,SACE,cAACqO,GAAA,EAAD,CAAYH,QAAQ,KAAKzN,UAAWV,EAAQiS,MAA5C,qBAIF,cAAC,GAAD,CAAWvR,UAAWV,EAAQwN,KAA9B,SACE,sBAAK9M,UAAWV,EAAQg7B,MAAxB,UACE,cAAC1sB,GAAA,EAAD,CAAY5N,UAAWV,EAAQi7B,QAA/B,0BACA,cAAC3sB,GAAA,EAAD,CAAYH,QAAQ,QAApB,yFAKJ,cAAC,GAAD,IACA,cAAC,GAAD,CAAkBlG,QAAShI,EAAQg6B,UAAU,qBAC7C,cAAC,GAAD,QCtDAt7B,GAAYC,aAAW,SAACuN,GAAD,MAAY,CACvCC,KAAM,CACJnL,QAAS,OACT2R,cAAe,SACfnF,SAAU,EACVqR,UAAW,QACXxO,QAASnE,EAAMG,QAAQ,QAId6uB,GAAO,WAClB,IAAMn7B,EAAUrB,KAChB,OACE,sBAAK+B,UAAWV,EAAQoM,KAAxB,UACE,cAAC,GAAD,IACA,cAAC,IAAD,QCCSgvB,GAdI,WACjB,OACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAOC,KAAK,IAAIC,QAAS,cAAC,GAAD,IAAzB,UACE,cAAC,IAAD,CAAOj0B,OAAK,EAACi0B,QAAS,cAAC,GAAD,MACtB,cAAC,IAAD,CAAOD,KAAK,UAAUC,QAAS,cAAC,GAAD,MAC/B,cAAC,IAAD,CAAOD,KAAK,wBAAwBC,QAAS,cAAC,GAAD,cCZ1CC,GAAoBC,4BAAH,4JCSxBC,GAAO,WACX,OACE,cAAC,IAAD,CAAkBtvB,MAAOuvB,IAAzB,SACE,eAAC,gBAAD,CAAevvB,MAAOwvB,QAAtB,UACE,cAACC,EAAA,EAAD,IACA,cAACL,GAAD,IACA,cAAC,IAAD,CAAe5mB,MAAO3J,GAAtB,SACE,cAAC,GAAD,YAOV6wB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.58dd9623.chunk.js","sourcesContent":["export enum ExecutionOption {\n  NONE,\n  SEND,\n  DELEGATE_CALL,\n  BOTH,\n}\n\nexport type Role = {\n  id: string\n  name: string\n  targets: Target[]\n  members: Member[]\n}\n\nexport interface Target extends ConditionalEntity {\n  id: string\n  address: string\n  conditions: TargetConditions\n}\n\nexport type Member = {\n  id: string\n  address: string\n}\n\nexport enum EntityStatus {\n  REMOVE,\n  PENDING,\n  NONE,\n}\n\nexport type FuncParams = Record<string, boolean[]>\n\nexport interface ParamCondition {\n  index: number\n  type: ParameterType\n  condition: ParamComparison\n  value: string[] // usually a single-element array, multiple values are used only for ParamComparison.ONE_OF\n}\n\nexport enum ParamComparison {\n  EQUAL_TO = \"EqualTo\",\n  ONE_OF = \"OneOf\",\n  GREATER_THAN = \"GreaterThan\",\n  LESS_THAN = \"LessThan\",\n}\n\nexport enum ParameterType {\n  STATIC = \"Static\",\n  DYNAMIC = \"Dynamic\",\n  DYNAMIC32 = \"Dynamic32\",\n  NO_RESTRICTION = \"NoRestriction\",\n}\n\nexport enum ParamNativeType {\n  INT,\n  UINT,\n  BOOLEAN,\n  BYTES,\n  BYTES_FIXED,\n  ADDRESS,\n  STRING,\n  ARRAY,\n  TUPLE,\n\n  UNSUPPORTED,\n}\n\nexport enum ConditionType {\n  BLOCKED = \"None\",\n  WILDCARDED = \"Target\",\n  SCOPED = \"Function\",\n}\n\nexport interface FunctionCondition extends ConditionalEntity {\n  sighash: string\n  params: ParamCondition[]\n}\n\nexport interface ConditionalEntity {\n  type: ConditionType\n  executionOption: ExecutionOption\n}\n\nexport type TargetConditions = Record<string, FunctionCondition>\n","import React from \"react\"\nimport { Box, Button, IconButton, TableRow, TableCell, makeStyles } from \"@material-ui/core\"\nimport KeyboardArrowRightSharp from \"@material-ui/icons/KeyboardArrowRightSharp\"\nimport { Role } from \"../../../typings/role\"\nimport { useNavigate, useParams } from \"react-router-dom\"\n\nconst useStyles = makeStyles(() => ({\n  arrowIcon: {\n    color: \"rgba(217, 212, 173, 1)\",\n  },\n  iconButton: {\n    borderRadius: 8,\n    color: \"rgba(217, 212, 173, 1)\",\n    width: 34,\n    height: 34,\n  },\n  deleteButton: {\n    backgroundColor: \"rgba(217, 212, 173, 0.1)\",\n    border: \"1px solid rgba(217, 212, 173, 0.3)\",\n    \"&:hover\": {\n      opacity: 0.8,\n    },\n  },\n  deleteIcon: {\n    width: 16,\n  },\n  tableButton: {\n    backgroundColor: \"rgba(217, 212, 173, 0.1)\",\n    border: \"1px solid rgba(217, 212, 173, 0.3)\",\n    borderRadius: 8,\n    color: \"rgba(217, 212, 173, 1)\",\n    \"&:before\": {\n      content: \"none\",\n    },\n  },\n  tableCell: {\n    borderBottom: \"1px solid rgba(217, 212, 173, 0.3)\",\n  },\n  tableRow: {\n    cursor: \"pointer\",\n    \"&:hover $tableCell\": {\n      backgroundColor: \"rgba(217, 212, 173, 0.02)\",\n    },\n  },\n}))\n\ntype Props = { role: Role }\n\nconst RoleTableRow = ({ role }: Props): React.ReactElement => {\n  const classes = useStyles()\n  const { module } = useParams()\n  const navigate = useNavigate()\n  const handleNavigation = () => navigate(`/${module}/roles/${role.name}`)\n  const targets = role.targets.filter((target) => target.type !== \"None\")\n\n  return (\n    <TableRow key={role.id} className={classes.tableRow} onClick={handleNavigation}>\n      <TableCell className={classes.tableCell}>{`Role #${role.name}`}</TableCell>\n      <TableCell className={classes.tableCell}>{`${role.members.length} Members`}</TableCell>\n      <TableCell className={classes.tableCell}>{`${targets.length} Targets`}</TableCell>\n      <TableCell className={classes.tableCell}>\n        <Box display=\"flex\" justifyContent=\"flex-end\">\n          <Box sx={{ mr: 1 }}>\n            <Button aria-label=\"Edit Role\" className={classes.tableButton}>\n              Edit\n            </Button>\n          </Box>\n          {/* <Box sx={{ mr: 1 }}>\n            <IconButton\n              size=\"small\"\n              aria-label=\"Delete Role\"\n              className={classNames(classes.iconButton, classes.deleteButton)}\n            >\n              <DeleteOutlineSharp className={classes.deleteIcon} />\n            </IconButton>\n          </Box> */}\n          <IconButton size=\"small\" aria-label=\"View Role\" className={classes.iconButton}>\n            <KeyboardArrowRightSharp className={classes.arrowIcon} />\n          </IconButton>\n        </Box>\n      </TableCell>\n    </TableRow>\n  )\n}\n\nexport default RoleTableRow\n","import { ConditionType, FunctionCondition, ParamComparison, ParameterType, ParamNativeType } from \"../typings/role\"\nimport { FunctionFragment, Interface, JsonFragment } from \"@ethersproject/abi\"\nimport { ethers } from \"ethers\"\n\nexport function getFunctionConditionType(paramConditions: FunctionCondition[\"params\"]) {\n  return paramConditions.some((x) => x) ? ConditionType.SCOPED : ConditionType.BLOCKED\n}\n\nexport function getKeyFromFunction(func: FunctionFragment) {\n  return Interface.getSighash(func)\n}\n\nexport enum BooleanValue {\n  FALSE = \"false\",\n  TRUE = \"true\",\n}\n\nexport function getNativeType(param: ethers.utils.ParamType | null): ParamNativeType {\n  if (!param) return ParamNativeType.UNSUPPORTED\n\n  if (param.baseType === \"address\") return ParamNativeType.ADDRESS\n  if (param.baseType === \"string\") return ParamNativeType.STRING\n  if (param.baseType === \"bool\") return ParamNativeType.BOOLEAN\n  if (param.baseType === \"tuple\") return ParamNativeType.TUPLE\n  if (param.baseType.startsWith(\"uint\")) return ParamNativeType.UINT\n  if (param.baseType.startsWith(\"int\")) return ParamNativeType.INT\n  if (param.baseType === \"array\") {\n    if (param.arrayChildren.baseType === \"array\") return ParamNativeType.UNSUPPORTED\n    return ParamNativeType.ARRAY\n  }\n  if (param.baseType.startsWith(\"bytes\") && param.baseType !== \"bytes\") {\n    return ParamNativeType.BYTES_FIXED\n  }\n  return ParamNativeType.BYTES\n}\n\nexport function getConditionsPerType(type: ParamNativeType): ParamComparison[] {\n  switch (type) {\n    case ParamNativeType.UINT:\n      return [ParamComparison.EQUAL_TO, ParamComparison.ONE_OF, ParamComparison.LESS_THAN, ParamComparison.GREATER_THAN]\n\n    case ParamNativeType.BOOLEAN:\n      return [ParamComparison.EQUAL_TO]\n  }\n\n  return [ParamComparison.EQUAL_TO, ParamComparison.ONE_OF]\n}\n\nexport function getConditionType(nativeType: ParamNativeType): ParameterType {\n  // Are tuples support?\n  if (nativeType === ParamNativeType.ARRAY) return ParameterType.DYNAMIC32\n  if (nativeType === ParamNativeType.BYTES || nativeType === ParamNativeType.STRING) return ParameterType.DYNAMIC\n  return ParameterType.STATIC\n}\n\nexport function isWriteFunction(method: FunctionFragment) {\n  if (!method.stateMutability) return true\n  return ![\"view\", \"pure\"].includes(method.stateMutability)\n}\n\nexport const getWriteFunctions = (abi: JsonFragment[] | undefined) =>\n  !abi ? [] : Object.values(new Interface(abi).functions).filter(isWriteFunction)\n\nexport function formatParamValue(param: ethers.utils.ParamType, value: string) {\n  const nativeType = getNativeType(param)\n  if (nativeType === ParamNativeType.ARRAY || nativeType === ParamNativeType.TUPLE) return JSON.parse(value)\n  return value\n}\n","import CHAINS from \"../data/chains.json\"\n\nconst INFURA_KEY = process.env.REACT_APP_INFURA_KEY as string\nif (!INFURA_KEY) throw new Error(\"INFURA KEY NOT SET\")\n\nexport enum Network {\n  MAINNET = 1,\n  GOERLI = 5,\n  SEPOLIA = 11155111,\n  OPTIMISM = 10,\n  BASE = 8453,\n  OPTIMISM_ON_GNOSIS = 300,\n  BINANCE = 56,\n  GNOSIS = 100,\n  POLYGON = 137,\n  EWT = 246,\n  ARBITRUM = 42161,\n  AVALANCHE = 43114,\n  VOLTA = 73799,\n  AURORA = 1313161554,\n}\n\nexport const NETWORKS = [\n  Network.MAINNET,\n  Network.GOERLI,\n  Network.SEPOLIA,\n  Network.OPTIMISM,\n  Network.BASE,\n  Network.BINANCE,\n  Network.GNOSIS,\n  Network.POLYGON,\n  Network.EWT,\n  Network.ARBITRUM,\n  Network.AVALANCHE,\n  Network.VOLTA,\n  Network.AURORA,\n]\n\ninterface NetworkConfig {\n  name: string\n  chainId: number\n  shortName: string\n  rpc: string[]\n  infoURL: string\n  nativeCurrency: {\n    name: string\n    symbol: string\n    decimals: number\n  }\n  explorers: {\n    name: string\n    url: string\n    standard: string\n  }[]\n}\n\nexport function getNetworkRPC(network: Network) {\n  const config = getNetwork(network)\n  if (config) {\n    // eslint-disable-next-line no-template-curly-in-string\n    return config.rpc[0].replace(\"${INFURA_API_KEY}\", INFURA_KEY)\n  }\n}\n\nexport function getNetwork(network: Network): NetworkConfig {\n  return CHAINS[network]\n}\n","import { createClient, gql, defaultExchanges } from \"urql\"\nimport { ethers } from \"ethers\"\nimport {\n  ConditionType,\n  ExecutionOption,\n  FunctionCondition,\n  Member,\n  ParamComparison,\n  ParamCondition,\n  ParameterType,\n  Role,\n  Target,\n  TargetConditions,\n} from \"../typings/role\"\nimport { getFunctionConditionType } from \"../utils/conditions\"\nimport { Network } from \"../utils/networks\"\n\nlet client\n\nif (!process.env.REACT_APP_SUBGRAPH_BASE_URL) {\n  throw new Error(\"REACT_APP_SUBGRAPH_BASE_URL is not set\")\n}\nif (!process.env.REACT_APP_SUBGRAPH_GNOSIS_CHAIN) {\n  throw new Error(\"REACT_APP_SUBGRAPH_GNOSIS_CHAIN is not set\")\n}\nif (!process.env.REACT_APP_SUBGRAPH_MAINNET) {\n  throw new Error(\"REACT_APP_SUBGRAPH_MAINNET is not set\")\n}\nif (!process.env.REACT_APP_SUBGRAPH_SEPOLIA) {\n  throw new Error(\"REACT_APP_SUBGRAPH_SEPOLIA is not set\")\n}\nif (!process.env.REACT_APP_SUBGRAPH_POLYGON) {\n  throw new Error(\"REACT_APP_SUBGRAPH_POLYGON is not set\")\n}\nif (!process.env.REACT_APP_SUBGRAPH_ARBITRUM) {\n  throw new Error(\"REACT_APP_SUBGRAPH_ARBITRUM is not set\")\n}\nif (!process.env.REACT_APP_SUBGRAPH_OPTIMISM) {\n  throw new Error(\"REACT_APP_SUBGRAPH_OPTIMISM is not set\")\n}\nif (!process.env.REACT_APP_SUBGRAPH_BASE) {\n  throw new Error(\"REACT_APP_SUBGRAPH_BASE is not set\")\n}\n// if (!process.env.REACT_APP_SUBGRAPH_OPTIMISM_ON_GNOSIS_CHAIN) {\n//   throw new Error(\"REACT_APP_SUBGRAPH_OPTIMISM_ON_GNOSIS_CHAIN is not set\")\n// }\n\nconst BASE_SUBGRAPH_URL = process.env.REACT_APP_SUBGRAPH_BASE_URL\nconst SUBGRAPH_GNOSIS_CHAIN = process.env.REACT_APP_SUBGRAPH_GNOSIS_CHAIN\nconst SUBGRAPH_SEPOLIA = process.env.REACT_APP_SUBGRAPH_SEPOLIA\nconst SUBGRAPH_MAINNET = process.env.REACT_APP_SUBGRAPH_MAINNET\nconst SUBGRAPH_POLYGON = process.env.REACT_APP_SUBGRAPH_POLYGON\nconst SUBGRAPH_ARBITRUM = process.env.REACT_APP_SUBGRAPH_ARBITRUM\nconst SUBGRAPH_OPTIMISM = process.env.REACT_APP_SUBGRAPH_OPTIMISM\nconst SUBGRAPH_BASE = process.env.REACT_APP_SUBGRAPH_BASE\n// const SUBGRAPH_OPTIMISM_ON_GNOSIS_CHAIN = process.env.REACT_APP_SUBGRAPH_OPTIMISM_ON_GNOSIS_CHAIN\n\nconst getUrl = (network?: Network) => {\n  switch (network) {\n    case Network.MAINNET:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_MAINNET\n    case Network.GNOSIS:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_GNOSIS_CHAIN\n    case Network.SEPOLIA:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_SEPOLIA\n    case Network.POLYGON:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_POLYGON\n    case Network.OPTIMISM:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_OPTIMISM\n    case Network.ARBITRUM:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_ARBITRUM\n    case Network.BASE:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_BASE\n    // case Network.OPTIMISM_ON_GNOSIS:\n    //   return BASE_SUBGRAPH_URL + SUBGRAPH_OPTIMISM_ON_GNOSIS_CHAIN\n    default:\n      return BASE_SUBGRAPH_URL + SUBGRAPH_SEPOLIA\n  }\n}\n\nconst getSubgraphClient = (network?: Network) =>\n  createClient({\n    url: getUrl(network),\n    exchanges: [...defaultExchanges],\n    fetchOptions: {\n      cache: \"no-cache\",\n    },\n  })\n\nconst RolesQuery = gql`\n  query ($id: ID!) {\n    rolesModifier(id: $id) {\n      id\n      address\n      avatar\n      roles {\n        id\n        name\n        targets {\n          id\n          address\n          executionOptions\n          clearance\n          functions {\n            sighash\n            executionOptions\n            wildcarded\n            parameters {\n              index\n              type\n              comparison\n              comparisonValue\n            }\n          }\n        }\n        members {\n          id\n          member {\n            id\n            address\n          }\n        }\n      }\n    }\n  }\n`\n\ninterface RolesQueryResponse {\n  rolesModifier: null | {\n    id: string\n    address: string\n    avatar: string\n    roles: {\n      id: string\n      name: string\n      targets: {\n        id: string\n        address: string\n        executionOptions: string\n        clearance: ConditionType\n        functions: {\n          sighash: string\n          executionOptions: string\n          wildcarded: boolean\n          parameters: {\n            index: number\n            type: ParameterType\n            comparison: ParamComparison\n            comparisonValue: string[]\n          }[]\n        }[]\n      }[]\n      members: {\n        id: string\n        member: Member\n      }[]\n    }[]\n  }\n}\n\nexport const fetchRoles = async (network: Network, rolesModifierAddress: string): Promise<Role[]> => {\n  client = getSubgraphClient(network)\n  if (rolesModifierAddress == null || !ethers.utils.isAddress(rolesModifierAddress)) {\n    return []\n  }\n  try {\n    const roles = await client\n      .query<RolesQueryResponse>(RolesQuery, { id: rolesModifierAddress.toLowerCase() })\n      .toPromise()\n    if (roles.data && roles.data.rolesModifier) {\n      return roles.data.rolesModifier.roles.map((role) => ({\n        ...role,\n        members: role.members.map((roleMember) => roleMember.member),\n        targets: role.targets.map((target): Target => {\n          const conditions: TargetConditions = Object.fromEntries(\n            target.functions.map((func) => {\n              const paramConditions = func.parameters.map((param) => {\n                const paramCondition: ParamCondition = {\n                  index: param.index,\n                  condition: param.comparison,\n                  value: param.comparisonValue,\n                  type: param.type,\n                }\n                return paramCondition\n              })\n\n              const funcConditions: FunctionCondition = {\n                sighash: func.sighash,\n                type: func.wildcarded ? ConditionType.WILDCARDED : getFunctionConditionType(paramConditions),\n                executionOption: getExecutionOptionFromLabel(func.executionOptions),\n                params: paramConditions,\n              }\n              return [func.sighash, funcConditions]\n            }),\n          )\n          return {\n            id: target.id,\n            address: target.address,\n            type: target.clearance,\n            executionOption: getExecutionOptionFromLabel(target.executionOptions),\n            conditions,\n          }\n        }),\n      }))\n    } else {\n      return []\n    }\n  } catch (err) {\n    console.log(\"err\", err)\n    throw err\n  }\n}\n\nfunction getExecutionOptionFromLabel(label: string): ExecutionOption {\n  switch (label) {\n    case \"Both\":\n      return ExecutionOption.BOTH\n    case \"Send\":\n      return ExecutionOption.SEND\n    case \"DelegateCall\":\n      return ExecutionOption.DELEGATE_CALL\n  }\n  return ExecutionOption.NONE\n}\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { RolesAppState } from \"./models\"\nimport * as subgraph from \"../../services/subgraph\"\nimport { Network } from \"../../utils/networks\"\n\nconst rolesAppInitialState: RolesAppState = {\n  roles: [],\n  rolesModifierAddress: \"\",\n  transactions: [],\n  transactionPending: false,\n  transactionError: \"\",\n}\n\nexport const rolesAppSlice = createSlice({\n  name: \"roles\",\n  initialState: rolesAppInitialState,\n  reducers: {\n    setRolesModifierAddress(state, action: PayloadAction<string>) {\n      state.rolesModifierAddress = action.payload\n    },\n    resetTransactionError(state) {\n      state.transactionError = \"\"\n    },\n    setTransactionPending(state, action: PayloadAction<boolean>) {\n      state.transactionPending = action.payload\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchRoles.fulfilled, (state, action) => {\n      state.roles = action.payload\n    })\n  },\n})\n\nexport const { setRolesModifierAddress, setTransactionPending, resetTransactionError } = rolesAppSlice.actions\n\nexport const fetchRoles = createAsyncThunk(\n  \"roles/fetchRoles\",\n  ({ network, address }: { network: Network; address: string }) => {\n    return subgraph.fetchRoles(network, address)\n  },\n)\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { Web3State } from \"./models\"\nimport { BigNumber, ethers } from \"ethers\"\nimport { getNetwork, Network } from \"../../utils/networks\"\n\nconst ethereum = (window as any).ethereum\nlet initialChainId\ntry {\n  const chainId: BigNumber | undefined = ethereum && ethereum.chainId && ethers.BigNumber.from(ethereum.chainId)\n  if (chainId && getNetwork(chainId.toNumber())) {\n    initialChainId = chainId.toNumber()\n  }\n} catch (err) {}\n\nconst web3InitialState: Web3State = {\n  chainId: initialChainId || Network.MAINNET,\n  connectedAddress: \"\",\n  ens: \"\",\n  networkPickerDisabled: false,\n}\n\nexport const web3Slice = createSlice({\n  name: \"web3\",\n  initialState: web3InitialState,\n  reducers: {\n    setConnectedAddress(state, action: PayloadAction<string>) {\n      state.connectedAddress = action.payload\n    },\n    setChainId(state, action: PayloadAction<number>) {\n      console.log(\"chain is set to:\" + action.payload)\n      state.chainId = action.payload\n    },\n    setENS(state, action: PayloadAction<string>) {\n      state.ens = action.payload\n    },\n    resetConnectedAddress(state) {\n      state.connectedAddress = \"\"\n      state.ens = \"\"\n    },\n    setNetworkPickerDisabled(state, action: PayloadAction<boolean>) {\n      state.networkPickerDisabled = action.payload\n    },\n  },\n})\n\nexport const { setChainId, setENS, setConnectedAddress, resetConnectedAddress, setNetworkPickerDisabled } =\n  web3Slice.actions\n","import { configureStore } from \"@reduxjs/toolkit\"\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\"\nimport { rolesAppSlice } from \"./main/rolesSlice\"\nimport { web3Slice } from \"./main/web3Slice\"\n\nexport const REDUX_STORE = configureStore({\n  reducer: {\n    web3: web3Slice.reducer,\n    rolesApp: rolesAppSlice.reducer,\n  },\n})\n\nexport type RootState = ReturnType<typeof REDUX_STORE.getState>\nexport type AppDispatch = typeof REDUX_STORE.dispatch\n\nexport const useRootDispatch = () => useDispatch<AppDispatch>()\nexport const useRootSelector: TypedUseSelectorHook<RootState> = useSelector\n","import { RootState } from \"../index\"\nimport { createSelector } from \"@reduxjs/toolkit\"\n\nconst getWeb3State = (state: RootState) => state.web3\nconst getRolesAppState = (state: RootState) => state.rolesApp\n\nexport const getChainId = createSelector(getWeb3State, (main) => main.chainId)\nexport const getConnectedAddress = createSelector(getWeb3State, (main) => main.connectedAddress)\nexport const getENS = createSelector(getWeb3State, (main) => main.ens)\nexport const getNetworkPickerDisabled = createSelector(getWeb3State, (main) => main.networkPickerDisabled)\n\nexport const getRolesModifierAddress = createSelector(getRolesAppState, (main) => main.rolesModifierAddress)\nexport const getRoles = createSelector(getRolesAppState, (main) => main.roles)\nexport const getRoleById = (roleId: string) =>\n  createSelector(getRolesAppState, (main) => main.roles.find((role) => role.name === roleId))\nexport const getTransactionError = createSelector(getRolesAppState, (main) => main.transactionError)\nexport const getTransactionPending = createSelector(getRolesAppState, (main) => main.transactionPending)\n","import React from \"react\"\nimport { Box, makeStyles, Table, TableBody, TableCell, TableHead, TableRow } from \"@material-ui/core\"\nimport classNames from \"classnames\"\nimport RoleTableRow from \"./RoleTableRow\"\nimport { useRootSelector } from \"../../../store\"\nimport { getRoles } from \"../../../store/main/selectors\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(2),\n  },\n  actionsCell: {\n    width: 200,\n  },\n  tableCell: {\n    borderBottom: \"1px solid rgba(217, 212, 173, 0.3)\",\n  },\n  tableHeadCell: {\n    borderBottom: \"1px solid rgba(217, 212, 173, 0.7)\",\n    borderTop: \"1px solid rgba(217, 212, 173, 0.7)\",\n    color: \"rgba(217, 212, 173)\",\n    fontSize: 14,\n    letterSpacing: 1,\n    textTransform: \"uppercase\",\n  },\n}))\n\nconst RoleTable = (): React.ReactElement => {\n  const classes = useStyles()\n  const roles = useRootSelector(getRoles)\n\n  return (\n    <Box className={classes.root}>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.tableHeadCell}>Role</TableCell>\n            <TableCell className={classes.tableHeadCell}>Members</TableCell>\n            <TableCell className={classes.tableHeadCell}>Targets</TableCell>\n            <TableCell className={classNames(classes.tableHeadCell, classes.actionsCell)} />\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {roles.map((role) => (\n            <RoleTableRow key={role.id} role={role} />\n          ))}\n        </TableBody>\n      </Table>\n    </Box>\n  )\n}\n\nexport default RoleTable\n","import React from \"react\"\nimport { Box, Button, InputAdornment, makeStyles } from \"@material-ui/core\"\nimport { Link, useParams } from \"react-router-dom\"\nimport RoleTable from \"../Role/RoleTable\"\nimport { colors, doubleBorder, ZodiacTextField } from \"zodiac-ui-components\"\n\nimport AddIcon from \"@material-ui/icons/Add\"\nimport SearchIcon from \"@material-ui/icons/Search\"\n\nconst useStyles = makeStyles(() => ({\n  search: {\n    maxWidth: 300,\n    \"&.border--double .MuiInputBase-root\": {\n      borderColor: colors.tan[300],\n      \"&::before\": doubleBorder(-4, colors.tan[300]),\n    },\n  },\n  grow: {\n    flexGrow: 1,\n  },\n}))\n\nexport const RolesList = () => {\n  const classes = useStyles()\n  const { module } = useParams()\n  return (\n    <>\n      <Box display=\"flex\">\n        <ZodiacTextField\n          placeholder=\"Filter by Members or Targets\"\n          borderStyle=\"double\"\n          className={classes.search}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SearchIcon />\n              </InputAdornment>\n            ),\n          }}\n        />\n        <div className={classes.grow} />\n        <Link to={`/${module}/roles/new`}>\n          <Button startIcon={<AddIcon />} variant=\"contained\" color=\"secondary\">\n            Create a role\n          </Button>\n        </Link>\n      </Box>\n      <RoleTable />\n    </>\n  )\n}\n","import { Box, Button, Typography } from \"@material-ui/core\"\nimport { AddSharp } from \"@material-ui/icons\"\nimport { useNavigate, useParams } from \"react-router-dom\"\n\nexport const RolesEmpty = () => {\n  const navigate = useNavigate()\n  const { module } = useParams()\n\n  const handleCreateRole = () => navigate(`/${module}/roles/new`)\n\n  return (\n    <Box\n      style={{\n        maxWidth: 500,\n      }}\n    >\n      <Typography style={{ marginBottom: 8 }}>You currently have no roles associated with this safe.</Typography>\n      <Button\n        fullWidth\n        color=\"secondary\"\n        size=\"large\"\n        variant=\"contained\"\n        onClick={handleCreateRole}\n        startIcon={<AddSharp />}\n      >\n        Create Role\n      </Button>\n    </Box>\n  )\n}\n","import { ethers } from \"ethers\"\nimport EIP3770List from \"../data/EIP3770.json\"\n\nconst EIP3770Names = Object.values(EIP3770List).map((name) => name.toLowerCase())\nconst EIP3770ChainIds = Object.keys(EIP3770List)\n\n/**\n * Truncates an ethereum address to the format 0x00000000\n * @param address Full address to truncate\n * @returns Truncated address\n */\nexport function truncateEthAddress(address: string) {\n  const truncateRegex = /^(0x[a-zA-Z0-9]{4})[a-zA-Z0-9]+([a-zA-Z0-9]{4})$/\n  const match = address.match(truncateRegex)\n  if (!match) return address\n  return `${match[1]}${match[2]}`\n}\n\nexport function getAddress(address: string) {\n  if (address.includes(\":\")) {\n    const [chainShortName, _address] = address.split(\":\", 2)\n    const chainId = getEIP3770ChainId(chainShortName)\n    if (chainId && ethers.utils.isAddress(_address)) {\n      return {\n        chainId,\n        address: _address,\n        fullAddress: address, // EIP-3770\n      }\n    }\n  }\n  if (ethers.utils.isAddress(address)) {\n    return { address }\n  }\n}\n\nexport function formatAddressEIP3770(chainId: number, address: string) {\n  const prefix = getEIP3770Prefix(chainId)\n  if (!prefix) return\n  return `${prefix}:${address}`\n}\n\nexport function getEIP3770Prefix(chainId: number): string | undefined {\n  const index = chainId.toString()\n  return (EIP3770List as Record<string, string>)[index]\n}\n\nexport function getEIP3770ChainId(name: string): number | undefined {\n  const index = EIP3770Names.indexOf(name.toLowerCase())\n  if (index >= 0) {\n    return parseInt(EIP3770ChainIds[index])\n  }\n  return\n}\n","import { useCallback, useEffect } from \"react\"\nimport { getAddress } from \"../utils/address\"\nimport { fetchRoles, setRolesModifierAddress } from \"../store/main/rolesSlice\"\nimport { useRootDispatch, useRootSelector } from \"../store\"\nimport { useNavigate, useParams } from \"react-router-dom\"\nimport { getChainId, getRoles, getRolesModifierAddress } from \"../store/main/selectors\"\nimport { setChainId } from \"../store/main/web3Slice\"\n\ninterface FetchRolesOptions {\n  lazy?: boolean\n}\n\nexport const useFetchRoles = ({ lazy = false }: FetchRolesOptions = {}) => {\n  const dispatch = useRootDispatch()\n  const navigate = useNavigate()\n  const { module } = useParams()\n\n  const network = useRootSelector(getChainId)\n  const rolesModifierAddress = useRootSelector(getRolesModifierAddress)\n  const roles = useRootSelector(getRoles)\n\n  const fetch = useCallback(() => {\n    const addressData = module && getAddress(module)\n    if (!addressData) {\n      navigate(\"/\")\n      return\n    }\n    const address = addressData.address\n    dispatch(fetchRoles({ network, address }))\n  }, [dispatch, module, navigate, network])\n\n  useEffect(() => {\n    const addressData = module && getAddress(module)\n    if (!addressData) return\n\n    if (rolesModifierAddress !== addressData.address) {\n      dispatch(setRolesModifierAddress(addressData.address))\n    }\n    if (addressData.chainId && network !== addressData.chainId) {\n      dispatch(setChainId(addressData.chainId))\n    }\n  }, [dispatch, module, network, rolesModifierAddress])\n\n  useEffect(() => {\n    if (!lazy) fetch()\n  }, [dispatch, navigate, module, fetch, lazy])\n\n  return { fetch, roles }\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 10,\n    height: 13,\n    viewBox: \"0 0 10 13\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8.29066 6.19775L6.00066 3.90775V11.4948C6.00066 12.0448 5.55066 12.4948 5.00066 12.4948C4.44966 12.4948 4.00066 12.0448 4.00066 11.4948V3.90775L1.70966 6.19775C1.32066 6.58675 0.684656 6.58675 0.295656 6.19775C-0.0933437 5.80875 -0.0933437 5.17275 0.295656 4.78375L4.29366 0.786751C4.35166 0.72675 4.42566 0.694752 4.49366 0.653751C4.53566 0.628752 4.56966 0.592752 4.61566 0.572751C4.65666 0.554751 4.70266 0.554751 4.74566 0.544751C4.95766 0.487751 5.18166 0.488751 5.38566 0.572751C5.42966 0.591751 5.46266 0.626751 5.50366 0.651751C5.57366 0.692751 5.64666 0.725751 5.70766 0.786751L9.70466 4.78375C10.0937 5.17275 10.0937 5.80875 9.70466 6.19775C9.31566 6.58775 8.67966 6.58775 8.29066 6.19775Z\",\n    fill: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUp);\nexport default __webpack_public_path__ + \"static/media/arrow-up.3e7abd66.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\nimport { RolesList } from \"./RolesList\"\nimport { useRootSelector } from \"../../../store\"\nimport { getRoles } from \"../../../store/main/selectors\"\nimport { RolesEmpty } from \"./RolesEmpty\"\nimport { useFetchRoles } from \"../../../hooks/useFetchRoles\"\nimport classNames from \"classnames\"\nimport { ZodiacPaper } from \"zodiac-ui-components\"\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    flexGrow: 1,\n    padding: theme.spacing(2),\n    background: \"transparent\",\n  },\n  center: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}))\n\nexport const RolesView = (): React.ReactElement => {\n  const classes = useStyles()\n\n  useFetchRoles()\n\n  const roles = useRootSelector(getRoles)\n\n  if (roles.length) {\n    return (\n      <ZodiacPaper className={classes.container}>\n        <RolesList />\n      </ZodiacPaper>\n    )\n  }\n  return (\n    <ZodiacPaper className={classNames(classes.container, classes.center)}>\n      <RolesEmpty />\n    </ZodiacPaper>\n  )\n}\n\nexport default RolesView\n","import { Box, Button, makeStyles, Paper, Typography } from \"@material-ui/core\"\nimport { ZodiacTextField } from \"zodiac-ui-components\"\nimport { ReactComponent as ArrowUp } from \"../../../assets/icons/arrow-up.svg\"\nimport { useState } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { formatAddressEIP3770, getAddress } from \"../../../utils/address\"\nimport { useRootSelector } from \"../../../store\"\nimport { getChainId } from \"../../../store/main/selectors\"\nimport { useSafeApp } from \"../../../hooks/useSafeApp\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    marginTop: theme.spacing(8),\n  },\n  content: {\n    padding: theme.spacing(2),\n    maxWidth: 400,\n  },\n  spacing: {\n    marginBottom: theme.spacing(2),\n  },\n  errorSpacing: {\n    marginTop: theme.spacing(2),\n  },\n}))\n\nexport const AttachRolesModifierView = () => {\n  const classes = useStyles()\n  const navigate = useNavigate()\n\n  useSafeApp()\n\n  const chainId = useRootSelector(getChainId)\n\n  const [address, setAddress] = useState(\"\")\n  const addressData = getAddress(address)\n\n  const handleAttach = async () => {\n    if (addressData) {\n      const fullAddress = addressData.fullAddress || formatAddressEIP3770(chainId, addressData.address)\n      navigate(`/${fullAddress}`, { replace: true })\n    }\n  }\n\n  return (\n    <Box className={classes.root}>\n      <Paper className={classes.content}>\n        <Typography className={classes.spacing} variant=\"h4\">\n          Attach to a Roles Modifier\n        </Typography>\n        <Typography className={classes.spacing} variant=\"body1\">\n          Once a Role Modifier is connected you can manage roles and permissions.\n        </Typography>\n\n        <ZodiacTextField\n          className={classes.spacing}\n          onChange={(evt: any) => setAddress(evt.target.value)}\n          label=\"Role Modifier Address\"\n          placeholder=\"0x...\"\n        />\n\n        <Button\n          fullWidth\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={handleAttach}\n          disabled={!addressData}\n          startIcon={<ArrowUp />}\n        >\n          Attach Roles Modifier\n        </Button>\n      </Paper>\n    </Box>\n  )\n}\n\nexport default AttachRolesModifierView\n","import { useRootDispatch } from \"../store\"\nimport { useEffect } from \"react\"\nimport SafeAppsSDK from \"@gnosis.pm/safe-apps-sdk\"\nimport { setChainId, setNetworkPickerDisabled } from \"../store/main/web3Slice\"\n\nexport const useSafeApp = () => {\n  const dispatch = useRootDispatch()\n\n  useEffect(() => {\n    // try to get chainId from safe (if we are not in a safe that is okay too)\n    const safeSDK = new SafeAppsSDK()\n    safeSDK.safe\n      .getChainInfo()\n      .then(({ chainId }) => {\n        const chainIdNumber = chainId != null ? parseInt(chainId) : null\n        if (chainIdNumber != null) {\n          dispatch(setChainId(chainIdNumber))\n          // Block the user to change the current network\n          dispatch(setNetworkPickerDisabled(true))\n          console.info(\"[chain-picker] chain set to gnosis safe's chain: \", chainIdNumber)\n        }\n      })\n      .catch(console.warn)\n  }, [dispatch])\n}\n","import localforage from \"localforage\"\nimport memoryDriver from \"localforage-memoryStorageDriver\"\nimport { AxiosRequestConfig } from \"axios\"\nimport { setup } from \"axios-cache-adapter\"\n\nexport async function configure(config: AxiosRequestConfig) {\n  await localforage.defineDriver(memoryDriver)\n\n  const forageStore = localforage.createInstance({\n    driver: [localforage.INDEXEDDB, localforage.LOCALSTORAGE, memoryDriver._driver],\n    name: \"zodiac-roles-mod-app\",\n  })\n\n  const client = setup({\n    ...config,\n    cache: {\n      maxAge: 30 * 24 * 60 * 1000, // 30 days\n      store: forageStore,\n      exclude: { query: false },\n    },\n  })\n\n  return {\n    store: forageStore,\n    client,\n  }\n}\n","import { AxiosInstance, AxiosRequestConfig, AxiosResponse } from \"axios\"\nimport { configure } from \"../utils/http\"\nimport { JsonFragment } from \"@ethersproject/abi\"\nimport { Interface } from \"ethers/lib/utils\"\nimport detectProxyTarget from \"evm-proxy-detection\"\nimport { ethers } from \"ethers\"\n\nexport interface ExplorerConfig {\n  apiUrl: string\n  apiKey?: string\n}\n\nexport class Explorer {\n  private readonly apiUrl: string\n  private readonly apiKey?: string\n  private httpClient: AxiosInstance | undefined\n  private cache: LocalForage | undefined\n  private provider: ethers.providers.StaticJsonRpcProvider\n\n  constructor(config: ExplorerConfig, provider: ethers.providers.StaticJsonRpcProvider) {\n    this.apiUrl = config.apiUrl\n    this.apiKey = config.apiKey\n    this.provider = provider\n  }\n\n  async abi(address: string): Promise<JsonFragment[]> {\n    const client = await this.getHttpClient()\n    const response = await client.get<{ status: string; result: string }>(this.apiUrl, {\n      params: {\n        module: \"contract\",\n        action: \"getabi\",\n        address,\n      },\n    })\n\n    if (response.data.status !== \"1\") {\n      // could not fetch ABI\n\n      // check if this is a proxy\n      const proxyAddress = await this.detectProxyTarget(address)\n      if (proxyAddress) return await this.abi(proxyAddress)\n\n      // otherwise remove from cache so we can try again later\n      this.removeResponseFromCache(response)\n      throw new Error(response.data.result)\n    }\n\n    const json = JSON.parse(response.data.result) as JsonFragment[]\n\n    if (looksLikeAProxy(json)) {\n      const proxyAddress = await this.detectProxyTarget(address)\n      if (proxyAddress) return await this.abi(proxyAddress)\n    }\n\n    return json\n  }\n\n  async detectProxyTarget(address: string): Promise<string | null> {\n    return await detectProxyTarget(address, ({ method, params }) => this.provider.send(method, params))\n  }\n\n  private getHttpClientConfig(): AxiosRequestConfig {\n    const params = this.apiKey ? { apikey: this.apiKey } : {}\n    return {\n      url: this.apiUrl,\n      params,\n    }\n  }\n\n  private async getHttpClient(): Promise<AxiosInstance> {\n    if (!this.httpClient) {\n      const { client, store } = await configure(this.getHttpClientConfig())\n      this.httpClient = client\n      this.cache = store\n    }\n    return this.httpClient\n  }\n\n  private removeResponseFromCache<T>(response: AxiosResponse<T>) {\n    if (!this.cache) return\n    const params = new URLSearchParams(response.config.params)\n    const url = `${response.config.url}?${params.toString()}`\n    this.cache.removeItem(url)\n  }\n}\n\nconst looksLikeAProxy = (abi: JsonFragment[]) => {\n  const iface = new Interface(abi)\n  const signatures = Object.keys(iface.functions)\n  return (\n    signatures.length === 0 ||\n    signatures ||\n    looksLike(abi, [\"implementation()\"]) || // for EIP-897/EIP-1967/... proxies\n    looksLike(abi, [\"comptrollerImplementation()\"]) // for Compound Comptroller\n  )\n}\n\nconst looksLike = (abi: JsonFragment[], expectedFunctions: string[]) => {\n  const iface = new Interface(abi)\n  const signatures = Object.keys(iface.functions)\n  return expectedFunctions.every((sig) => signatures.includes(sig))\n}\n","import { Explorer, ExplorerConfig } from \"../services/explorer\"\nimport { getNetworkRPC, Network } from \"./networks\"\nimport memoize from \"lodash.memoize\"\nimport { ethers } from \"ethers\"\n\nconst ETHERSCAN_KEY = process.env.REACT_APP_ETHERSCAN_KEY as string\nconst GNOSISSCAN_KEY = process.env.REACT_APP_GNOSISSCAN_KEY as string\nconst POLYGONSCAN_KEY = process.env.REACT_APP_POLYGONSCAN_KEY as string\nconst ARBISCAN_KEY = process.env.REACT_APP_ARBISCAN_KEY as string\nconst BSCSCAN_KEY = process.env.REACT_APP_BSCSCAN_KEY as string\nconst OPTIMISTICSCAN_KEY = process.env.REACT_APP_OPTIMISTICSCAN_KEY as string\nconst SNOWTRACE_KEY = process.env.REACT_APP_SNOWTRACE_KEY as string\nconst BASESCAN_KEY = process.env.REACT_APP_BASESCAN_KEY as string\n\nif (!ETHERSCAN_KEY) throw new Error(\"ETHERSCAN_KEY env is not set\")\nif (!GNOSISSCAN_KEY) throw new Error(\"GNOSISSCAN_KEY env is not set\")\nif (!POLYGONSCAN_KEY) throw new Error(\"POLYGONSCAN_KEY env is not set\")\nif (!ARBISCAN_KEY) throw new Error(\"ARBISCAN_KEY env is not set\")\nif (!BSCSCAN_KEY) throw new Error(\"BSCSCAN_KEY env is not set\")\nif (!OPTIMISTICSCAN_KEY) throw new Error(\"OPTIMISTICSCAN_KEY env is not set\")\nif (!SNOWTRACE_KEY) throw new Error(\"SNOWTRACE_KEY env is not set\")\nif (!BASESCAN_KEY) throw new Error(\"BASESCAN_KEY env is not set\")\n\nconst explorerConfig: Record<Network, ExplorerConfig> = {\n  [Network.MAINNET]: {\n    apiUrl: \"https://api.etherscan.io/api\",\n    apiKey: ETHERSCAN_KEY,\n  },\n  [Network.GOERLI]: {\n    apiUrl: \"https://api-goerli.etherscan.io/api\",\n    apiKey: ETHERSCAN_KEY,\n  },\n  [Network.SEPOLIA]: {\n    apiUrl: \"https://api-sepolia.etherscan.io/api\",\n    apiKey: ETHERSCAN_KEY,\n  },\n  [Network.OPTIMISM_ON_GNOSIS]: {\n    apiUrl: \"https://blockscout.com/xdai/optimism/\",\n  },\n  [Network.POLYGON]: {\n    apiUrl: \"https://api.polygonscan.com/api\",\n    apiKey: POLYGONSCAN_KEY,\n  },\n  [Network.ARBITRUM]: {\n    apiUrl: \"https://api.arbiscan.io/api\",\n    apiKey: ARBISCAN_KEY,\n  },\n  [Network.GNOSIS]: {\n    apiUrl: \"https://api.gnosisscan.io/api\",\n    apiKey: GNOSISSCAN_KEY,\n  },\n  [Network.BINANCE]: {\n    apiUrl: \"https://api.bscscan.com/api\",\n    apiKey: BSCSCAN_KEY,\n  },\n  [Network.OPTIMISM]: {\n    apiUrl: \"https://api-optimistic.etherscan.io/api\",\n    apiKey: OPTIMISTICSCAN_KEY,\n  },\n  [Network.BASE]: {\n    apiUrl: \"https://api.basescan.org/api\",\n    apiKey: BASESCAN_KEY,\n  },\n  [Network.EWT]: {\n    apiUrl: \"https://explorer.energyweb.org/api\",\n  },\n  [Network.VOLTA]: {\n    apiUrl: \"https://volta-explorer.energyweb.org/api\",\n  },\n  [Network.AVALANCHE]: {\n    apiUrl: \"https://api.snowtrace.io/api\",\n    apiKey: SNOWTRACE_KEY,\n  },\n  [Network.AURORA]: {\n    apiUrl: \"https://explorer.mainnet.aurora.dev/api\",\n  },\n}\n\nexport const getExplorer = memoize((network: Network) => {\n  const config = explorerConfig[network]\n  const rpcUrl = getNetworkRPC(network)\n  const provider = new ethers.providers.StaticJsonRpcProvider(rpcUrl, network)\n  return new Explorer(config, provider)\n})\n","import { makeStyles, Select as MUISelect, SelectProps } from \"@material-ui/core\"\nimport classNames from \"classnames\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    borderColor: theme.palette.common.white,\n    padding: theme.spacing(1, 0.5, 1, 1),\n    \"&::after\": {\n      content: \"none\",\n    },\n  },\n  select: {\n    \"&:focus\": {\n      background: \"none\",\n    },\n  },\n}))\n\nexport const Select = (props: SelectProps) => {\n  const classes = useStyles()\n\n  return (\n    <MUISelect\n      disableUnderline\n      {...props}\n      classes={{ ...props.classes, select: classNames(classes.select, props.classes?.select) }}\n      className={classNames(classes.root, props.className)}\n    />\n  )\n}\n","import React from \"react\"\nimport { Box, BoxProps } from \"@material-ui/core\"\n\ntype ColumnProps = Omit<BoxProps, \"display\" | \"flexDirection\">\n\nexport const Column = (props: ColumnProps) => {\n  return <Box display=\"flex\" flexDirection=\"column\" {...props} />\n}\n","import { ethers } from \"ethers\"\nimport { ParamNativeType } from \"../../../../typings/role\"\nimport { makeStyles, TextField } from \"@material-ui/core\"\nimport { useEffect, useRef, useState } from \"react\"\nimport { formatParamValue, getNativeType } from \"../../../../utils/conditions\"\nimport classNames from \"classnames\"\nimport { Column } from \"../../../commons/layout/Column\"\n\ninterface ParamConditionInputValueProps {\n  param: ethers.utils.ParamType | null\n  value: string[]\n  disabled?: boolean\n  onDecodingError(err: Error): void\n\n  onChange(value: string[]): void\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"auto !important\",\n    marginLeft: theme.spacing(1),\n    flexGrow: 1,\n  },\n  error: {\n    borderColor: \"rgba(255, 0, 0, 0.7)\",\n  },\n  input: {\n    padding: theme.spacing(0.5),\n    fontSize: 12,\n  },\n}))\n\nconst PlaceholderPerType: Record<ParamNativeType, string> = {\n  [ParamNativeType.ARRAY]: \"[element 0, value 1, ...]\",\n  [ParamNativeType.TUPLE]: \"[field 0, field 1, ...]\",\n  [ParamNativeType.BOOLEAN]: \"true\",\n  [ParamNativeType.INT]: \"-235000000\",\n  [ParamNativeType.UINT]: \"235000000\",\n  [ParamNativeType.ADDRESS]: \"0xABF...123\",\n  [ParamNativeType.STRING]: \"Enter a string\",\n  [ParamNativeType.BYTES]: \"0x...\",\n  [ParamNativeType.BYTES_FIXED]: \"0x...\",\n  [ParamNativeType.UNSUPPORTED]: \"0x...\",\n}\n\nfunction getPlaceholderForType(param: ethers.utils.ParamType | null) {\n  const nativeType = getNativeType(param)\n  return PlaceholderPerType[nativeType]\n}\n\nexport const ParamConditionInputValue = ({\n  onDecodingError,\n  param,\n  disabled,\n  onChange,\n  value,\n}: ParamConditionInputValueProps) => {\n  const classes = useStyles()\n\n  const valueDecoded = useDecodedValue(param, value[0] || \"\", onDecodingError)\n  const [internalValue, setInternalValue] = useState(valueDecoded)\n\n  useEffect(() => {\n    setInternalValue(valueDecoded)\n  }, [valueDecoded])\n\n  let valid = !param || tryAbiEncode(param, internalValue) !== null\n\n  const handleChange = (inputValue: string) => {\n    setInternalValue(inputValue)\n    onChange([tryAbiEncode(param, inputValue) || \"\"])\n  }\n\n  return (\n    <TextField\n      error={!valid}\n      disabled={disabled}\n      className={classes.root}\n      InputProps={{\n        disableUnderline: true,\n        className: classNames(classes.input, { [classes.error]: !valid && internalValue.length > 0 }),\n      }}\n      value={internalValue}\n      placeholder={getPlaceholderForType(param)}\n      onChange={(evt) => handleChange(evt.target.value)}\n    />\n  )\n}\n\nexport const OneOfParamConditionInputValue = ({\n  onDecodingError,\n  param,\n  value,\n  disabled,\n  onChange,\n}: ParamConditionInputValueProps) => {\n  const [internalValue, setInternalValue] = useState(value)\n\n  return (\n    <Column flexGrow={1}>\n      {[\n        ...value, //.filter((v) => v.length > 0),\n        {}, // add empty element to the end\n      ].map((value, index) => (\n        <ParamConditionInputValue\n          onDecodingError={onDecodingError}\n          param={param}\n          key={index}\n          value={[internalValue[index]]}\n          disabled={disabled}\n          onChange={(newItemValue: string[]) => {\n            const newValue = [...internalValue]\n            newValue[index] = newItemValue[0]\n            setInternalValue(newValue)\n            onChange(newValue.filter((v) => v.length > 0))\n          }}\n        />\n      ))}\n    </Column>\n  )\n}\n\nconst useDecodedValue = (\n  param: ethers.utils.ParamType | null,\n  value: string,\n  onDecodingError: (err: Error) => void,\n) => {\n  const callbackRef = useRef(onDecodingError)\n  callbackRef.current = onDecodingError\n  const valueDecoded = param ? tryAbiDecode(param, value) : value\n\n  useEffect(() => {\n    if (param) {\n      tryAbiDecode(param, value, callbackRef.current)\n    }\n  }, [param, value])\n\n  return valueDecoded\n}\n\nconst tryAbiEncode = (param: ethers.utils.ParamType | null, value: string) => {\n  if (!param) return value\n\n  try {\n    return ethers.utils.defaultAbiCoder.encode([param], [formatParamValue(param, value)])\n  } catch (err) {\n    return null\n  }\n}\n\nconst tryAbiDecode = (param: ethers.utils.ParamType, value: string, onDecodingError?: (err: Error) => void) => {\n  if (!value) return value\n\n  const paramTypeString = param.format(\"full\")\n  const nativeType = getNativeType(param)\n  try {\n    const decoded = ethers.utils.defaultAbiCoder.decode([paramTypeString], value)[0]\n    return nativeType === ParamNativeType.ARRAY || nativeType === ParamNativeType.TUPLE\n      ? JSON.stringify(decoded)\n      : decoded.toString()\n  } catch (err) {\n    console.error(\"Error decoding value\", err, { param, value })\n    if (onDecodingError) onDecodingError(err as Error)\n    return value\n  }\n}\n","var _rect, _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckboxChecked(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 19,\n    height: 19,\n    stroke: \"white\"\n  })), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5 11L8 14L15 6\",\n    stroke: \"white\",\n    strokeWidth: 2,\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckboxChecked);\nexport default __webpack_public_path__ + \"static/media/checkbox-checked.5ddd1994.svg\";\nexport { ForwardRef as ReactComponent };","import { Select } from \"../../../commons/input/Select\"\nimport { Button, IconButton, makeStyles, MenuItem } from \"@material-ui/core\"\nimport { Add } from \"@material-ui/icons\"\nimport { ethers } from \"ethers\"\nimport { ParamComparison, ParamCondition, ParamNativeType } from \"../../../../typings/role\"\nimport { BooleanValue, getConditionsPerType, getConditionType, getNativeType } from \"../../../../utils/conditions\"\nimport { OneOfParamConditionInputValue, ParamConditionInputValue } from \"./ParamConditionInputValue\"\nimport DeleteIcon from \"@material-ui/icons/DeleteOutline\"\n\nconst useStyles = makeStyles((theme) => ({\n  select: {\n    borderColor: \"rgba(217,212,173, 0.3)\",\n    width: \"auto !important\",\n    display: \"inline-block\",\n    fontSize: 12,\n    padding: theme.spacing(0.5),\n    color: \"rgb(217,212,173)\",\n  },\n  selectIcon: {\n    color: \"rgba(217,212,173,0.5)\",\n  },\n  button: {\n    color: \"#D9D4AD\",\n    borderColor: \"#D9D4AD\",\n    opacity: 0.3,\n    padding: theme.spacing(0.25, 0.5),\n    fontSize: 12,\n    \"&:before\": {\n      content: \"none\",\n    },\n  },\n  icon: {\n    fontSize: 12,\n    marginRight: theme.spacing(0.5),\n  },\n  btnRemove: {\n    color: \"#D9D4AD\",\n    padding: theme.spacing(0.25),\n    marginLeft: theme.spacing(1),\n    border: \"1px solid rgba(217, 212, 173, 0.3)\",\n    borderRadius: 0,\n  },\n}))\n\nexport const ConditionLabel: Record<ParamComparison, string> = {\n  [ParamComparison.EQUAL_TO]: \"is equal to\",\n  [ParamComparison.ONE_OF]: \"is one of\",\n  [ParamComparison.GREATER_THAN]: \"is greater than\",\n  [ParamComparison.LESS_THAN]: \"is less than\",\n}\n\ninterface ParamConditionInputProps {\n  index: number\n  /** If null is specified, no decoding will be applied */\n  param: ethers.utils.ParamType | null\n  condition?: ParamCondition\n  disabled?: boolean\n  onDecodingError(err: Error): void\n\n  onChange(value?: ParamCondition): void\n}\n\nexport const ParamConditionInput = ({\n  index,\n  param,\n  condition,\n  disabled,\n  onChange,\n  onDecodingError,\n}: ParamConditionInputProps) => {\n  const classes = useStyles()\n  const nativeType = getNativeType(param)\n  const type = getConditionType(nativeType)\n  const options = getConditionsPerType(nativeType)\n\n  const handleChange = (condition: ParamComparison) => onChange({ index, type, condition, value: [\"\"] })\n  const handleRemove = () => onChange(undefined)\n\n  if (!condition) {\n    const handleClick = () => {\n      if (nativeType === ParamNativeType.BOOLEAN) {\n        onChange({ index, type, condition: ParamComparison.EQUAL_TO, value: [BooleanValue.FALSE] })\n        return\n      }\n      handleChange(options[0])\n    }\n    return (\n      <Button variant=\"outlined\" className={classes.button} onClick={handleClick}>\n        <Add className={classes.icon} />\n        add a condition\n      </Button>\n    )\n  }\n\n  const removeButton = (\n    <IconButton disableRipple className={classes.btnRemove} size=\"small\" disabled={disabled} onClick={handleRemove}>\n      <DeleteIcon fontSize=\"inherit\" />\n    </IconButton>\n  )\n\n  if (nativeType === ParamNativeType.BOOLEAN) {\n    const handleBooleanChange = (value: string) =>\n      onChange({ index, type, condition: ParamComparison.EQUAL_TO, value: [value] })\n    return (\n      <>\n        <Select\n          classes={{ icon: classes.selectIcon }}\n          className={classes.select}\n          disabled={disabled}\n          value={condition.value[0]}\n          onChange={(evt) => handleBooleanChange(evt.target.value as string)}\n        >\n          <MenuItem value={BooleanValue.FALSE}>is false</MenuItem>\n          <MenuItem value={BooleanValue.TRUE}>is true</MenuItem>\n        </Select>\n        {removeButton}\n      </>\n    )\n  }\n\n  const handleValueChange = (value: string[]) => onChange({ ...condition, value })\n\n  return (\n    <>\n      <Select\n        classes={{ icon: classes.selectIcon }}\n        className={classes.select}\n        disabled={disabled}\n        value={condition.condition}\n        onChange={(evt) => handleChange(evt.target.value as ParamComparison)}\n      >\n        {options.map((option) => (\n          <MenuItem key={option} value={option}>\n            {ConditionLabel[option]}\n          </MenuItem>\n        ))}\n      </Select>\n      {condition && condition.condition !== ParamComparison.ONE_OF && (\n        <ParamConditionInputValue\n          onDecodingError={onDecodingError}\n          param={param}\n          value={condition.value}\n          disabled={disabled}\n          onChange={handleValueChange}\n        />\n      )}\n      {condition && condition.condition === ParamComparison.ONE_OF && (\n        <OneOfParamConditionInputValue\n          onDecodingError={onDecodingError}\n          param={param}\n          value={condition.value}\n          disabled={disabled}\n          onChange={handleValueChange}\n        />\n      )}\n      {removeButton}\n    </>\n  )\n}\n","import React, { Fragment, useState } from \"react\"\nimport { makeStyles, Typography } from \"@material-ui/core\"\nimport { ParamConditionInput } from \"./ParamConditionInput\"\nimport { ConditionType, FunctionCondition, ParamCondition } from \"../../../../typings/role\"\nimport { FunctionFragment } from \"@ethersproject/abi\"\nimport { ArrowRight } from \"@material-ui/icons\"\n\ninterface TargetFunctionParamsProps {\n  func: FunctionFragment | string\n  funcConditions: FunctionCondition\n  disabled: boolean\n\n  onChange(value: FunctionCondition): void\n}\n\nconst useStyles = makeStyles((theme) => ({\n  checkbox: {\n    padding: theme.spacing(1),\n  },\n  row: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"start\",\n    marginTop: theme.spacing(1),\n  },\n  rowHead: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  type: {\n    color: \"rgb(255,255,255, 0.6)\",\n    marginLeft: theme.spacing(1),\n    paddingRight: theme.spacing(2),\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    maxWidth: 600,\n  },\n}))\n\nexport const TargetFunctionParams = ({ func, funcConditions, disabled, onChange }: TargetFunctionParamsProps) => {\n  const classes = useStyles()\n  const [decodingError, setDecodingError] = useState(false)\n\n  const handleConditionChange = (index: number, value?: ParamCondition) => {\n    const newConditions = funcConditions.params.filter((param) => param.index !== index)\n    if (value != null) {\n      newConditions.push(value)\n    }\n    const type: ConditionType = newConditions.length ? ConditionType.SCOPED : ConditionType.WILDCARDED\n    onChange({ ...funcConditions, type, params: newConditions })\n  }\n\n  const maxIndex = funcConditions.params.reduce((max, param) => Math.max(max, param.index), -1)\n  const indices = Array.from({ length: maxIndex + 1 }, (_, i) => i)\n\n  const parameterMismatch = (func: FunctionFragment, funcConditions: FunctionCondition): boolean =>\n    func.inputs.length <= funcConditions.params.reduce((acc, param) => (acc < param.index ? param.index : acc), 0)\n\n  return typeof func === \"string\" || parameterMismatch(func, funcConditions) || decodingError ? (\n    <>\n      {indices.map((index) => {\n        const param = funcConditions.params.find((p) => p.index === index)\n        return (\n          <Fragment key={index}>\n            {param ? (\n              <div className={classes.row}>\n                <div className={classes.rowHead}>\n                  <ArrowRight />\n                  <Typography variant=\"body1\">[{index}]</Typography>\n                  <Typography variant=\"body2\" className={classes.type}>\n                    ({param.type})\n                  </Typography>\n                </div>\n                <ParamConditionInput\n                  disabled={disabled}\n                  param={null}\n                  index={index}\n                  condition={param}\n                  onChange={(changingCondition) => handleConditionChange(index, changingCondition)}\n                  onDecodingError={() => setDecodingError(true)}\n                />\n              </div>\n            ) : (\n              <div className={classes.row}>\n                <div className={classes.rowHead}>\n                  <ArrowRight />\n                  <Typography variant=\"body1\">[{index}]</Typography>\n                  <Typography variant=\"body2\" className={classes.type}>\n                    Unknown type\n                  </Typography>\n                </div>\n                <ParamConditionInput\n                  disabled // we don't support scoping params via the app, if we don't even know the type (Static vs. Dynamic vs. Dynamic32)\n                  param={null}\n                  index={index}\n                  onChange={(changingCondition) => handleConditionChange(index, changingCondition)}\n                  onDecodingError={() => setDecodingError(true)}\n                />\n              </div>\n            )}\n          </Fragment>\n        )\n      })}\n    </>\n  ) : (\n    <>\n      {func.inputs.map((param, index) => (\n        <div key={index} className={classes.row}>\n          <div className={classes.rowHead}>\n            <ArrowRight />\n            <Typography variant=\"body1\">{param.name}</Typography>\n            <Typography variant=\"body2\" className={classes.type}>\n              ({param.type})\n            </Typography>\n          </div>\n          <ParamConditionInput\n            disabled={disabled}\n            param={param}\n            index={index}\n            condition={funcConditions.params.find((param) => param?.index === index)}\n            onChange={(condition) => handleConditionChange(index, condition)}\n            onDecodingError={() => setDecodingError(true)}\n          />\n        </div>\n      ))}\n    </>\n  )\n}\n","var _rect;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckboxUnchecked(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 19,\n    height: 19,\n    stroke: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckboxUnchecked);\nexport default __webpack_public_path__ + \"static/media/checkbox-unchecked.37b04fa4.svg\";\nexport { ForwardRef as ReactComponent };","var _rect, _rect2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCheckboxIndeterminate(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0.5,\n    y: 0.5,\n    width: 19,\n    height: 19,\n    stroke: \"white\"\n  })), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 5,\n    y: 9.5,\n    width: 10,\n    height: 0.5,\n    stroke: \"white\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCheckboxIndeterminate);\nexport default __webpack_public_path__ + \"static/media/checkbox-indeterminate.3db056d8.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport { Checkbox as MUICheckbox, CheckboxProps, makeStyles } from \"@material-ui/core\"\nimport { ReactComponent as CheckMarkCheckedIcon } from \"../../../assets/icons/checkbox-checked.svg\"\nimport { ReactComponent as CheckMarkUncheckedIcon } from \"../../../assets/icons/checkbox-unchecked.svg\"\nimport { ReactComponent as CheckMarkIndeterminateIcon } from \"../../../assets/icons/checkbox-indeterminate.svg\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: 0,\n    backgroundColor: \"transparent !important\",\n    borderRadius: 0,\n    margin: theme.spacing(1, 1, 1, 0),\n  },\n}))\n\nexport const Checkbox = ({ ...props }: CheckboxProps) => {\n  const classes = useStyles()\n\n  return (\n    <MUICheckbox\n      disableFocusRipple\n      disableRipple\n      disableTouchRipple\n      icon={<CheckMarkUncheckedIcon />}\n      checkedIcon={<CheckMarkCheckedIcon />}\n      indeterminateIcon={<CheckMarkIndeterminateIcon />}\n      classes={{ root: classes.root }}\n      {...props}\n    />\n  )\n}\n","import React from \"react\"\nimport { FormControlLabel } from \"@material-ui/core\"\nimport { ExecutionOption } from \"../../../../typings/role\"\nimport { Checkbox } from \"../../../commons/input/Checkbox\"\n\ninterface Props {\n  value: ExecutionOption\n  onChange(value: ExecutionOption): void\n  disabled?: boolean\n}\n\nexport const ExecutionOptions = ({ onChange, value, disabled }: Props) => {\n  const { allowSend, allowDelegateCall } = enumToFlags(value)\n  return (\n    <>\n      <FormControlLabel\n        label=\"Allow sending ether\"\n        control={\n          <Checkbox\n            checked={allowSend}\n            onClick={(ev) => onChange(flagsToEnum({ allowDelegateCall, allowSend: !allowSend }))}\n          />\n        }\n      />\n\n      <FormControlLabel\n        label=\"Allow delegate call\"\n        control={\n          <Checkbox\n            checked={allowDelegateCall}\n            onClick={(ev) => onChange(flagsToEnum({ allowSend, allowDelegateCall: !allowDelegateCall }))}\n          />\n        }\n      />\n    </>\n  )\n}\n\nconst enumToFlags = (value: ExecutionOption) => {\n  let allowSend = false\n  let allowDelegateCall = false\n  if (value === ExecutionOption.BOTH) {\n    allowSend = true\n    allowDelegateCall = true\n  } else if (value === ExecutionOption.SEND) {\n    allowSend = true\n  } else if (value === ExecutionOption.DELEGATE_CALL) {\n    allowDelegateCall = true\n  }\n  return { allowSend, allowDelegateCall }\n}\n\nconst flagsToEnum = (flags: { allowSend: boolean; allowDelegateCall: boolean }) => {\n  if (flags.allowSend && flags.allowDelegateCall) return ExecutionOption.BOTH\n  if (flags.allowSend) return ExecutionOption.SEND\n  if (flags.allowDelegateCall) return ExecutionOption.DELEGATE_CALL\n  return ExecutionOption.NONE\n}\n","import { FunctionFragment, Interface } from \"@ethersproject/abi\"\nimport { Box, makeStyles, Typography } from \"@material-ui/core\"\nimport { KeyboardArrowDownSharp } from \"@material-ui/icons\"\nimport classNames from \"classnames\"\nimport React, { useState } from \"react\"\nimport { TargetFunctionParams } from \"./TargetFunctionParams\"\nimport { ConditionType, ExecutionOption, FunctionCondition } from \"../../../../typings/role\"\nimport { Checkbox } from \"../../../commons/input/Checkbox\"\nimport { ZodiacPaper } from \"zodiac-ui-components\"\nimport { ExecutionOptions } from \"./ExecutionOptions\"\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    margin: theme.spacing(1, 0, 1, 3),\n  },\n  wrapper: {\n    marginTop: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n  trigger: {\n    display: \"flex\",\n    alignItems: \"center\",\n    cursor: \"pointer\",\n    minHeight: 32,\n  },\n  arrow: {\n    height: 32,\n    fill: \"#B2B5B2\",\n    transition: \"transform 0.25s ease-in-out\",\n    width: 32,\n  },\n  rotate: {\n    transform: \"rotate(180deg)\",\n  },\n  name: {\n    fontFamily: \"Roboto Mono, Spectral\",\n    fontSize: 14,\n    color: \"rgb(178,178,178)\",\n    marginLeft: theme.spacing(0.5),\n  },\n  type: {\n    fontSize: 10,\n    fontFamily: \"Roboto Mono, Spectral\",\n    color: \"rgb(178,178,178, 0.6)\",\n    marginLeft: theme.spacing(1),\n    paddingRight: theme.spacing(2),\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    maxWidth: 600,\n  },\n  hidden: {\n    display: \"none\",\n  },\n  select: {\n    margin: theme.spacing(0, 0, 1, 0),\n  },\n}))\n\ninterface TargetFunctionProps {\n  func: FunctionFragment | string\n  functionConditions: FunctionCondition\n\n  onChange(value: FunctionCondition): void\n}\n\nfunction getParamsTypesTitle(func: FunctionFragment): string {\n  if (!func.inputs.length) return \"()\"\n  return \"(\" + func.inputs.map((input) => input.format(\"full\")).join(\", \") + \")\"\n}\n\nexport const TargetFunction = ({ func, functionConditions, onChange }: TargetFunctionProps) => {\n  const classes = useStyles()\n\n  const [open, setOpen] = useState(false)\n\n  const functionName = typeof func === \"string\" ? func : func.name\n  const paramsText = typeof func === \"string\" ? \"function not found in ABI\" : getParamsTypesTitle(func)\n  const sighash = typeof func === \"string\" ? func : Interface.getSighash(func)\n\n  const handleExecutionOption = (option: ExecutionOption) => {\n    let type = functionConditions.type\n    if (type === ConditionType.BLOCKED && option !== ExecutionOption.NONE) {\n      type = ConditionType.WILDCARDED\n    }\n    onChange({\n      ...functionConditions,\n      sighash,\n      executionOption: option,\n      type,\n    })\n  }\n\n  const handleFunctionCheck = (checked: boolean) => {\n    const type =\n      checked && functionConditions?.type !== ConditionType.SCOPED ? ConditionType.WILDCARDED : ConditionType.BLOCKED\n\n    return onChange({\n      ...functionConditions,\n      params: [],\n      sighash,\n      type,\n    })\n  }\n\n  const handleOpen = () => setOpen(!open)\n\n  return (\n    <ZodiacPaper borderStyle=\"single\" elevation={0} className={classes.wrapper}>\n      <div className={classes.trigger} onClick={handleOpen}>\n        <Checkbox\n          checked={functionConditions?.type === ConditionType.WILDCARDED}\n          indeterminate={functionConditions?.type === ConditionType.SCOPED}\n          onChange={(evt) => handleFunctionCheck(evt.target.checked)}\n          onClick={(evt) => evt.stopPropagation()}\n        />\n        <Typography variant=\"body1\" className={classes.name}>\n          {functionName}\n        </Typography>\n        <Typography variant=\"body2\" className={classes.type}>\n          {paramsText}\n        </Typography>\n        <Box sx={{ flexGrow: 1 }} />\n        <KeyboardArrowDownSharp className={classNames(classes.arrow, { [classes.rotate]: open })} />\n      </div>\n\n      <div className={classNames(classes.content, { [classes.hidden]: !open })}>\n        <div className={classes.select}>\n          <ExecutionOptions\n            value={functionConditions.executionOption}\n            onChange={handleExecutionOption}\n            disabled={functionConditions.type === ConditionType.BLOCKED}\n          />\n        </div>\n\n        <TargetFunctionParams\n          disabled={functionConditions?.type === ConditionType.WILDCARDED}\n          func={func}\n          funcConditions={functionConditions}\n          onChange={onChange}\n        />\n      </div>\n    </ZodiacPaper>\n  )\n}\n","import { FunctionFragment } from \"@ethersproject/abi\"\nimport { TargetFunction } from \"./TargetFunction\"\nimport { ConditionType, ExecutionOption, FunctionCondition, TargetConditions } from \"../../../../typings/role\"\nimport { getKeyFromFunction } from \"../../../../utils/conditions\"\nimport { Box, Button, Grid, makeStyles, Typography, CircularProgress } from \"@material-ui/core\"\nimport { ZodiacPaper, ZodiacTextField } from \"zodiac-ui-components\"\nimport { useState } from \"react\"\nimport { JsonFragment } from \"@ethersproject/abi\"\nimport classNames from \"classnames\"\nimport { KeyboardArrowDownSharp, Check, EditOutlined, WarningOutlined } from \"@material-ui/icons\"\n\ninterface TargetFunctionListProps {\n  items: FunctionFragment[]\n  conditions: TargetConditions\n  onChange(conditions: TargetConditions): void\n  onSubmit(customABI: JsonFragment[]): void\n  abiLoading: boolean\n  wildcarded: boolean\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n    paddingRight: `calc(${theme.spacing(2)}px - 6px)`,\n    maxHeight: \"calc(100vh - 275px)\",\n    overflowY: \"auto\",\n    scrollbarGutter: \"stable\",\n    \"&::-webkit-scrollbar\": {\n      width: \"6px\",\n    },\n  },\n  disabledArea: {\n    pointerEvents: \"none\",\n    opacity: 0.5,\n    \"&::after\": {\n      content: \"''\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      backgroundColor: \"rgba(0,0,0,0.12)\",\n    },\n  },\n\n  title: {\n    display: \"flex\",\n    alignItems: \"center\",\n    minHeight: 32,\n  },\n  triggerTitle: {\n    display: \"flex\",\n    alignItems: \"center\",\n    cursor: \"pointer\",\n    minHeight: 32,\n  },\n  icon: {\n    height: 32,\n    fill: \"#B2B5B2\",\n    color: \"#B2B5B2\",\n    transition: \"transform 0.25s ease-in-out\",\n    width: 32,\n  },\n  rotate: {\n    transform: \"rotate(180deg)\",\n  },\n}))\n\nexport const TargetFunctionList = ({\n  items,\n  conditions,\n  onChange,\n  onSubmit,\n  abiLoading,\n  wildcarded,\n}: TargetFunctionListProps) => {\n  const classes = useStyles()\n\n  const [customABI, setCustomABI] = useState<string>(\"\")\n  const [usingCustomABI, setUsingCustomABI] = useState(false)\n  const [customABIExpanded, setCustomABIExpanded] = useState(false)\n\n  let customABIJson: JsonFragment[] = []\n  if (customABI.trim()) {\n    try {\n      customABIJson = JSON.parse(customABI) as JsonFragment[]\n    } catch (e) {\n      console.warn(\"invalid custom ABI\", e)\n    }\n  }\n\n  const handleCustomABI = () => {\n    onSubmit(customABIJson)\n    setUsingCustomABI(customABIJson.length > 0)\n  }\n\n  const handleFunctionChange = (format: string) => (funcConditions: FunctionCondition) => {\n    onChange({\n      ...conditions,\n      [format]: funcConditions,\n    })\n  }\n\n  const sighashesNotInAbi = Object.keys(conditions).filter(\n    (key) => !items.some((item) => getKeyFromFunction(item) === key),\n  )\n\n  const expanded = customABIExpanded || (items.length === 0 && !abiLoading)\n\n  return (\n    <>\n      <ZodiacPaper borderStyle=\"single\" className={classNames(classes.root, { [classes.disabledArea]: wildcarded })}>\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item>\n            {!items.length && !usingCustomABI ? (\n              <div className={classes.title}>\n                {abiLoading ? (\n                  <>\n                    <CircularProgress size={32} className={classes.icon} style={{ marginRight: 8 }} />\n                    <Typography>Fetching contract ABI...</Typography>\n                  </>\n                ) : (\n                  <>\n                    <WarningOutlined className={classes.icon} style={{ marginRight: 8 }} />\n                    <Typography>Unable to fetch ABI for this address</Typography>\n                  </>\n                )}\n              </div>\n            ) : (\n              <div className={classes.triggerTitle} onClick={() => setCustomABIExpanded(!expanded)}>\n                {usingCustomABI ? (\n                  <EditOutlined className={classes.icon} style={{ marginRight: 8 }} />\n                ) : (\n                  <Check className={classes.icon} style={{ marginRight: 8 }} />\n                )}\n                <Typography>{usingCustomABI ? \"Using custom ABI\" : \"Contract ABI detected\"}</Typography>\n                <Box sx={{ flexGrow: 1 }} />\n                {!expanded && (\n                  <Typography variant=\"body2\" style={{ marginRight: 8 }}>\n                    click to enter custom ABI\n                  </Typography>\n                )}\n                <KeyboardArrowDownSharp className={classNames(classes.icon, { [classes.rotate]: expanded })} />\n              </div>\n            )}\n          </Grid>\n          {expanded && (\n            <>\n              <Grid item>\n                <ZodiacTextField\n                  InputProps={{ style: { padding: 10 } }}\n                  onChange={(evt) => setCustomABI(evt.target.value)}\n                  label=\"Custom ABI\"\n                  value={customABI}\n                  placeholder=\"Enter custom ABI here.\"\n                  minRows={5}\n                  multiline\n                />\n              </Grid>\n              <Grid item>\n                <Button\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  onClick={handleCustomABI}\n                  disabled={!customABIJson.length && customABI.length > 0}\n                >\n                  Submit Custom ABI\n                </Button>\n              </Grid>\n            </>\n          )}\n        </Grid>\n      </ZodiacPaper>\n      <Box mt={3}>\n        <ZodiacPaper borderStyle=\"single\" className={classNames(classes.root, { [classes.disabledArea]: wildcarded })}>\n          {/* render functions that are in the ABI */}\n          {items.map((func) => {\n            const sighash = getKeyFromFunction(func)\n            const funcConditions = conditions[sighash] || { ...INITIAL_CONDITION, sighash }\n            return (\n              <TargetFunction\n                key={sighash}\n                func={func}\n                functionConditions={funcConditions}\n                onChange={handleFunctionChange(sighash)}\n              />\n            )\n          })}\n\n          {/* render functions that are not in the ABI */}\n          {sighashesNotInAbi.map((sighash) => {\n            const funcConditions = conditions[sighash]\n            return (\n              <TargetFunction\n                key={sighash}\n                func={sighash}\n                functionConditions={funcConditions}\n                onChange={handleFunctionChange(sighash)}\n              />\n            )\n          })}\n        </ZodiacPaper>\n      </Box>\n    </>\n  )\n}\n\nconst INITIAL_CONDITION = {\n  type: ConditionType.BLOCKED,\n  executionOption: ExecutionOption.NONE,\n  params: [],\n}\n","import { Box, makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles(() => ({\n  viewRolesLink: {\n    alignItems: \"center\",\n    color: \"rgb(217,212,173)\",\n    cursor: \"pointer\",\n    display: \"inline-flex\",\n    fontSize: 16,\n    textDecoration: \"none !important\",\n    textUnderlineOffset: \"2px\",\n    \"&:hover\": {\n      textDecoration: \"underline !important\",\n    },\n  },\n}))\n\ntype Props = {\n  icon?: any\n  text: string\n}\n\nconst ButtonLink = ({ text, icon }: Props) => {\n  const classes = useStyles()\n\n  return (\n    <Box className={classes.viewRolesLink}>\n      {icon}\n      <Box sx={{ ml: icon && 1 }}>{text}</Box>\n    </Box>\n  )\n}\n\nexport default ButtonLink\n","import React from \"react\"\nimport { ButtonBase, ButtonBaseProps, makeStyles, Typography } from \"@material-ui/core\"\nimport { truncateEthAddress } from \"../../../utils/address\"\n\ninterface RemovedAddressProps {\n  address: string\n\n  onUndo?: ButtonBaseProps[\"onClick\"]\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    margin: theme.spacing(2, 0),\n  },\n  undo: {\n    textDecoration: \"underline\",\n    \"&:hover\": {\n      opacity: 0.8,\n    },\n  },\n}))\n\nconst RemovedAddress = ({ address, onUndo }: RemovedAddressProps) => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"body2\" color=\"error\">\n        {truncateEthAddress(address)} will be removed.\n      </Typography>\n      <ButtonBase onClick={onUndo}>\n        <Typography variant=\"body2\" color=\"error\" className={classes.undo}>\n          Undo\n        </Typography>\n      </ButtonBase>\n    </div>\n  )\n}\n\nexport default RemovedAddress\n","import { useMemo } from \"react\"\nimport { Box, IconButton, makeStyles } from \"@material-ui/core\"\nimport { DeleteOutlineSharp } from \"@material-ui/icons\"\nimport { CopyToClipboardBtn } from \"@gnosis.pm/safe-react-components\"\nimport classNames from \"classnames\"\nimport makeBlockie from \"ethereum-blockies-base64\"\nimport { truncateEthAddress } from \"../../../../utils/address\"\nimport RemovedAddress from \"../RemovedAddress\"\nimport { EntityStatus } from \"../../../../typings/role\"\nimport { colors, doubleBorder, ZodiacPaper } from \"zodiac-ui-components\"\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    alignItems: \"center\",\n    display: \"flex\",\n    fontFamily: \"Roboto Mono, monospace\",\n    justifyContent: \"space-between\",\n    marginBottom: 10,\n    padding: theme.spacing(1),\n    \"&::before\": doubleBorder(-4, colors.tan[300]),\n  },\n  address: {\n    alignItems: \"center\",\n    display: \"flex\",\n  },\n  blockieContainer: {\n    alignItems: \"center\",\n    display: \"flex\",\n    height: 20,\n    justifyContent: \"center\",\n    marginRight: theme.spacing(1),\n    minWidth: 20,\n  },\n  blockie: {\n    borderRadius: 999,\n  },\n  iconButton: {\n    borderRadius: 4,\n    color: colors.tan[1000],\n    width: 24,\n    height: 24,\n  },\n  copyButton: {\n    marginLeft: theme.spacing(1),\n    \"&:hover\": {\n      backgroundColor: `${colors.tan[100]} !important`,\n      opacity: 0.8,\n    },\n  },\n  deleteButton: {\n    backgroundColor: colors.tan[100],\n    border: `1px solid ${colors.tan[300]}`,\n    \"&:hover\": {\n      opacity: 0.8,\n    },\n  },\n  deleteIcon: {\n    width: 12,\n  },\n  pending: {\n    \"&:before\": {\n      borderStyle: \"dashed\",\n    },\n  },\n}))\n\ntype RoleMemberProps = {\n  member: string\n  status: EntityStatus\n  onRemoveMember: (member: string, remove?: boolean) => void\n}\n\nconst RoleMember = ({ member, status, onRemoveMember }: RoleMemberProps) => {\n  const classes = useStyles()\n\n  const blockie = useMemo(() => member && makeBlockie(member), [member])\n\n  if (status === EntityStatus.REMOVE) {\n    return <RemovedAddress onUndo={() => onRemoveMember(member, false)} address={member} />\n  }\n\n  return (\n    <ZodiacPaper className={classNames(classes.container, { [classes.pending]: status === EntityStatus.PENDING })}>\n      <Box className={classes.address}>\n        <ZodiacPaper variant=\"outlined\" borderStyle=\"single\" rounded=\"full\" className={classes.blockieContainer}>\n          <img className={classes.blockie} src={blockie} alt={member} width={16} height={16} />\n        </ZodiacPaper>\n        {truncateEthAddress(member)}\n        <CopyToClipboardBtn textToCopy={member} className={classNames(classes.copyButton, \"btn\")} />\n      </Box>\n      <IconButton\n        size=\"small\"\n        aria-label=\"Remove member\"\n        className={classNames(classes.iconButton, classes.deleteButton)}\n        onClick={() => onRemoveMember(member)}\n      >\n        <DeleteOutlineSharp className={classes.deleteIcon} />\n      </IconButton>\n    </ZodiacPaper>\n  )\n}\n\nexport default RoleMember\n","import React from \"react\"\nimport { Box, Button, Link, makeStyles, Typography } from \"@material-ui/core\"\nimport ButtonLink from \"../../commons/input/ButtonLink\"\nimport { AddSharp } from \"@material-ui/icons\"\n\ntype MenuEntityProps<T> = {\n  name: { singular: string; plural: string }\n  tutorialLink: string\n  list: T[]\n\n  renderItem(entity: T, index: number): React.ReactElement\n  onAdd(): void\n}\n\nconst useStyles = makeStyles((theme) => ({\n  label: {\n    color: theme.palette.text.primary,\n    lineHeight: 1,\n  },\n  labelLink: {\n    color: \"rgba(217,212,173, 0.6)\",\n    cursor: \"pointer\",\n    lineHeight: 1,\n    \"&:hover\": {\n      color: \"rgba(217,212,173, 0.3)\",\n    },\n  },\n  labelWrapper: {\n    alignItems: \"flex-end\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n}))\n\nexport function MenuEntity<T>({ name, tutorialLink, list, renderItem, onAdd }: MenuEntityProps<T>) {\n  const classes = useStyles()\n\n  return (\n    <>\n      <Box className={classes.labelWrapper}>\n        <Typography variant=\"body1\" className={classes.label}>\n          {name.plural}\n        </Typography>\n        <Link href={tutorialLink} target=\"_blank\" rel=\"noredirect\">\n          <Typography variant=\"body2\" className={classes.labelLink}>\n            What's a {name.singular.toLowerCase()}?\n          </Typography>\n        </Link>\n      </Box>\n      <Box sx={{ mt: 1, mb: 2 }}>\n        {list.length ? (\n          <>\n            {list.map(renderItem)}\n            <Link onClick={onAdd} underline=\"none\">\n              <ButtonLink text={`Add a ${name.singular}`} icon={<AddSharp fontSize=\"small\" />} />\n            </Link>\n          </>\n        ) : (\n          <Button fullWidth color=\"secondary\" size=\"large\" variant=\"contained\" onClick={onAdd} startIcon={<AddSharp />}>\n            Add a {name.singular}\n          </Button>\n        )}\n      </Box>\n    </>\n  )\n}\n","import { makeStyles, Paper, Modal as MUIModal } from \"@material-ui/core\"\nimport { PropsWithChildren } from \"react\"\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    backgroundColor: \"rgba(78, 72, 87, 0.8)\",\n    left: \"50%\",\n    maxWidth: 500,\n    padding: theme.spacing(3),\n    position: \"absolute\",\n    top: \"50%\",\n    transform: \"translate(-50%, -50%)\",\n    width: \"100%\",\n  },\n}))\n\ntype Props = PropsWithChildren<{\n  isOpen: boolean\n  onClose: () => void\n}>\n\nexport const Modal = ({ children, isOpen, onClose }: Props) => {\n  const classes = useStyles()\n\n  return (\n    <MUIModal open={isOpen} onClose={onClose} BackdropProps={{ style: { backdropFilter: \"blur(4px)\" } }}>\n      <Paper elevation={3} classes={{ root: classes.paper }}>\n        {children}\n      </Paper>\n    </MUIModal>\n  )\n}\n\nexport default Modal\n","import React, { useState } from \"react\"\nimport { Box, Button, Link, makeStyles, Typography } from \"@material-ui/core\"\nimport { ethers } from \"ethers\"\nimport Modal from \"../commons/Modal\"\nimport { colors, ZodiacTextField } from \"zodiac-ui-components\"\nimport AddIcon from \"@material-ui/icons/Add\"\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    color: theme.palette.text.primary,\n    cursor: \"pointer\",\n    fontSize: 16,\n    transition: \"opacity 0.25s ease-in-out\",\n    \"&:hover\": {\n      opacity: 0.8,\n    },\n  },\n  textField: {\n    \"& .MuiInputBase-root\": {\n      borderColor: colors.tan[300],\n    },\n  },\n}))\n\ntype Props = {\n  type: string\n  isOpen: boolean\n  onClose: () => void\n  onAddAddress: (address: string) => void\n}\n\nconst AddAddressModal = ({ type, onAddAddress, onClose, isOpen }: Props): React.ReactElement => {\n  const classes = useStyles()\n  const [address, setAddress] = useState(\"\")\n  const [isValidAddress, setIsValidAddress] = useState(false)\n\n  const onAddressChange = (address: string) => {\n    setIsValidAddress(ethers.utils.isAddress(address))\n    setAddress(address)\n  }\n\n  const handleAdd = () => {\n    onAddAddress(address)\n    onClose()\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose}>\n      <Typography variant=\"h4\">Add a {type}</Typography>\n      <Box sx={{ mt: 1 }}>\n        <Typography variant=\"body1\">Members are accounts that that the role is assigned to.</Typography>\n        <Link\n          href=\"https://gnosis.github.io/zodiac/docs/tutorial-modifier-roles/add-role#members\"\n          target=\"_blank\"\n          rel=\"noredirect\"\n          underline=\"always\"\n          className={classes.link}\n        >\n          Read more about members.\n        </Link>\n      </Box>\n      <Box sx={{ mt: 2 }}>\n        <ZodiacTextField\n          className={classes.textField}\n          onChange={(e) => onAddressChange(e.target.value)}\n          label={`${type} address`}\n          placeholder={`Add a new ${type} address`}\n        />\n      </Box>\n\n      <Box sx={{ mt: 2 }}>\n        <Button\n          fullWidth\n          color=\"secondary\"\n          size=\"large\"\n          variant=\"contained\"\n          onClick={handleAdd}\n          disabled={!isValidAddress}\n          startIcon={<AddIcon />}\n        >\n          Add {type}\n        </Button>\n      </Box>\n    </Modal>\n  )\n}\n\nexport default AddAddressModal\n","import RoleMember from \"./RoleMember\"\nimport { MenuEntity } from \"../MenuEntity\"\nimport { EntityStatus } from \"../../../../typings/role\"\nimport AddAddressModal from \"../../../modals/AddAddressModal\"\nimport { useContext, useState } from \"react\"\nimport { RoleContext } from \"../RoleContext\"\n\nexport const RoleMembers = () => {\n  const { addMember, removeMember, state } = useContext(RoleContext)\n\n  const [addMemberModalIsOpen, setAddMemberModalIsOpen] = useState(false)\n\n  const members = [...state.members.list, ...state.members.add]\n\n  const getMemberStatus = (member: string) => {\n    if (state.members.remove.includes(member)) return EntityStatus.REMOVE\n    if (state.members.add.includes(member)) return EntityStatus.PENDING\n    return EntityStatus.NONE\n  }\n\n  const handleRemoveMember = (member: string, remove?: boolean) => {\n    removeMember({ member, remove })\n  }\n\n  return (\n    <>\n      <MenuEntity\n        list={members}\n        name={{ singular: \"Member\", plural: \"Members\" }}\n        tutorialLink=\"https://gnosis.github.io/zodiac/docs/tutorial-modifier-roles/add-role#members\"\n        onAdd={() => setAddMemberModalIsOpen(true)}\n        renderItem={(member) => (\n          <RoleMember\n            key={member}\n            member={member}\n            status={getMemberStatus(member)}\n            onRemoveMember={handleRemoveMember}\n          />\n        )}\n      />\n\n      <AddAddressModal\n        type=\"Member\"\n        isOpen={addMemberModalIsOpen}\n        onAddAddress={addMember}\n        onClose={() => setAddMemberModalIsOpen(false)}\n      />\n    </>\n  )\n}\n","import React from \"react\"\nimport { Box, ButtonBaseProps, IconButton, makeStyles } from \"@material-ui/core\"\nimport { DeleteOutlineSharp, KeyboardArrowRightSharp } from \"@material-ui/icons\"\nimport { CopyToClipboardBtn } from \"@gnosis.pm/safe-react-components\"\nimport classNames from \"classnames\"\nimport { truncateEthAddress } from \"../../../../utils/address\"\nimport { EntityStatus, Target } from \"../../../../typings/role\"\nimport RemovedAddress from \"../RemovedAddress\"\nimport { colors, doubleBorder, ZodiacPaper } from \"zodiac-ui-components\"\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    alignItems: \"center\",\n    cursor: \"pointer\",\n    display: \"flex\",\n    fontFamily: \"Roboto Mono, monospace\",\n    justifyContent: \"space-between\",\n    marginBottom: 10,\n    padding: theme.spacing(1),\n    \"&::before\": doubleBorder(-4, colors.tan[300]),\n    \"&:hover::before\": {\n      backgroundColor: colors.tan[300],\n    },\n  },\n  active: {\n    cursor: \"initial\",\n    borderColor: \"#fff\",\n    \"&::before\": {\n      backgroundColor: \"transparent\",\n      borderColor: \"#fff\",\n    },\n  },\n  targetIconContainer: {\n    alignItems: \"center\",\n    borderWidth: 2,\n    display: \"flex\",\n    height: 18,\n    justifyContent: \"center\",\n    marginRight: theme.spacing(1),\n    minWidth: 18,\n  },\n  targetIcon: {\n    background: colors.tan[1000],\n    borderRadius: 999,\n    height: 6,\n    width: 6,\n  },\n  iconButton: {\n    borderRadius: 4,\n    color: colors.tan[1000],\n    width: 24,\n    height: 24,\n  },\n  filledButton: {\n    backgroundColor: colors.tan[100],\n    border: `1px solid ${colors.tan[300]}`,\n    cursor: \"pointer\",\n    \"&:hover\": {\n      backgroundColor: colors.tan[300],\n      opacity: 0.8,\n    },\n  },\n  copyButton: {\n    marginLeft: theme.spacing(1),\n    \"&:hover\": {\n      backgroundColor: `${colors.tan[100]} !important`,\n      opacity: 0.8,\n    },\n  },\n  deleteIcon: {\n    width: 12,\n  },\n  arrowIcon: {\n    fill: colors.tan[1000],\n    \"&:hover\": {\n      opacity: 0.8,\n    },\n  },\n  pending: {\n    \"&:before\": {\n      borderStyle: \"dashed\",\n    },\n  },\n}))\n\ntype RoleTargetProps = {\n  target: Target\n  activeTarget: boolean\n  status: EntityStatus\n  onClickTarget: (target: Target) => void\n  onRemoveTarget: (target: Target, remove?: boolean) => void\n}\n\nconst RoleTarget = ({ target, onClickTarget, activeTarget, onRemoveTarget, status }: RoleTargetProps) => {\n  const classes = useStyles()\n  const { address } = target\n\n  if (status === EntityStatus.REMOVE) {\n    const handleUndo: ButtonBaseProps[\"onClick\"] = (event) => {\n      event.preventDefault()\n      onRemoveTarget(target, false)\n    }\n    return <RemovedAddress onUndo={handleUndo} address={target.address} />\n  }\n\n  const handleRemove: ButtonBaseProps[\"onClick\"] = (event) => {\n    event.stopPropagation()\n    onRemoveTarget(target)\n  }\n\n  return (\n    <ZodiacPaper\n      className={classNames(classes.container, {\n        [classes.active]: activeTarget,\n        [classes.pending]: status === EntityStatus.PENDING,\n      })}\n      onClick={() => onClickTarget(target)}\n    >\n      <ZodiacPaper borderStyle=\"single\" variant=\"outlined\" rounded=\"full\" className={classes.targetIconContainer}>\n        <Box className={classes.targetIcon} width={16} height={16} />\n      </ZodiacPaper>\n      {truncateEthAddress(address)}\n      <CopyToClipboardBtn textToCopy={address} className={classNames(classes.copyButton, \"btn\")} />\n\n      <Box sx={{ flexGrow: 1 }} />\n\n      <IconButton\n        size=\"small\"\n        aria-label=\"Remove target\"\n        className={classNames(classes.iconButton, classes.filledButton)}\n        onClick={handleRemove}\n      >\n        <DeleteOutlineSharp className={classes.deleteIcon} />\n      </IconButton>\n      <Box sx={{ ml: 1 }}>\n        <IconButton size=\"small\" aria-label=\"View and Edit Target configurations\" className={classes.iconButton}>\n          <KeyboardArrowRightSharp className={classes.arrowIcon} />\n        </IconButton>\n      </Box>\n    </ZodiacPaper>\n  )\n}\n\nexport default RoleTarget\n","import React, { useState } from \"react\"\nimport { Box, Button, Link, makeStyles, Typography } from \"@material-ui/core\"\nimport { ethers } from \"ethers\"\nimport Modal from \"../commons/Modal\"\nimport { colors, ZodiacTextField } from \"zodiac-ui-components\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { ConditionType, ExecutionOption, Target } from \"../../typings/role\"\nimport { ExecutionOptions } from \"../views/Role/targets/ExecutionOptions\"\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    color: theme.palette.text.primary,\n    cursor: \"pointer\",\n    fontSize: 16,\n    transition: \"opacity 0.25s ease-in-out\",\n    \"&:hover\": {\n      opacity: 0.8,\n    },\n  },\n  textField: {\n    \"& .MuiInputBase-root\": {\n      borderColor: colors.tan[300],\n    },\n  },\n}))\n\ntype Props = {\n  isOpen: boolean\n  onClose: () => void\n  onAddTarget: (target: Target) => void\n}\n\nconst AddTargetModal = ({ onAddTarget, onClose, isOpen }: Props): React.ReactElement => {\n  const classes = useStyles()\n  const [address, setAddress] = useState(\"\")\n  const [executionOptions, setExecutionOptions] = useState(ExecutionOption.NONE)\n  const [isValidAddress, setIsValidAddress] = useState(false)\n\n  const onAddressChange = (address: string) => {\n    setIsValidAddress(ethers.utils.isAddress(address))\n    setAddress(address)\n  }\n\n  const handleAdd = () => {\n    onAddTarget({\n      id: `${address}_${Date.now()}`,\n      address,\n      type: ConditionType.WILDCARDED,\n      executionOption: executionOptions,\n      conditions: {},\n    })\n    onClose()\n  }\n\n  return (\n    <Modal isOpen={isOpen} onClose={onClose}>\n      <Typography variant=\"h4\">Add a Target</Typography>\n      <Box sx={{ mt: 1 }}>\n        <Typography variant=\"body1\">\n          Targets are the accounts that the members can interact with on behalf of the avatar.\n        </Typography>\n        <Link\n          href=\"https://gnosis.github.io/zodiac/docs/tutorial-modifier-roles/add-role#targets\"\n          target=\"_blank\"\n          rel=\"noredirect\"\n          underline=\"always\"\n          className={classes.link}\n        >\n          Read more about targets.\n        </Link>\n      </Box>\n      <Box sx={{ mt: 2 }} className={classes.textField}>\n        <ZodiacTextField\n          onChange={(e) => onAddressChange(e.target.value)}\n          label={`Target address`}\n          placeholder={`Add a new target address`}\n        />\n      </Box>\n      <Box sx={{ mt: 2 }}>\n        <ExecutionOptions value={executionOptions} onChange={setExecutionOptions} />\n      </Box>\n\n      <Box sx={{ mt: 2 }}>\n        <Button\n          fullWidth\n          color=\"secondary\"\n          size=\"large\"\n          variant=\"contained\"\n          onClick={handleAdd}\n          disabled={!isValidAddress}\n          startIcon={<AddIcon />}\n        >\n          Add target\n        </Button>\n      </Box>\n    </Modal>\n  )\n}\n\nexport default AddTargetModal\n","import { MenuEntity } from \"../MenuEntity\"\nimport { EntityStatus, Target } from \"../../../../typings/role\"\nimport RoleTarget from \"./RoleTarget\"\nimport AddTargetModal from \"../../../modals/AddTargetModal\"\nimport { useContext, useState } from \"react\"\nimport { RoleContext } from \"../RoleContext\"\n\nexport const RoleTargets = () => {\n  const { state, addTarget, removeTarget, setActiveTarget } = useContext(RoleContext)\n\n  const [addTargetModalIsOpen, setAddTargetModalIsOpen] = useState(false)\n  const handleOpenAddTargetModal = () => setAddTargetModalIsOpen(true)\n\n  const targets = [...state.targets.list, ...state.targets.add]\n  const renderTarget = targets.filter((target) => target.type !== \"None\")\n\n  const getStatus = (target: Target) => {\n    if (state.targets.remove.includes(target.address)) return EntityStatus.REMOVE\n    if (state.targets.add.find((_target) => _target.id === target.id)) return EntityStatus.PENDING\n    return EntityStatus.NONE\n  }\n\n  const handleRemoveTarget = (target: Target, remove?: boolean) => {\n    removeTarget({ target, remove })\n  }\n\n  return (\n    <>\n      <MenuEntity\n        list={renderTarget}\n        name={{ singular: \"Target\", plural: \"Targets\" }}\n        tutorialLink=\"https://gnosis.github.io/zodiac/docs/tutorial-modifier-roles/add-role#targets\"\n        onAdd={handleOpenAddTargetModal}\n        renderItem={(target) => (\n          <RoleTarget\n            key={target.address}\n            status={getStatus(target)}\n            target={target}\n            onClickTarget={(target) => setActiveTarget(target.id)}\n            activeTarget={!!(state.activeTarget && state.activeTarget === target.id)}\n            onRemoveTarget={handleRemoveTarget}\n          />\n        )}\n      />\n\n      <AddTargetModal\n        isOpen={addTargetModalIsOpen}\n        onAddTarget={addTarget}\n        onClose={() => setAddTargetModalIsOpen(false)}\n      />\n    </>\n  )\n}\n","/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nimport { Signer, utils, Contract, ContractFactory, Overrides } from \"ethers\";\nimport { Provider, TransactionRequest } from \"@ethersproject/providers\";\nimport type { Permissions, PermissionsInterface } from \"../Permissions\";\n\nconst _abi = [\n  {\n    inputs: [],\n    name: \"ArraysDifferentLength\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"CalldataOutOfBounds\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"DelegateCallNotAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"FunctionNotAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"FunctionSignatureTooShort\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"NoMembership\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"NotEnoughCompValuesForOneOf\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"ParameterGreaterThanAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"ParameterLessThanAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"ParameterNotAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"ParameterNotOneOfAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"ScopeMaxParametersExceeded\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"SendNotAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"TargetAddressNotAllowed\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"UnacceptableMultiSendOffset\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"UnsuitableDynamic32CompValueSize\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"UnsuitableOneOfComparison\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"UnsuitableRelativeComparison\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"UnsuitableStaticCompValueSize\",\n    type: \"error\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"AllowTarget\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"RevokeTarget\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes4\",\n        name: \"selector\",\n        type: \"bytes4\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"resultingScopeConfig\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ScopeAllowFunction\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        indexed: false,\n        internalType: \"bool[]\",\n        name: \"isParamScoped\",\n        type: \"bool[]\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum ParameterType[]\",\n        name: \"paramType\",\n        type: \"uint8[]\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum Comparison[]\",\n        name: \"paramComp\",\n        type: \"uint8[]\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes[]\",\n        name: \"compValue\",\n        type: \"bytes[]\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"resultingScopeConfig\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ScopeFunction\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"resultingScopeConfig\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ScopeFunctionExecutionOptions\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"index\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum ParameterType\",\n        name: \"paramType\",\n        type: \"uint8\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum Comparison\",\n        name: \"paramComp\",\n        type: \"uint8\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes\",\n        name: \"compValue\",\n        type: \"bytes\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"resultingScopeConfig\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ScopeParameter\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"index\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"enum ParameterType\",\n        name: \"paramType\",\n        type: \"uint8\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes[]\",\n        name: \"compValues\",\n        type: \"bytes[]\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"resultingScopeConfig\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ScopeParameterAsOneOf\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes4\",\n        name: \"selector\",\n        type: \"bytes4\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"resultingScopeConfig\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"ScopeRevokeFunction\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"ScopeTarget\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"index\",\n        type: \"uint256\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"resultingScopeConfig\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"UnscopeParameter\",\n    type: \"event\",\n  },\n];\n\nconst _bytecode =\n  \"0x61260761003a600b82828239805160001a60731461002d57634e487b7160e01b600052600060045260246000fd5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100a35760003560e01c8063163592dd146100a85780632af6aecb146100ca5780633c5a24e2146100ea578063512ce0f21461010a5780635ebbaa681461012a57806377cff8041461014a578063a2f6f6d01461016a578063cfe4317a1461018a578063db50e575146101aa578063edf909e3146101bd578063ee54ca53146101dd575b600080fd5b8180156100b457600080fd5b506100c86100c3366004611dc5565b6101fd565b005b8180156100d657600080fd5b506100c86100e5366004611cc5565b610295565b8180156100f657600080fd5b506100c8610105366004611e27565b61053c565b81801561011657600080fd5b506100c8610125366004611e7c565b61060a565b81801561013657600080fd5b506100c8610145366004611dc5565b6107ee565b81801561015657600080fd5b506100c8610165366004611c78565b61086b565b81801561017657600080fd5b506100c8610185366004611fc2565b610902565b81801561019657600080fd5b506100c86101a5366004611c3c565b6109ca565b6100c86101b8366004611bad565b610a88565b8180156101c957600080fd5b506100c86101d8366004611f14565b610b64565b8180156101e957600080fd5b506100c86101f8366004611c3c565b610c60565b60006102098484610d16565b6000818152600288016020526040812054919250906102289084610d64565b90508087600201600061023b8888610d16565b8152602001908152602001600020819055507f2735ca85820f3a549c2bca4509260ec546c6f8a164c22a85e771110f743cac46868686868560405161028495949392919061224e565b60405180910390a150505050505050565b85518551811415806102a8575084518114155b806102b35750808314155b156102d1576040516374f4d53760e01b815260040160405180910390fd5b60308111156102f357604051632bd9f46160e21b815260040160405180910390fd5b60005b818110156103b15787818151811061031057610310612585565b60200260200101511561039f5761035987828151811061033257610332612585565b602002602001015187838151811061034c5761034c612585565b6020026020010151610d99565b61039f87828151811061036e5761036e612585565b602002602001015186868481811061038857610388612585565b905060200281019061039a91906123a3565b610e22565b806103a981612506565b9150506102f6565b5060006103c2600084600085610eaf565b905060005b8281101561043b5761042782828b84815181106103e6576103e6612585565b60200260200101518b858151811061040057610400612585565b60200260200101518b868151811061041a5761041a612585565b6020026020010151610ef5565b91508061043381612506565b9150506103c7565b50808c600201600061044d8d8d610d16565b81526020019081526020016000208190555060005b828110156104e4576104b088828151811061047f5761047f612585565b602002602001015187878481811061049957610499612585565b90506020028101906104ab91906123a3565b610fc3565b8d60030160006104c18e8e8661100c565b8152602081019190915260400160002055806104dc81612506565b915050610462565b507f051f8aa3aaa0c4a0d9ab16f9e4e6dcdbd628e395ed8aa0d8b5226a9c666ffb198b8b8b8b8b8b8b8b8b8a6040516105269a9998979695949392919061217f565b60405180910390a1505050505050505050505050565b6030811061055d57604051632bd9f46160e21b815260040160405180910390fd5b60006105698484610d16565b60008181526002880160205260408120549192509061058c908483806000611075565b6000838152600289016020908152604091829020839055815161ffff8a1681526001600160a01b038916918101919091526001600160e01b031987169181019190915260608101859052608081018290529091507ffd69230fde2f8d9f2d7cb99bc384b82c42e7b435d19766ef3bf400a04298d5cf9060a001610284565b6030841061062b57604051632bd9f46160e21b815260040160405180910390fd5b600281101561064d576040516314a18f4560e01b815260040160405180910390fd5b60005b818110156106805761066e8484848481811061038857610388612585565b8061067881612506565b915050610650565b50600061068d8787610d16565b600081815260028b016020526040812054919250906106b190876001886003611075565b600083815260028c016020526040902081905590506106d188888861100c565b9150826001600160401b038111156106eb576106eb61259b565b604051908082528060200260200182016040528015610714578160200160208202803683370190505b50600083815260048c0160209081526040909120825161073a9391929190910190611903565b5060005b8381101561079c5761075c8686868481811061049957610499612585565b600084815260048d016020526040902080548390811061077e5761077e612585565b6000918252602090912001558061079481612506565b91505061073e565b507f3282e946d87efa44475619e2baf8dbd0d1b23ebffb2dd70cf5d3ce6b9d92751989898989898989886040516107da989796959493929190612294565b60405180910390a150505050505050505050565b60006107ff60008360016000610eaf565b9050808660020160006108128787610d16565b8152602001908152602001600020819055507fc26d395a6741785870765a1b429c50fc8ced96cf943a33ace2c3a91b65a3ff47858585858560405161085b95949392919061224e565b60405180910390a1505050505050565b600084600201600061087d8585610d16565b8152602001908152602001600020819055507f47e71fde7eacc8597d171f1d24a14436b6e022558df5da4f86e7c1bc28ce614c83838360006040516108f4949392919061ffff9490941684526001600160a01b039290921660208401526001600160e01b0319166040830152606082015260800190565b60405180910390a150505050565b6040805180820190915280600181526020018260038111156109265761092661256f565b90526001600160a01b0383166000908152600180870160205260409091208251815491929091839160ff19909116908360028111156109675761096761256f565b021790555060208201518154829061ff00191661010083600381111561098f5761098f61256f565b02179055509050507f7ed5b9f493c808f9ee08015fa5f4ca1cee5d98b1948477c9a18322283bb9037e8383836040516108f493929190612372565b604080518082018252600080825260208083018290526001600160a01b0385168252600187810190915292902081518154929391929091839160ff191690836002811115610a1a57610a1a61256f565b021790555060208201518154829061ff001916610100836003811115610a4257610a4261256f565b02179055509050507fa2d99ec680ea38c710727c0f6ed5a206ab27a6048956778ae57475eb92beb03b8282604051610a7b929190612162565b60405180910390a1505050565b3360009081526020889052604090205460ff16610ab857604051631fb1d3e560e31b815260040160405180910390fd5b846001600160a01b0316866001600160a01b03161415610b1757610b128784848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152506110d692505050565b610b5b565b610b5b87868686868080601f01602080910402602001604051908101604052809392919081815260200183838082843760009201919091525088925061117f915050565b50505050505050565b60308510610b8557604051632bd9f46160e21b815260040160405180910390fd5b610b8f8484610d99565b610b9a848383610e22565b6000610ba68888610d16565b600081815260028c01602052604081205491925090610bc9908860018989611075565b600083815260028d01602052604090208190559050610be9868585610fc3565b8b6003016000610bfa8c8c8c61100c565b8152602001908152602001600020819055507f8e41a9b1da82a824dc95c5a92173fb5a74ef2af0af0ebaa6ed02eb158324d7448a8a8a8a8a8a8a8a89604051610c4b999897969594939291906122fa565b60405180910390a15050505050505050505050565b604080518082019091528060028152602001600090526001600160a01b0382166000908152600180860160205260409091208251815491929091839160ff1990911690836002811115610cb557610cb561256f565b021790555060208201518154829061ff001916610100836003811115610cdd57610cdd61256f565b02179055509050507fa5e220ab0d586d67c880832a01db13d174dd947f9e075f57c6b29682ecaa23ed8282604051610a7b929190612162565b6040516001600160601b0319606084901b1660208201526001600160e01b031982166034820152600090603801604051602081830303815290604052610d5b906124a8565b90505b92915050565b6001600160fe1b0391909116906000600360fe1b60fe836003811115610d8c57610d8c61256f565b901b939093179392505050565b6003816003811115610dad57610dad61256f565b1415610dcc57604051638d202bcd60e01b815260040160405180910390fd5b6000826002811115610de057610de061256f565b14158015610e0057506000816003811115610dfd57610dfd61256f565b14155b15610e1e57604051631193ce7160e01b815260040160405180910390fd5b5050565b6000836002811115610e3657610e3661256f565b148015610e44575060208114155b15610e62576040516313f2642960e31b815260040160405180910390fd5b6002836002811115610e7657610e7661256f565b148015610e8c5750610e89602082612521565b15155b15610eaa57604051634f8d190d60e01b815260040160405180910390fd5b505050565b6001600160f01b0390931692600060fe846003811115610ed157610ed161256f565b901b851794508215610ee757600160fd1b851794505b5060f01b9290921792915050565b600080610f0386606061243c565b610f0e90606061243c565b6001901b90506000610f21876002612454565b610f2c90606061243c565b6003901b90506000610f3f886002612454565b6003901b90508615610f545797821797610f5b565b8219891698505b81199890981697610f6d886002612454565b610f7890606061243c565b866002811115610f8a57610f8a61256f565b901b9890981788191697610f9f886002612454565b856003811115610fb157610fb161256f565b901b9890981798975050505050505050565b600080846002811115610fd857610fd861256f565b14610ffa578282604051610fed929190612152565b6040518091039020611004565b611004828461248a565b949350505050565b600060ff82111561101f5761101f612543565b6040516001600160601b0319606086901b1660208201526001600160e01b0319841660348201526001600160f81b031960f884901b166038820152603901604051602081830303815290604052611004906124a8565b6000806000611083886112ea565b9250509150600081886001611098919061243c565b116110a357816110ae565b6110ae88600161243c565b90506110c96110c08a8a8a8a8a610ef5565b84600084610eaf565b9998505050505050505050565b60248101516044820151600091829182916060916064016020821461110e57604051637ed1113760e01b815260040160405180910390fd5b600060645b82811015611173578089015160f81c97506001810189015160601c965060158101890151955060358101890151915060358101890194506111578a8888888c61117f565b61116282605561243c565b61116c908261243c565b9050611113565b50505050505050505050565b815115801590611190575060048251105b156111ae57604051632342609160e11b815260040160405180910390fd5b6001600160a01b0384166000908152600186016020526040812090815460ff1660028111156111df576111df61256f565b14156111fe57604051633bcd102b60e21b815260040160405180910390fd5b6001815460ff1660028111156112165761121661256f565b14156112395780546112339085908490610100900460ff1661131d565b506112e3565b6002815460ff1660028111156112515761125161256f565b14156112d957600060028701816112708861126b886124cf565b610d16565b815260200190815260200160002054905080600014156112a3576040516302f2d41760e11b815260040160405180910390fd5b6000806112af836112ea565b50915091506112bf87868461131d565b806112d0576112d089848a896113ea565b505050506112e3565b6112e1612543565b505b5050505050565b60008080600160fd1b60fe85901c60038111156113095761130961256f565b9590851615159460f01c60ff169350915050565b60008311801561133f5750600181600381111561133c5761133c61256f565b14155b801561135d5750600381600381111561135a5761135a61256f565b14155b1561137b576040516309e9cd4960e01b815260040160405180910390fd5b600182600181111561138f5761138f61256f565b1480156113ae575060028160038111156113ab576113ab61256f565b14155b80156113cc575060038160038111156113c9576113c961256f565b14155b15610eaa576040516306c4a1c760e11b815260040160405180910390fd5b60006113f5826124cf565b90506000611402856112ea565b9250505060005b81811015610b5b57600080600061142089856114e8565b92509250925082611433575050506114d6565b6000808360028111156114485761144861256f565b1461145f5761145888848761159c565b905061146c565b61146988866116b3565b90505b60006114798a898861100c565b9050600383600381111561148f5761148f61256f565b146114b657600081815260038d0160205260409020546114b19084908461171e565b6114d0565b600081815260048d01602052604090206114d090836117db565b50505050505b806114e081612506565b915050611409565b60008080806114f885606061243c565b61150390606061243c565b6001901b90506000611516866002612454565b61152190606061243c565b6003901b90506000611534876002612454565b888416151596506003901b905061154c876002612454565b61155790606061243c565b828916901c600281111561156d5761156d61256f565b945061157a876002612454565b818916901c60038111156115905761159061256f565b93505050509250925092565b6000808360028111156115b1576115b161256f565b14156115bf576115bf612543565b6115ca826020612454565b6115d590600461243c565b6115e090602061243c565b8451101561160157604051631d098e2d60e21b815260040160405180910390fd5b602484016000611612846020612454565b828101518084015191925090600061162b83600461243c565b61163690602061243c565b90506000600289600281111561164e5761164e61256f565b146116595782611664565b611664836020612454565b61166e908361243c565b9050808a51101561169257604051631d098e2d60e21b815260040160405180910390fd5b61169d8a838361183c565b8051906020012096505050505050509392505050565b60006116c0826020612454565b6116cb90600461243c565b6116d690602061243c565b835110156116f757604051631d098e2d60e21b815260040160405180910390fd5b6000611704836020612454565b61170f90600461243c565b93909301602001519392505050565b60008360038111156117325761173261256f565b14801561173f5750818114155b1561175d576040516318f4c12360e11b815260040160405180910390fd5b60018360038111156117715761177161256f565b14801561177e5750818111155b1561179c57604051633fd1166960e01b815260040160405180910390fd5b60028360038111156117b0576117b061256f565b1480156117bd5750818110155b15610eaa5760405163f952dd7960e01b815260040160405180910390fd5b60005b8254811015611822578281815481106117f9576117f9612585565b906000526020600020015482141561181057505050565b8061181a81612506565b9150506117de565b5060405163da56985160e01b815260040160405180910390fd5b60606118488383612473565b6001600160401b0381111561185f5761185f61259b565b6040519080825280601f01601f191660200182016040528015611889576020820181803683370190505b509050825b828110156118fb578481815181106118a8576118a8612585565b01602001516001600160f81b031916826118c28684612473565b815181106118d2576118d2612585565b60200101906001600160f81b031916908160001a905350806118f381612506565b91505061188e565b509392505050565b82805482825590600052602060002090810192821561193e579160200282015b8281111561193e578251825591602001919060010190611923565b5061194a92915061194e565b5090565b5b8082111561194a576000815560010161194f565b80356001600160a01b038116811461197a57600080fd5b919050565b600082601f83011261199057600080fd5b813560206119a56119a083612419565b6123e9565b80838252828201915082860187848660051b89010111156119c557600080fd5b6000805b868110156119f257823580151581146119e0578283fd5b855293850193918501916001016119c9565b509198975050505050505050565b60008083601f840112611a1257600080fd5b5081356001600160401b03811115611a2957600080fd5b6020830191508360208260051b8501011115611a4457600080fd5b9250929050565b600082601f830112611a5c57600080fd5b81356020611a6c6119a083612419565b80838252828201915082860187848660051b8901011115611a8c57600080fd5b60005b85811015611ab4578135611aa2816125c4565b84529284019290840190600101611a8f565b5090979650505050505050565b600082601f830112611ad257600080fd5b81356020611ae26119a083612419565b80838252828201915082860187848660051b8901011115611b0257600080fd5b60005b85811015611ab457611b1682611b8c565b84529284019290840190600101611b05565b80356001600160e01b03198116811461197a57600080fd5b60008083601f840112611b5257600080fd5b5081356001600160401b03811115611b6957600080fd5b602083019150836020828501011115611a4457600080fd5b803561197a816125c4565b80356003811061197a57600080fd5b803561ffff8116811461197a57600080fd5b600080600080600080600060c0888a031215611bc857600080fd5b87359650611bd860208901611963565b9550611be660408901611963565b94506060880135935060808801356001600160401b03811115611c0857600080fd5b611c148a828b01611b40565b90945092505060a088013560028110611c2c57600080fd5b8091505092959891949750929550565b600080600060608486031215611c5157600080fd5b83359250611c6160208501611b9b565b9150611c6f60408501611963565b90509250925092565b60008060008060808587031215611c8e57600080fd5b84359350611c9e60208601611b9b565b9250611cac60408601611963565b9150611cba60608601611b28565b905092959194509250565b6000806000806000806000806000806101208b8d031215611ce557600080fd5b8a359950611cf560208c01611b9b565b9850611d0360408c01611963565b9750611d1160608c01611b28565b965060808b01356001600160401b0380821115611d2d57600080fd5b611d398e838f0161197f565b975060a08d0135915080821115611d4f57600080fd5b611d5b8e838f01611ac1565b965060c08d0135915080821115611d7157600080fd5b611d7d8e838f01611a4b565b955060e08d0135915080821115611d9357600080fd5b50611da08d828e01611a00565b9094509250611db490506101008c01611b81565b90509295989b9194979a5092959850565b600080600080600060a08688031215611ddd57600080fd5b85359450611ded60208701611b9b565b9350611dfb60408701611963565b9250611e0960608701611b28565b91506080860135611e19816125c4565b809150509295509295909350565b600080600080600060a08688031215611e3f57600080fd5b85359450611e4f60208701611b9b565b9350611e5d60408701611963565b9250611e6b60608701611b28565b949793965091946080013592915050565b60008060008060008060008060e0898b031215611e9857600080fd5b88359750611ea860208a01611b9b565b9650611eb660408a01611963565b9550611ec460608a01611b28565b945060808901359350611ed960a08a01611b8c565b925060c08901356001600160401b03811115611ef457600080fd5b611f008b828c01611a00565b999c989b5096995094979396929594505050565b60008060008060008060008060006101008a8c031215611f3357600080fd5b89359850611f4360208b01611b9b565b9750611f5160408b01611963565b9650611f5f60608b01611b28565b955060808a01359450611f7460a08b01611b8c565b935060c08a0135611f84816125c4565b925060e08a01356001600160401b03811115611f9f57600080fd5b611fab8c828d01611b40565b915080935050809150509295985092959850929598565b60008060008060808587031215611fd857600080fd5b84359350611fe860208601611b9b565b9250611ff660408601611963565b91506060850135612006816125c4565b939692955090935050565b818352600060208085019450848460051b86018460005b87811015611ab45783830389528135601e1988360301811261204957600080fd5b870180356001600160401b0381111561206157600080fd5b80360389131561207057600080fd5b61207d858289850161210c565b9a87019a9450505090840190600101612028565b600081518084526020808501945080840160005b838110156120ca5781516120b8816125b1565b875295820195908201906001016120a5565b509495945050505050565b600081518084526020808501945080840160005b838110156120ca576120fc878351612142565b95820195908201906001016120e9565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b61213e816125b1565b9052565b6003811061213e5761213e61256f565b8183823760009101908152919050565b61ffff9290921682526001600160a01b0316602082015260400190565b61ffff8b1681526001600160a01b038a166020808301919091526001600160e01b03198a1660408301526101206060830181905289519083018190526000916101408401918b82019190845b818110156121e95783511515855293820193928201926001016121cb565b5050505082810360808401526121ff818a6120d5565b905082810360a08401526122138189612091565b905082810360c0840152612228818789612011565b91505061223860e0830185612135565b826101008301529b9a5050505050505050505050565b61ffff861681526001600160a01b03851660208201526001600160e01b03198416604082015260a08101612281846125b1565b6060820193909352608001529392505050565b61ffff891681526001600160a01b03881660208201526001600160e01b031987166040820152606081018690526122ce6080820186612142565b60e060a082015260006122e560e083018587612011565b90508260c08301529998505050505050505050565b61ffff8a1681526001600160a01b03891660208201526001600160e01b0319881660408201526060810187905260006101006123396080840189612142565b612342876125b1565b8660a08401528060c084015261235b818401868861210c565b9150508260e08301529a9950505050505050505050565b61ffff841681526001600160a01b038316602082015260608101612395836125b1565b826040830152949350505050565b6000808335601e198436030181126123ba57600080fd5b8301803591506001600160401b038211156123d457600080fd5b602001915036819003821315611a4457600080fd5b604051601f8201601f191681016001600160401b03811182821017156124115761241161259b565b604052919050565b60006001600160401b038211156124325761243261259b565b5060051b60200190565b6000821982111561244f5761244f612559565b500190565b600081600019048311821515161561246e5761246e612559565b500290565b60008282101561248557612485612559565b500390565b80356020831015610d5e57600019602084900360031b1b1692915050565b805160208083015191908110156124c9576000198160200360031b1b821691505b50919050565b805160208201516001600160e01b031980821692919060048310156124fe5780818460040360031b1b83161693505b505050919050565b600060001982141561251a5761251a612559565b5060010190565b60008261253e57634e487b7160e01b600052601260045260246000fd5b500690565b634e487b7160e01b600052600160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052602160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b600481106125c1576125c161256f565b50565b600481106125c157600080fdfea26469706673582212206ec9860fc4dfe8e59e0d89c92e9b35d06df780ba4d340a50aa42173917dee38f64736f6c63430008060033\";\n\ntype PermissionsConstructorParams =\n  | [signer?: Signer]\n  | ConstructorParameters<typeof ContractFactory>;\n\nconst isSuperArgs = (\n  xs: PermissionsConstructorParams\n): xs is ConstructorParameters<typeof ContractFactory> => xs.length > 1;\n\nexport class Permissions__factory extends ContractFactory {\n  constructor(...args: PermissionsConstructorParams) {\n    if (isSuperArgs(args)) {\n      super(...args);\n    } else {\n      super(_abi, _bytecode, args[0]);\n    }\n    this.contractName = \"Permissions\";\n  }\n\n  deploy(\n    overrides?: Overrides & { from?: string | Promise<string> }\n  ): Promise<Permissions> {\n    return super.deploy(overrides || {}) as Promise<Permissions>;\n  }\n  getDeployTransaction(\n    overrides?: Overrides & { from?: string | Promise<string> }\n  ): TransactionRequest {\n    return super.getDeployTransaction(overrides || {});\n  }\n  attach(address: string): Permissions {\n    return super.attach(address) as Permissions;\n  }\n  connect(signer: Signer): Permissions__factory {\n    return super.connect(signer) as Permissions__factory;\n  }\n  static readonly contractName: \"Permissions\";\n  public readonly contractName: \"Permissions\";\n  static readonly bytecode = _bytecode;\n  static readonly abi = _abi;\n  static createInterface(): PermissionsInterface {\n    return new utils.Interface(_abi) as PermissionsInterface;\n  }\n  static connect(\n    address: string,\n    signerOrProvider: Signer | Provider\n  ): Permissions {\n    return new Contract(address, _abi, signerOrProvider) as Permissions;\n  }\n}\n","/* Autogenerated file. Do not edit manually. */\n/* tslint:disable */\n/* eslint-disable */\nimport { Signer, utils, Contract, ContractFactory, Overrides } from \"ethers\";\nimport { Provider, TransactionRequest } from \"@ethersproject/providers\";\nimport type { Roles, RolesInterface } from \"../Roles\";\n\nconst _abi = [\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_owner\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"_avatar\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"_target\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\",\n  },\n  {\n    inputs: [],\n    name: \"ArraysDifferentLength\",\n    type: \"error\",\n  },\n  {\n    inputs: [],\n    name: \"ModuleTransactionFailed\",\n    type: \"error\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint16[]\",\n        name: \"roles\",\n        type: \"uint16[]\",\n      },\n      {\n        indexed: false,\n        internalType: \"bool[]\",\n        name: \"memberOf\",\n        type: \"bool[]\",\n      },\n    ],\n    name: \"AssignRoles\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"previousAvatar\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"newAvatar\",\n        type: \"address\",\n      },\n    ],\n    name: \"AvatarSet\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"guard\",\n        type: \"address\",\n      },\n    ],\n    name: \"ChangedGuard\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n    ],\n    name: \"DisabledModule\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n    ],\n    name: \"EnabledModule\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"previousOwner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"newOwner\",\n        type: \"address\",\n      },\n    ],\n    name: \"OwnershipTransferred\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"initiator\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"avatar\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"target\",\n        type: \"address\",\n      },\n    ],\n    name: \"RolesModSetup\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n      {\n        indexed: false,\n        internalType: \"uint16\",\n        name: \"defaultRole\",\n        type: \"uint16\",\n      },\n    ],\n    name: \"SetDefaultRole\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"address\",\n        name: \"multisendAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"SetMultisendAddress\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"previousTarget\",\n        type: \"address\",\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"newTarget\",\n        type: \"address\",\n      },\n    ],\n    name: \"TargetSet\",\n    type: \"event\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"allowTarget\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint16[]\",\n        name: \"_roles\",\n        type: \"uint16[]\",\n      },\n      {\n        internalType: \"bool[]\",\n        name: \"memberOf\",\n        type: \"bool[]\",\n      },\n    ],\n    name: \"assignRoles\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"avatar\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    name: \"defaultRoles\",\n    outputs: [\n      {\n        internalType: \"uint16\",\n        name: \"\",\n        type: \"uint16\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"prevModule\",\n        type: \"address\",\n      },\n      {\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n    ],\n    name: \"disableModule\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n    ],\n    name: \"enableModule\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"data\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"enum Enum.Operation\",\n        name: \"operation\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"execTransactionFromModule\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"success\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"data\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"enum Enum.Operation\",\n        name: \"operation\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"execTransactionFromModuleReturnData\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"\",\n        type: \"bytes\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"data\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"enum Enum.Operation\",\n        name: \"operation\",\n        type: \"uint8\",\n      },\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"bool\",\n        name: \"shouldRevert\",\n        type: \"bool\",\n      },\n    ],\n    name: \"execTransactionWithRole\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"success\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"data\",\n        type: \"bytes\",\n      },\n      {\n        internalType: \"enum Enum.Operation\",\n        name: \"operation\",\n        type: \"uint8\",\n      },\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"bool\",\n        name: \"shouldRevert\",\n        type: \"bool\",\n      },\n    ],\n    name: \"execTransactionWithRoleReturnData\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"success\",\n        type: \"bool\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"returnData\",\n        type: \"bytes\",\n      },\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"getGuard\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"_guard\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"start\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"pageSize\",\n        type: \"uint256\",\n      },\n    ],\n    name: \"getModulesPaginated\",\n    outputs: [\n      {\n        internalType: \"address[]\",\n        name: \"array\",\n        type: \"address[]\",\n      },\n      {\n        internalType: \"address\",\n        name: \"next\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"guard\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_module\",\n        type: \"address\",\n      },\n    ],\n    name: \"isModuleEnabled\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"multisend\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"owner\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"renounceOwnership\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"revokeTarget\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"scopeAllowFunction\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        internalType: \"bool[]\",\n        name: \"isParamScoped\",\n        type: \"bool[]\",\n      },\n      {\n        internalType: \"enum ParameterType[]\",\n        name: \"paramType\",\n        type: \"uint8[]\",\n      },\n      {\n        internalType: \"enum Comparison[]\",\n        name: \"paramComp\",\n        type: \"uint8[]\",\n      },\n      {\n        internalType: \"bytes[]\",\n        name: \"compValue\",\n        type: \"bytes[]\",\n      },\n      {\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"scopeFunction\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        internalType: \"enum ExecutionOptions\",\n        name: \"options\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"scopeFunctionExecutionOptions\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"paramIndex\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"enum ParameterType\",\n        name: \"paramType\",\n        type: \"uint8\",\n      },\n      {\n        internalType: \"enum Comparison\",\n        name: \"paramComp\",\n        type: \"uint8\",\n      },\n      {\n        internalType: \"bytes\",\n        name: \"compValue\",\n        type: \"bytes\",\n      },\n    ],\n    name: \"scopeParameter\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        internalType: \"uint256\",\n        name: \"paramIndex\",\n        type: \"uint256\",\n      },\n      {\n        internalType: \"enum ParameterType\",\n        name: \"paramType\",\n        type: \"uint8\",\n      },\n      {\n        internalType: \"bytes[]\",\n        name: \"compValues\",\n        type: \"bytes[]\",\n      },\n    ],\n    name: \"scopeParameterAsOneOf\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n    ],\n    name: \"scopeRevokeFunction\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n    ],\n    name: \"scopeTarget\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_avatar\",\n        type: \"address\",\n      },\n    ],\n    name: \"setAvatar\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"module\",\n        type: \"address\",\n      },\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n    ],\n    name: \"setDefaultRole\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_guard\",\n        type: \"address\",\n      },\n    ],\n    name: \"setGuard\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_multisend\",\n        type: \"address\",\n      },\n    ],\n    name: \"setMultisend\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"_target\",\n        type: \"address\",\n      },\n    ],\n    name: \"setTarget\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes\",\n        name: \"initParams\",\n        type: \"bytes\",\n      },\n    ],\n    name: \"setUp\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [],\n    name: \"target\",\n    outputs: [\n      {\n        internalType: \"address\",\n        name: \"\",\n        type: \"address\",\n      },\n    ],\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"newOwner\",\n        type: \"address\",\n      },\n    ],\n    name: \"transferOwnership\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint16\",\n        name: \"role\",\n        type: \"uint16\",\n      },\n      {\n        internalType: \"address\",\n        name: \"targetAddress\",\n        type: \"address\",\n      },\n      {\n        internalType: \"bytes4\",\n        name: \"functionSig\",\n        type: \"bytes4\",\n      },\n      {\n        internalType: \"uint8\",\n        name: \"paramIndex\",\n        type: \"uint8\",\n      },\n    ],\n    name: \"unscopeParameter\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n\nconst _bytecode =\n  \"0x60806040523480156200001157600080fd5b50604051620036e6380380620036e6833981016040819052620000349162000423565b604080516001600160a01b038581166020830152848116828401528316606080830191909152825180830390910181526080909101909152620000778162000081565b50505050620004f1565b6000806000838060200190518101906200009c919062000423565b91945092509050620000ad6200013f565b606680546001600160a01b038085166001600160a01b0319928316179092556067805492841692909116919091179055620000e883620001ce565b620000f26200029c565b6040516001600160a01b038281168252808416919085169033907f34d3b96a088381c6843a1f9d94d251afa88f83cc7a0d17fc23a7057506a3fc6d9060200160405180910390a450505050565b600054610100900460ff168062000159575060005460ff16155b620001815760405162461bcd60e51b8152600401620001789062000477565b60405180910390fd5b600054610100900460ff16158015620001a4576000805461ffff19166101011790555b620001ae620002ff565b620001b86200036f565b8015620001cb576000805461ff00191690555b50565b6033546001600160a01b031633146200022a5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604482015260640162000178565b6001600160a01b038116620002915760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b606482015260840162000178565b620001cb81620003d1565b60016000526068602052600080516020620036c6833981519152546001600160a01b031615620002d057620002d0620004c5565b600160008190526068602052600080516020620036c683398151915280546001600160a01b0319169091179055565b600054610100900460ff168062000319575060005460ff16155b620003385760405162461bcd60e51b8152600401620001789062000477565b600054610100900460ff16158015620001b8576000805461ffff19166101011790558015620001cb576000805461ff001916905550565b600054610100900460ff168062000389575060005460ff16155b620003a85760405162461bcd60e51b8152600401620001789062000477565b600054610100900460ff16158015620003cb576000805461ffff19166101011790555b620001b8335b603380546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b6000806000606084860312156200043957600080fd5b83516200044681620004db565b60208501519093506200045981620004db565b60408501519092506200046c81620004db565b809150509250925092565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201526d191e481a5b9a5d1a585b1a5e995960921b606082015260800190565b634e487b7160e01b600052600160045260246000fd5b6001600160a01b0381168114620001cb57600080fd5b6131c580620005016000396000f3fe608060405234801561001057600080fd5b50600436106101965760003560e01c8063086cfca81461019b5780630de729c7146101b0578063102b7fe6146101c357806315b77d3f146101d65780632933ef1c146101e9578063294402cc146101fc5780632d3c2547146102255780632d9ad53d1461025c5780632e506a481461027f5780632fcf52d11461029257806333a0480c146102a55780633c1952b8146102b8578063468721a7146102cb57806351fa1d73146102de5780635229073f146102f15780635aef7de6146103125780635e82669514610325578063610b5925146103385780636928e74b1461034b578063715018a61461035e578063776d1a01146103665780637ceab3b1146103795780638b95eccd1461038c5780638da5cb5b1461039f57806393933772146103a7578063a4f9edbf146103ba578063a6edf38f146103cd578063b0c19912146103e0578063c9106389146103f3578063cc2f845214610404578063d4b8399214610425578063e009cfde14610438578063e19a9dd91461044b578063f2fde38b1461045e575b600080fd5b6101ae6101a9366004612190565b610471565b005b6101ae6101be36600461287c565b6104fb565b6101ae6101d13660046122bc565b6105af565b6101ae6101e436600461269d565b610645565b6101ae6101f7366004612553565b6106fc565b60695461020f906001600160a01b031681565b60405161021c9190612a17565b60405180910390f35b610249610233366004612190565b606a6020526000908152604090205461ffff1681565b60405161ffff909116815260200161021c565b61026f61026a366004612190565b61079f565b604051901515815260200161021c565b6101ae61028d366004612829565b6107da565b6101ae6102a036600461269d565b610886565b6101ae6102b3366004612598565b610907565b6101ae6102c6366004612786565b6109d3565b61026f6102d936600461231d565b610a96565b6101ae6102ec366004612537565b610bb9565b6103046102ff36600461231d565b610c6a565b60405161021c929190612be5565b60665461020f906001600160a01b031681565b6101ae610333366004612537565b610d92565b6101ae610346366004612190565b610e0f565b61026f61035936600461238d565b610f64565b6101ae6110a4565b6101ae610374366004612190565b6110df565b60655461020f906001600160a01b031681565b6101ae61039a366004612190565b611160565b61020f6111db565b6101ae6103b53660046126f5565b6111ea565b6101ae6103c83660046124e8565b6112aa565b6101ae6103db36600461223a565b61136d565b6103046103ee36600461238d565b6114cd565b6065546001600160a01b031661020f565b6104176104123660046122f1565b611614565b60405161021c929190612b88565b60675461020f906001600160a01b031681565b6101ae610446366004612201565b61170d565b6101ae610459366004612190565b611853565b6101ae61046c366004612190565b6119a7565b3361047a6111db565b6001600160a01b0316146104a95760405162461bcd60e51b81526004016104a090612c4e565b60405180910390fd5b606680546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f52ae88b092de36f87fb43fe794eb1381023b9c1bce563a871154022c63dce34290600090a35050565b336105046111db565b6001600160a01b03161461052a5760405162461bcd60e51b81526004016104a090612c4e565b61ffff83166000908152606b6020526040908190209051630a2f6f6d60e41b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9163a2f6f6d09161057a9190879087908790600401612fc5565b60006040518083038186803b15801561059257600080fd5b505af41580156105a6573d6000803e3d6000fd5b50505050505050565b336105b86111db565b6001600160a01b0316146105de5760405162461bcd60e51b81526004016104a090612c4e565b6001600160a01b0382166000818152606a6020908152604091829020805461ffff191661ffff86169081179091558251938452908301527f197e61bb67ba4b0f657afcb5d2dbed385d50b697c51090f466cdbcc4c30a21ce91015b60405180910390a15050565b3361064e6111db565b6001600160a01b0316146106745760405162461bcd60e51b81526004016104a090612c4e565b61ffff84166000908152606b602052604090819020905163163592dd60e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9163163592dd916106c691908890889088908890600401612e21565b60006040518083038186803b1580156106de57600080fd5b505af41580156106f2573d6000803e3d6000fd5b5050505050505050565b336107056111db565b6001600160a01b03161461072b5760405162461bcd60e51b81526004016104a090612c4e565b61ffff83166000818152606b6020526040908190209051631df3fe0160e21b8152600481019190915260248101919091526001600160a01b03831660448201526001600160e01b03198216606482015273__$26c8ee7675adcd4387514ebc7646e15ffa$__906377cff8049060840161057a565b600060016001600160a01b038316148015906107d457506001600160a01b038281166000908152606860205260409020541615155b92915050565b336107e36111db565b6001600160a01b0316146108095760405162461bcd60e51b81526004016104a090612c4e565b61ffff84166000818152606b6020526040908190209051631e2d127160e11b8152600481019190915260248101919091526001600160a01b03841660448201526001600160e01b03198316606482015260ff8216608482015273__$26c8ee7675adcd4387514ebc7646e15ffa$__90633c5a24e29060a4016106c6565b3361088f6111db565b6001600160a01b0316146108b55760405162461bcd60e51b81526004016104a090612c4e565b61ffff84166000908152606b6020526040908190209051630bd7754d60e31b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__91635ebbaa68916106c691908890889088908890600401612e21565b336109106111db565b6001600160a01b0316146109365760405162461bcd60e51b81526004016104a090612c4e565b61ffff8b166000908152606b6020526040908190209051632af6aecb60e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__91632af6aecb9161099691908f908f908f908f908f908f908f908f908f908f908f90600401612d52565b60006040518083038186803b1580156109ae57600080fd5b505af41580156109c2573d6000803e3d6000fd5b505050505050505050505050505050565b336109dc6111db565b6001600160a01b031614610a025760405162461bcd60e51b81526004016104a090612c4e565b61ffff88166000908152606b602052604090819020905163edf909e360e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9163edf909e391610a5c91908c908c908c908c908c908c908c908c90600401612f4e565b60006040518083038186803b158015610a7457600080fd5b505af4158015610a88573d6000803e3d6000fd5b505050505050505050505050565b336000908152606860205260408120546001600160a01b0316610acb5760405162461bcd60e51b81526004016104a090612c83565b336000908152606a602090815260408083205461ffff168352606b90915290819020606954915163db50e57560e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9263db50e57592610b3a9290916001600160a01b0316908b908b908b908b908b90600401612cda565b60006040518083038186803b158015610b5257600080fd5b505af4158015610b66573d6000803e3d6000fd5b50505050610bad868686868080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250889250611a47915050565b90505b95945050505050565b33610bc26111db565b6001600160a01b031614610be85760405162461bcd60e51b81526004016104a090612c4e565b61ffff82166000908152606b60205260409081902090516367f218bd60e11b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9163cfe4317a91610c36919086908690600401612d2f565b60006040518083038186803b158015610c4e57600080fd5b505af4158015610c62573d6000803e3d6000fd5b505050505050565b336000908152606860205260408120546060906001600160a01b0316610ca25760405162461bcd60e51b81526004016104a090612c83565b336000908152606a602090815260408083205461ffff168352606b90915290819020606954915163db50e57560e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9263db50e57592610d119290916001600160a01b0316908c908c908c908c908c90600401612cda565b60006040518083038186803b158015610d2957600080fd5b505af4158015610d3d573d6000803e3d6000fd5b50505050610d84878787878080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250899250611bf8915050565b915091509550959350505050565b33610d9b6111db565b6001600160a01b031614610dc15760405162461bcd60e51b81526004016104a090612c4e565b61ffff82166000908152606b602052604090819020905163ee54ca5360e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9163ee54ca5391610c36919086908690600401612d2f565b33610e186111db565b6001600160a01b031614610e3e5760405162461bcd60e51b81526004016104a090612c4e565b6001600160a01b03811615801590610e6057506001600160a01b038116600114155b610e7c5760405162461bcd60e51b81526004016104a090612cb2565b6001600160a01b038181166000908152606860205260409020541615610edd5760405162461bcd60e51b8152602060048201526016602482015275135bd91d5b1948185b1c9958591e48195b98589b195960521b60448201526064016104a0565b606860205260008051602061317083398151915280546001600160a01b03838116600081815260408082208054949095166001600160a01b03199485161790945560019052835490911617909155517fecdf3a3effea5783a3c4c2140e677577666428d44ed9d474a0b3a4c9943f844090610f59908390612a17565b60405180910390a150565b336000908152606860205260408120546001600160a01b0316610f995760405162461bcd60e51b81526004016104a090612c83565b61ffff83166000908152606b602052604090819020606954915163db50e57560e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9263db50e57592610ffb9290916001600160a01b0316908d908d908d908d908d90600401612cda565b60006040518083038186803b15801561101357600080fd5b505af4158015611027573d6000803e3d6000fd5b5050505061106e888888888080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508a9250611a47915050565b905081801561107b575080155b156110995760405163d27b44a960e01b815260040160405180910390fd5b979650505050505050565b336110ad6111db565b6001600160a01b0316146110d35760405162461bcd60e51b81526004016104a090612c4e565b6110dd6000611db3565b565b336110e86111db565b6001600160a01b03161461110e5760405162461bcd60e51b81526004016104a090612c4e565b606780546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f90cc2f570a6eb594b1580ea3e41247d2d73a55281889e86bd4ec2fc29c7e62d690600090a35050565b336111696111db565b6001600160a01b03161461118f5760405162461bcd60e51b81526004016104a090612c4e565b606980546001600160a01b0319166001600160a01b0383169081179091556040517f5fe6aabf4e790843df43ae0e22b58620066fb389295bedc06a92df6c3b28777d91610f5991612a17565b6033546001600160a01b031690565b336111f36111db565b6001600160a01b0316146112195760405162461bcd60e51b81526004016104a090612c4e565b61ffff87166000908152606b6020526040908190209051632896707960e11b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9163512ce0f29161127191908b908b908b908b908b908b908b90600401612e6a565b60006040518083038186803b15801561128957600080fd5b505af415801561129d573d6000803e3d6000fd5b5050505050505050505050565b6000806000838060200190518101906112c391906121b4565b9250925092506112d1611e05565b606680546001600160a01b038085166001600160a01b031992831617909255606780549284169290911691909117905561130a836119a7565b611312611e80565b816001600160a01b0316836001600160a01b0316336001600160a01b03167f34d3b96a088381c6843a1f9d94d251afa88f83cc7a0d17fc23a7057506a3fc6d8460405161135f9190612a17565b60405180910390a450505050565b336113766111db565b6001600160a01b03161461139c5760405162461bcd60e51b81526004016104a090612c4e565b8281146113bc576040516374f4d53760e01b815260040160405180910390fd5b60005b61ffff81168411156114705782828261ffff168181106113e1576113e1613103565b90506020020160208101906113f69190612422565b606b600087878561ffff1681811061141057611410613103565b9050602002016020810190611425919061251c565b61ffff168152602080820192909252604090810160009081206001600160a01b038b1682529092529020805460ff19169115159190911790558061146881613084565b9150506113bf565b5061147a8561079f565b6114875761148785610e0f565b7f4dcd99505817a4d3e4d3f751a4a49739ec38cb0f83319ff1224a3b289597e86c85858585856040516114be959493929190612a2b565b60405180910390a15050505050565b336000908152606860205260408120546060906001600160a01b03166115055760405162461bcd60e51b81526004016104a090612c83565b61ffff84166000908152606b602052604090819020606954915163db50e57560e01b815273__$26c8ee7675adcd4387514ebc7646e15ffa$__9263db50e575926115679290916001600160a01b0316908e908e908e908e908e90600401612cda565b60006040518083038186803b15801561157f57600080fd5b505af4158015611593573d6000803e3d6000fd5b505050506115da898989898080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508b9250611bf8915050565b90925090508280156115ea575081155b156116085760405163d27b44a960e01b815260040160405180910390fd5b97509795505050505050565b60606000826001600160401b0381111561163057611630613119565b604051908082528060200260200182016040528015611659578160200160208202803683370190505b506001600160a01b0380861660009081526068602052604081205492945091165b6001600160a01b0381161580159061169c57506001600160a01b038116600114155b80156116a757508482105b156116ff57808483815181106116bf576116bf613103565b6001600160a01b039283166020918202929092018101919091529181166000908152606890925260409091205416816116f7816130a6565b92505061167a565b908352919491935090915050565b336117166111db565b6001600160a01b03161461173c5760405162461bcd60e51b81526004016104a090612c4e565b6001600160a01b0381161580159061175e57506001600160a01b038116600114155b61177a5760405162461bcd60e51b81526004016104a090612cb2565b6001600160a01b038281166000908152606860205260409020548116908216146117e05760405162461bcd60e51b8152602060048201526017602482015276135bd91d5b1948185b1c9958591e48191a5cd8589b1959604a1b60448201526064016104a0565b6001600160a01b03818116600081815260686020526040808220805487861684528284208054919096166001600160a01b0319918216179095559290915281549092169055517faab4fa2b463f581b2b32cb3b7e3b704b9ce37cc209b5fb4d77e593ace405427690610639908390612a17565b3361185c6111db565b6001600160a01b0316146118825760405162461bcd60e51b81526004016104a090612c4e565b6001600160a01b0381161561195b576040516301ffc9a760e01b815263736bd41d60e11b60048201526001600160a01b038216906301ffc9a79060240160206040518083038186803b1580156118d757600080fd5b505afa1580156118eb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061190f919061243f565b61195b5760405162461bcd60e51b815260206004820181905260248201527f477561726420646f6573206e6f7420696d706c656d656e74204945524331363560448201526064016104a0565b606580546001600160a01b0319166001600160a01b0383169081179091556040517f1151116914515bc0891ff9047a6cb32cf902546f83066499bcf8ba33d2353fa291610f5991612a17565b336119b06111db565b6001600160a01b0316146119d65760405162461bcd60e51b81526004016104a090612c4e565b6001600160a01b038116611a3b5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016104a0565b611a4481611db3565b50565b6065546000906001600160a01b031615611ae9576065546040805180820182526002815261060f60f31b60208201529051633af85da960e11b81526001600160a01b03909216916375f0bb5291611ab69189918991899189916000918291829182918291908290600401612af9565b600060405180830381600087803b158015611ad057600080fd5b505af1158015611ae4573d6000803e3d6000fd5b505050505b60675460405163468721a760e01b81526001600160a01b039091169063468721a790611b1f908890889088908890600401612ac3565b602060405180830381600087803b158015611b3957600080fd5b505af1158015611b4d573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190611b71919061243f565b6065549091506001600160a01b031615611bf057606554604051631264e26d60e31b815261060f60f31b600482015282151560248201526001600160a01b0390911690639327136890604401600060405180830381600087803b158015611bd757600080fd5b505af1158015611beb573d6000803e3d6000fd5b505050505b949350505050565b6065546000906060906001600160a01b031615611c9d576065546040805180820182526002815261060f60f31b60208201529051633af85da960e11b81526001600160a01b03909216916375f0bb5291611c6a918a918a918a918a916000918291829182918291908290600401612af9565b600060405180830381600087803b158015611c8457600080fd5b505af1158015611c98573d6000803e3d6000fd5b505050505b606754604051635229073f60e01b81526001600160a01b0390911690635229073f90611cd3908990899089908990600401612ac3565b600060405180830381600087803b158015611ced57600080fd5b505af1158015611d01573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052611d29919081019061245c565b60655491935091506001600160a01b031615611daa57606554604051631264e26d60e31b815261060f60f31b600482015283151560248201526001600160a01b0390911690639327136890604401600060405180830381600087803b158015611d9157600080fd5b505af1158015611da5573d6000803e3d6000fd5b505050505b94509492505050565b603380546001600160a01b038381166001600160a01b0319831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b600054610100900460ff1680611e1e575060005460ff16155b611e3a5760405162461bcd60e51b81526004016104a090612c00565b600054610100900460ff16158015611e5c576000805461ffff19166101011790555b611e64611ede565b611e6c611f48565b8015611a44576000805461ff001916905550565b60016000526068602052600080516020613170833981519152546001600160a01b031615611eb057611eb06130c1565b60016000819052606860205260008051602061317083398151915280546001600160a01b0319169091179055565b600054610100900460ff1680611ef7575060005460ff16155b611f135760405162461bcd60e51b81526004016104a090612c00565b600054610100900460ff16158015611e6c576000805461ffff19166101011790558015611a44576000805461ff001916905550565b600054610100900460ff1680611f61575060005460ff16155b611f7d5760405162461bcd60e51b81526004016104a090612c00565b600054610100900460ff16158015611f9f576000805461ffff19166101011790555b611e6c33611db3565b8035611fb38161313f565b919050565b60008083601f840112611fca57600080fd5b5081356001600160401b03811115611fe157600080fd5b6020830191508360208260051b8501011115611ffc57600080fd5b9250929050565b600082601f83011261201457600080fd5b813560206001600160401b038083111561203057612030613119565b8260051b61203f838201612ffd565b8481528381019087850183890186018a101561205a57600080fd5b60009350835b8781101561209757813586811115612076578586fd5b6120848c89838e01016120ff565b8552509286019290860190600101612060565b50909998505050505050505050565b80356001600160e01b031981168114611fb357600080fd5b60008083601f8401126120d057600080fd5b5081356001600160401b038111156120e757600080fd5b602083019150836020828501011115611ffc57600080fd5b600082601f83011261211057600080fd5b813561212361211e8261302d565b612ffd565b81815284602083860101111561213857600080fd5b816020850160208301376000918101602001919091529392505050565b8035611fb381613162565b803560028110611fb357600080fd5b803560038110611fb357600080fd5b803561ffff81168114611fb357600080fd5b6000602082840312156121a257600080fd5b81356121ad8161313f565b9392505050565b6000806000606084860312156121c957600080fd5b83516121d48161313f565b60208501519093506121e58161313f565b60408501519092506121f68161313f565b809150509250925092565b6000806040838503121561221457600080fd5b823561221f8161313f565b9150602083013561222f8161313f565b809150509250929050565b60008060008060006060868803121561225257600080fd5b853561225d8161313f565b945060208601356001600160401b038082111561227957600080fd5b61228589838a01611fb8565b9096509450604088013591508082111561229e57600080fd5b506122ab88828901611fb8565b969995985093965092949392505050565b600080604083850312156122cf57600080fd5b82356122da8161313f565b91506122e86020840161217e565b90509250929050565b6000806040838503121561230457600080fd5b823561230f8161313f565b946020939093013593505050565b60008060008060006080868803121561233557600080fd5b85356123408161313f565b94506020860135935060408601356001600160401b0381111561236257600080fd5b61236e888289016120be565b9094509250612381905060608701612160565b90509295509295909350565b600080600080600080600060c0888a0312156123a857600080fd5b87356123b38161313f565b96506020880135955060408801356001600160401b038111156123d557600080fd5b6123e18a828b016120be565b90965094506123f4905060608901612160565b92506124026080890161217e565b915060a088013561241281613154565b8091505092959891949750929550565b60006020828403121561243457600080fd5b81356121ad81613154565b60006020828403121561245157600080fd5b81516121ad81613154565b6000806040838503121561246f57600080fd5b825161247a81613154565b60208401519092506001600160401b0381111561249657600080fd5b8301601f810185136124a757600080fd5b80516124b561211e8261302d565b8181528660208385010111156124ca57600080fd5b6124db826020830160208601613054565b8093505050509250929050565b6000602082840312156124fa57600080fd5b81356001600160401b0381111561251057600080fd5b611bf0848285016120ff565b60006020828403121561252e57600080fd5b6121ad8261217e565b6000806040838503121561254a57600080fd5b61221f8361217e565b60008060006060848603121561256857600080fd5b6125718461217e565b925060208401356125818161313f565b915061258f604085016120a6565b90509250925092565b60008060008060008060008060008060006101008c8e0312156125ba57600080fd5b6125c38c61217e565b9a506125d160208d01611fa8565b99506125df60408d016120a6565b98506001600160401b0360608d01358110156125fa57600080fd5b61260a8e60608f01358f01611fb8565b909950975060808d013581101561262057600080fd5b6126308e60808f01358f01611fb8565b909750955060a08d013581101561264657600080fd5b6126568e60a08f01358f01611fb8565b909550935060c08d013581101561266c57600080fd5b5061267d8d60c08e01358e01612003565b915061268b60e08d01612155565b90509295989b509295989b9093969950565b600080600080608085870312156126b357600080fd5b6126bc8561217e565b935060208501356126cc8161313f565b92506126da604086016120a6565b915060608501356126ea81613162565b939692955090935050565b600080600080600080600060c0888a03121561271057600080fd5b6127198861217e565b965060208801356127298161313f565b9550612737604089016120a6565b94506060880135935061274c6080890161216f565b925060a08801356001600160401b0381111561276757600080fd5b6127738a828b01611fb8565b989b979a50959850939692959293505050565b60008060008060008060008060e0898b0312156127a257600080fd5b6127ab8961217e565b975060208901356127bb8161313f565b96506127c960408a016120a6565b9550606089013594506127de60808a0161216f565b935060a08901356127ee81613162565b925060c08901356001600160401b0381111561280957600080fd5b6128158b828c016120be565b999c989b5096995094979396929594505050565b6000806000806080858703121561283f57600080fd5b6128488561217e565b935060208501356128588161313f565b9250612866604086016120a6565b9150606085013560ff811681146126ea57600080fd5b60008060006060848603121561289157600080fd5b61289a8461217e565b925060208401356128aa8161313f565b915060408401356121f681613162565b600082825180855260208086019550808260051b84010181860160005b8481101561290557601f198684030189526128f38383516129be565b988401989250908301906001016128d7565b5090979650505050505050565b8183526000602080850194508260005b8581101561295057813561293581613162565b61293e8161312f565b87529582019590820190600101612922565b509495945050505050565b8183526000602080850194508260005b8581101561295057612985876129808461216f565b612a07565b958201959082019060010161296b565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b600081518084526129d6816020860160208601613054565b601f01601f19169290920160200192915050565b6129f38161312f565b9052565b600281106129f3576129f36130ed565b600381106129f3576129f36130ed565b6001600160a01b0391909116815260200190565b6001600160a01b038616815260606020808301829052908201859052600090869060808401835b88811015612a795761ffff612a668561217e565b1682529282019290820190600101612a52565b508481036040860152858152810191508560005b86811015612ab4578135612aa081613154565b151584529282019290820190600101612a8d565b50919998505050505050505050565b60018060a01b0385168152836020820152608060408201526000612aea60808301856129be565b9050610bb060608301846129f7565b6001600160a01b038c81168252602082018c905261016060408301819052600091612b268483018e6129be565b9150612b35606085018d6129f7565b8a60808501528960a08501528860c085015280881660e0850152808716610100850152838203610120850152612b6b82876129be565b925080851661014085015250509c9b505050505050505050505050565b604080825283519082018190526000906020906060840190828701845b82811015612bca5781516001600160a01b031684529284019290840190600101612ba5565b5050506001600160a01b039490941692019190915250919050565b8215158152604060208201526000611bf060408301846129be565b6020808252602e908201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160408201526d191e481a5b9a5d1a585b1a5e995960921b606082015260800190565b6020808252818101527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572604082015260600190565b602080825260159082015274135bd91d5b19481b9bdd08185d5d1a1bdc9a5e9959605a1b604082015260600190565b6020808252600e908201526d496e76616c6964206d6f64756c6560901b604082015260600190565b8781526001600160a01b038781166020830152861660408201526060810185905260c060808201819052600090612d149083018587612995565b9050612d2360a08301846129f7565b98975050505050505050565b92835261ffff9190911660208301526001600160a01b0316604082015260600190565b8c815261ffff8c1660208201526001600160a01b038b1660408201526001600160e01b03198a166060820152610120608082018190528101889052600061014082018a825b8b811015612dc1578135612daa81613154565b151583526020928301929190910190600101612d97565b505082810360a0840152612dd681898b61295b565b905082810360c0840152612deb818789612912565b905082810360e0840152612dff81866128ba565b915050612e106101008301846129ea565b9d9c50505050505050505050505050565b85815261ffff851660208201526001600160a01b03841660408201526001600160e01b03198316606082015260a08101612e5a8361312f565b8260808301529695505050505050565b600060e082018a8352602061ffff8b168185015260018060a01b038a16604085015263ffffffff60e01b89166060850152876080850152612eae60a0850188612a07565b60e060c085015290849052610100600585901b84018101919084018660005b87811015612f3b5786850360ff190183528135368a9003601e19018112612ef357600080fd5b890180356001600160401b03811115612f0b57600080fd5b8036038b1315612f1a57600080fd5b612f278782888501612995565b965050509183019190830190600101612ecd565b50929d9c50505050505050505050505050565b89815261ffff891660208201526001600160a01b03881660408201526001600160e01b031987166060820152608081018690526000610100612f9360a0840188612a07565b612f9c8661312f565b8560c08401528060e0840152612fb58184018587612995565b9c9b505050505050505050505050565b84815261ffff841660208201526001600160a01b038316604082015260808101612fee8361312f565b82606083015295945050505050565b604051601f8201601f191681016001600160401b038111828210171561302557613025613119565b604052919050565b60006001600160401b0382111561304657613046613119565b50601f01601f191660200190565b60005b8381101561306f578181015183820152602001613057565b8381111561307e576000848401525b50505050565b600061ffff8083168181141561309c5761309c6130d7565b6001019392505050565b60006000198214156130ba576130ba6130d7565b5060010190565b634e487b7160e01b600052600160045260246000fd5b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052602160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b60048110611a4457611a446130ed565b6001600160a01b0381168114611a4457600080fd5b8015158114611a4457600080fd5b60048110611a4457600080fdfe82eaf0fca2207f91f5027fcf68136c84edb7e928c081c42aa5bbc2a771c7d376a26469706673582212204a512399ff6253332d1f5973ecdb681683eb93ced9474808284f270f266e737c64736f6c6343000806003382eaf0fca2207f91f5027fcf68136c84edb7e928c081c42aa5bbc2a771c7d376\";\n\ntype RolesConstructorParams =\n  | [linkLibraryAddresses: RolesLibraryAddresses, signer?: Signer]\n  | ConstructorParameters<typeof ContractFactory>;\n\nconst isSuperArgs = (\n  xs: RolesConstructorParams\n): xs is ConstructorParameters<typeof ContractFactory> => {\n  return (\n    typeof xs[0] === \"string\" ||\n    (Array.isArray as (arg: any) => arg is readonly any[])(xs[0]) ||\n    \"_isInterface\" in xs[0]\n  );\n};\n\nexport class Roles__factory extends ContractFactory {\n  constructor(...args: RolesConstructorParams) {\n    if (isSuperArgs(args)) {\n      super(...args);\n    } else {\n      const [linkLibraryAddresses, signer] = args;\n      super(_abi, Roles__factory.linkBytecode(linkLibraryAddresses), signer);\n    }\n    this.contractName = \"Roles\";\n  }\n\n  static linkBytecode(linkLibraryAddresses: RolesLibraryAddresses): string {\n    let linkedBytecode = _bytecode;\n\n    linkedBytecode = linkedBytecode.replace(\n      new RegExp(\"__\\\\$26c8ee7675adcd4387514ebc7646e15ffa\\\\$__\", \"g\"),\n      linkLibraryAddresses[\"contracts/Permissions.sol:Permissions\"]\n        .replace(/^0x/, \"\")\n        .toLowerCase()\n    );\n\n    return linkedBytecode;\n  }\n\n  deploy(\n    _owner: string,\n    _avatar: string,\n    _target: string,\n    overrides?: Overrides & { from?: string | Promise<string> }\n  ): Promise<Roles> {\n    return super.deploy(\n      _owner,\n      _avatar,\n      _target,\n      overrides || {}\n    ) as Promise<Roles>;\n  }\n  getDeployTransaction(\n    _owner: string,\n    _avatar: string,\n    _target: string,\n    overrides?: Overrides & { from?: string | Promise<string> }\n  ): TransactionRequest {\n    return super.getDeployTransaction(\n      _owner,\n      _avatar,\n      _target,\n      overrides || {}\n    );\n  }\n  attach(address: string): Roles {\n    return super.attach(address) as Roles;\n  }\n  connect(signer: Signer): Roles__factory {\n    return super.connect(signer) as Roles__factory;\n  }\n  static readonly contractName: \"Roles\";\n  public readonly contractName: \"Roles\";\n  static readonly bytecode = _bytecode;\n  static readonly abi = _abi;\n  static createInterface(): RolesInterface {\n    return new utils.Interface(_abi) as RolesInterface;\n  }\n  static connect(address: string, signerOrProvider: Signer | Provider): Roles {\n    return new Contract(address, _abi, signerOrProvider) as Roles;\n  }\n}\n\nexport interface RolesLibraryAddresses {\n  [\"contracts/Permissions.sol:Permissions\"]: string;\n}\n","import Onboard from \"bnc-onboard\"\nimport { ethers } from \"ethers\"\nimport { REDUX_STORE, useRootSelector } from \"../store\"\nimport { useEffect, useMemo, useState } from \"react\"\nimport { getChainId } from \"../store/main/selectors\"\nimport SafeAppsSDK from \"@gnosis.pm/safe-apps-sdk\"\nimport { getNetworkRPC } from \"../utils/networks\"\nimport memoize from \"lodash.memoize\"\nimport { useParams } from \"react-router-dom\"\nimport { getAddress } from \"../utils/address\"\nimport { ExternalProvider } from \"@ethersproject/providers\"\nimport { resetConnectedAddress, setChainId, setConnectedAddress, setENS } from \"../store/main/web3Slice\"\nimport { WalletType } from \"../services/rolesModifierContract\"\n\nconst ONBOARD_JS_DAPP_ID = process.env.REACT_APP_ONBOARD_JS_DAPP_ID\nconst INFURA_KEY = process.env.REACT_APP_INFURA_KEY\n\nexport let _signer: ethers.providers.JsonRpcSigner\n\nconst safeSDK = new SafeAppsSDK()\nsafeSDK.safe\n  .getChainInfo()\n  .then(async (chainInfo) => {\n    REDUX_STORE.dispatch(setChainId(parseInt(chainInfo.chainId)))\n  })\n  .catch(console.warn)\n\nconst configureOnboardJS = memoize(\n  (networkId: number) => {\n    const rpcUrl = getNetworkRPC(networkId)\n    const wallets = [\n      { walletName: \"metamask\", preferred: true },\n      { walletName: \"gnosis\", preferred: true },\n      { walletName: \"coinbase\", preferred: true },\n      { walletName: \"ledger\", rpcUrl: rpcUrl, preferred: true },\n      { walletName: \"walletConnect\", infuraKey: INFURA_KEY, preferred: true },\n      { walletName: \"opera\" },\n      { walletName: \"operaTouch\" },\n    ]\n\n    return Onboard({\n      networkId,\n      dappId: ONBOARD_JS_DAPP_ID,\n      darkMode: true,\n      subscriptions: {\n        wallet: (wallet) => {\n          if (wallet.provider) {\n            setProvider(wallet.provider)\n          }\n        },\n        address(address) {\n          if (address) {\n            REDUX_STORE.dispatch(setConnectedAddress(address))\n          } else {\n            REDUX_STORE.dispatch(resetConnectedAddress())\n          }\n        },\n        ens(ens) {\n          if (ens && ens.name) {\n            REDUX_STORE.dispatch(setENS(ens.name))\n          }\n        },\n      },\n      walletSelect: {\n        wallets,\n      },\n      walletCheck: [\n        { checkName: \"derivationPath\" },\n        { checkName: \"accounts\" },\n        { checkName: \"connect\" },\n        { checkName: \"network\" },\n      ],\n    })\n  },\n  (chainId) => chainId.toString(),\n)\n\nexport const useWallet = () => {\n  const _chainId = useRootSelector(getChainId)\n  const { account } = useParams()\n\n  const chainId = useMemo(() => {\n    if (account) {\n      const address = getAddress(account)\n      if (address && address.chainId) return address.chainId\n    }\n    return _chainId\n  }, [_chainId, account])\n\n  const onboard = useMemo(() => configureOnboardJS(chainId), [chainId])\n  const [provider, setProvider] = useState<ethers.providers.JsonRpcProvider>()\n  const [signer, setSigner] = useState<ethers.Signer>(_signer)\n\n  const startOnboard = async () => {\n    try {\n      const selected = await onboard.walletSelect()\n      if (selected) {\n        await onboard.walletCheck()\n        setSigner(_signer)\n      }\n    } catch (err) {\n      console.warn(\"startOnboard error\", err)\n    }\n  }\n\n  useEffect(() => {\n    const rpcUrl = getNetworkRPC(chainId)\n    const provider = new ethers.providers.StaticJsonRpcProvider(rpcUrl, chainId)\n    setProvider(provider)\n  }, [chainId])\n\n  const walletType = onboard.getState().wallet.name === \"Gnosis Safe\" ? WalletType.GNOSIS_SAFE : WalletType.INJECTED\n\n  return { provider, signer, onboard, startOnboard, walletType }\n}\n\nexport function setProvider(provider: ExternalProvider) {\n  const web3Provider = new ethers.providers.Web3Provider(provider)\n  _signer = web3Provider.getSigner()\n  return _signer\n}\n","import { BigNumberish, BytesLike, ethers, PopulatedTransaction } from \"ethers\"\nimport { Roles, Roles__factory } from \"../contracts/type\"\nimport SafeAppsSDK, { BaseTransaction, GatewayTransactionDetails } from \"@gnosis.pm/safe-apps-sdk\"\nimport {\n  ConditionType,\n  FuncParams,\n  FunctionCondition,\n  ParamComparison,\n  ParamCondition,\n  ParameterType,\n  Target,\n} from \"../typings/role\"\nimport { Level, RoleContextState } from \"../components/views/Role/RoleContext\"\nimport { FunctionFragment, Interface } from \"@ethersproject/abi\"\nimport { _signer } from \"../hooks/useWallet\"\nimport { getExplorer } from \"../utils/explorer\"\nimport { Network } from \"../utils/networks\"\nimport { isWriteFunction } from \"../utils/conditions\"\n\nexport enum WalletType {\n  INJECTED = \"injected\",\n  GNOSIS_SAFE = \"gnosis-safe\",\n  ZODIAC_PILOT = \"zodiac-pilot\",\n}\n\nfunction getTargetTransaction(contract: Roles, role: RoleContextState, target: Target): Promise<PopulatedTransaction> {\n  switch (target.type) {\n    case ConditionType.SCOPED:\n      console.log(\"[getTargetTransaction] scope target to function\", [role.id, target.address])\n      return contract.populateTransaction.scopeTarget(role.id, target.address)\n    case ConditionType.WILDCARDED:\n      console.log(\"[getTargetTransaction] allow target\", [role.id, target.address])\n      return contract.populateTransaction.allowTarget(role.id, target.address, target.executionOption)\n  }\n  console.log(\"[getTargetTransaction] revoke target\", [role.id, target.address])\n  return contract.populateTransaction.revokeTarget(role.id, target.address)\n}\n\nfunction getFunctionTransaction(\n  contract: Roles,\n  role: RoleContextState,\n  target: Target,\n  funcCondition: FunctionCondition,\n  func?: FunctionFragment,\n): Promise<ethers.PopulatedTransaction> {\n  if (funcCondition.type === ConditionType.BLOCKED) {\n    console.log(\"[getFunctionTransaction] scope revoke function\", [role.id, target.address, funcCondition.sighash])\n    return contract.populateTransaction.scopeRevokeFunction(role.id, target.address, funcCondition.sighash)\n  }\n\n  if (funcCondition.type === ConditionType.WILDCARDED) {\n    console.log(\"[getFunctionTransaction] scope allow function\", [\n      role.id,\n      target.address,\n      funcCondition.sighash,\n      funcCondition.executionOption,\n    ])\n    return contract.populateTransaction.scopeAllowFunction(\n      role.id,\n      target.address,\n      funcCondition.sighash,\n      funcCondition.executionOption,\n    )\n  }\n\n  if (!func) throw new Error(\"ABI is needed to scope targets\")\n\n  const paramIndexes = funcCondition.params.map((param) => param?.index)\n  const paramsLength = Math.max(-1, ...paramIndexes) + 1\n\n  const isParamScoped: boolean[] = []\n  const paramType: BigNumberish[] = []\n  const paramComp: BigNumberish[] = []\n  const compValue: BytesLike[] = []\n\n  for (let i = 0; i < paramsLength; i++) {\n    const param = funcCondition.params.find((param) => param.index === i)\n    if (param && param.condition !== ParamComparison.ONE_OF) {\n      isParamScoped.push(true)\n      paramType.push(getParameterTypeInt(param.type))\n      paramComp.push(getParamComparisonInt(param.condition))\n      compValue.push(param.value[0])\n    } else {\n      isParamScoped.push(false)\n      paramType.push(0)\n      paramComp.push(0)\n      compValue.push(\"0x\")\n    }\n  }\n\n  console.log(\"[getFunctionTransaction] scope function\", [\n    role.id,\n    target.address,\n    funcCondition.sighash,\n    isParamScoped,\n    paramType,\n    paramComp,\n    compValue,\n    funcCondition.executionOption,\n  ])\n\n  return contract.populateTransaction.scopeFunction(\n    role.id,\n    target.address,\n    funcCondition.sighash,\n    isParamScoped,\n    paramType,\n    paramComp,\n    compValue,\n    funcCondition.executionOption,\n  )\n}\n\n/**\n * Will not check that the members and target operations are valid against the data on chain.\n * For instance requests for adding a member that is already a member or removing a member\n * that is not a member will be executed.\n * @param modifierAddress\n * @param network\n * @param role\n * @returns\n */\nexport const updateRole = async (\n  modifierAddress: string,\n  network: Network,\n  role: RoleContextState,\n): Promise<ethers.PopulatedTransaction[]> => {\n  console.log(\"roleId: \", role.id)\n  console.log(\"members to add: \", role.members.add)\n  console.log(\"members to remove: \", role.members.remove)\n  console.log(\"targets to add: \", role.targets.add)\n  console.log(\"targets to remove: \", role.targets.remove)\n\n  const rolesModifierContract = Roles__factory.connect(modifierAddress, _signer)\n\n  const addMemberTxs = role.members.add.map((member) =>\n    rolesModifierContract.populateTransaction.assignRoles(member, [role.id], [true]),\n  )\n  const removeMemberTxs = role.members.remove.map((member) =>\n    rolesModifierContract.populateTransaction.assignRoles(member, [role.id], [false]),\n  )\n  const removeTargetTxs = role.targets.remove.map((target) => {\n    console.log(\"[removeTargetTxs] revoke target\", [role.id, target])\n    return rolesModifierContract.populateTransaction.revokeTarget(role.id, target)\n  })\n\n  const txs = [...role.targets.list, ...role.targets.add].map(async (target) => {\n    const updateEvents = role.getTargetUpdate(target.id)\n\n    const explorer = getExplorer(network)\n    let functions: Record<string, FunctionFragment> = {}\n    try {\n      const targetABI = await explorer.abi(target.address)\n      const contract = new ethers.utils.Interface(targetABI)\n      functions = Object.values(contract.functions)\n        .filter(isWriteFunction)\n        .reduce((obj, func) => {\n          return { ...obj, [Interface.getSighash(func)]: func }\n        }, functions)\n    } catch (e) {\n      console.warn(\"failed to fetch ABI of target\", target.address)\n    }\n\n    const targetLevelTxs: Promise<PopulatedTransaction>[] = updateEvents\n      .filter((event) => event.level === Level.SCOPE_TARGET)\n      .map((event) => getTargetTransaction(rolesModifierContract, role, event.value as Target))\n\n    const updateFunctionOptionTxs: Promise<PopulatedTransaction>[] = updateEvents\n      .filter(\n        (event) => event.level === Level.UPDATE_FUNCTION_EXECUTION_OPTION && event.targetAddress === target.address,\n      )\n      .map((event) => {\n        const value = event.value as FunctionCondition\n        console.log(\"[updateRole] scope function execution option\", [\n          role.id,\n          target.address,\n          value.sighash,\n          value.executionOption,\n          functions[value.sighash].format(\"full\"),\n        ])\n        return rolesModifierContract.populateTransaction.scopeFunctionExecutionOptions(\n          role.id,\n          target.address,\n          value.sighash,\n          value.executionOption,\n        )\n      })\n\n    const scopedFunctions: string[] = []\n\n    const functionLevelTxs: Promise<PopulatedTransaction>[] = updateEvents\n      .filter((event) => event.level === Level.SCOPE_FUNCTION && event.targetAddress === target.address)\n      .map((event): Promise<PopulatedTransaction> => {\n        const value = event.value as FunctionCondition\n        scopedFunctions.push(value.sighash)\n        return getFunctionTransaction(rolesModifierContract, role, target, value, functions[value.sighash])\n      })\n\n    // Group Param Events by Function\n    const paramEventsPerFunction = updateEvents\n      .filter((event) => event.level === Level.SCOPE_PARAM && event.targetAddress === target.address)\n      .reduce((obj, event): Record<string, ParamCondition[]> => {\n        if (event.level !== Level.SCOPE_PARAM) return obj\n\n        /*\n         Param conditions are configure while scoping a function or can be updated independently.\n         If it was configure in scoping the function, it doesn't need to be update. Unless it's a\n         `ONE_OF` param condition.\n         */\n        if (event.value.condition !== ParamComparison.ONE_OF && scopedFunctions.includes(event.funcSighash)) return obj\n\n        const funcParams = obj[event.funcSighash] || []\n        return {\n          ...obj,\n          [event.funcSighash]: [...funcParams, event.value],\n        }\n      }, {} as Record<string, ParamCondition[]>)\n\n    const paramLevelTxs: Promise<PopulatedTransaction>[] = Object.entries(paramEventsPerFunction)\n      .map(([sighash, params]) => {\n        return params.map((paramCondition) => {\n          if (paramCondition.type === ParameterType.NO_RESTRICTION) {\n            // unscopeParameter\n            console.log(\"[updateRole] unscope parameter\", [role.id, target.address, sighash, paramCondition.index])\n            return rolesModifierContract.populateTransaction.unscopeParameter(\n              role.id,\n              target.address,\n              sighash,\n              paramCondition.index,\n            )\n          } else if (paramCondition.condition !== ParamComparison.ONE_OF) {\n            console.log(\"[updateRole] scope parameter\", [\n              role.id,\n              target.address,\n              sighash,\n              paramCondition.index,\n              getParameterTypeInt(paramCondition.type),\n              getParamComparisonInt(paramCondition.condition),\n              paramCondition.value[0],\n            ])\n            return rolesModifierContract.populateTransaction.scopeParameter(\n              role.id,\n              target.address,\n              sighash,\n              paramCondition.index,\n              getParameterTypeInt(paramCondition.type),\n              getParamComparisonInt(paramCondition.condition),\n              paramCondition.value[0],\n            )\n          } else {\n            console.log(\"[updateRole] scope parameter as OneOf\", [\n              role.id,\n              target.address,\n              sighash,\n              paramCondition.index,\n              getParameterTypeInt(paramCondition.type),\n              paramCondition.value,\n            ])\n            return rolesModifierContract.populateTransaction.scopeParameterAsOneOf(\n              role.id,\n              target.address,\n              sighash,\n              paramCondition.index,\n              getParameterTypeInt(paramCondition.type),\n              paramCondition.value,\n            )\n          }\n        })\n      })\n      .flat()\n\n    return Promise.all([...targetLevelTxs, ...functionLevelTxs, ...updateFunctionOptionTxs, ...paramLevelTxs])\n  })\n\n  const targetTxs = (await Promise.all([...txs])).flat()\n  const targetActionsTxs = await Promise.all([...removeTargetTxs])\n  const memberTxs = await Promise.all([...addMemberTxs, ...removeMemberTxs, ...targetActionsTxs])\n\n  console.log(\"txs\", [...memberTxs, ...targetTxs])\n\n  return [...memberTxs, ...targetTxs]\n}\n\nexport const executeTxsGnosisSafe = async (txs: PopulatedTransaction[]) => {\n  const safeSDK = new SafeAppsSDK()\n  const { safeTxHash } = await safeSDK.txs.send({ txs: txs.map(convertTxToSafeTx) })\n  return safeTxHash\n}\n\nexport const executeTxsInjectedProvider = async (txs: PopulatedTransaction[]) =>\n  await Promise.all(\n    txs.map(async (tx) => {\n      const recept = await _signer.sendTransaction(tx)\n      await recept.wait()\n      return recept.hash\n    }),\n  )\n\nfunction convertTxToSafeTx(tx: PopulatedTransaction): BaseTransaction {\n  return {\n    to: tx.to as string,\n    value: \"0\",\n    data: tx.data as string,\n  }\n}\n\nexport const getSafeTx = async (safeTxHash: string): Promise<GatewayTransactionDetails> => {\n  const safeSDK = new SafeAppsSDK()\n  const safeTx = await safeSDK.txs.getBySafeTxHash(safeTxHash)\n  console.log(safeTx)\n  return safeTx\n}\n\nexport function areAllFunctionsAllowed(funcParams: FuncParams): boolean {\n  return !Object.values(funcParams)\n    .flat(2)\n    .some((allowed) => !allowed)\n}\n\nfunction getParamComparisonInt(paramComparison: ParamComparison): number {\n  switch (paramComparison) {\n    case ParamComparison.EQUAL_TO:\n      return 0\n    case ParamComparison.GREATER_THAN:\n      return 1\n    case ParamComparison.LESS_THAN:\n      return 2\n    case ParamComparison.ONE_OF:\n      return 3\n  }\n}\n\nfunction getParameterTypeInt(parameterType: ParameterType): number {\n  switch (parameterType) {\n    case ParameterType.STATIC:\n      return 0\n    case ParameterType.DYNAMIC:\n      return 1\n    case ParameterType.DYNAMIC32:\n      return 2\n    case ParameterType.NO_RESTRICTION:\n      throw new Error(\"No restriction should not go on chain. This should be unscoped via unscopeParameter\")\n  }\n}\n","import React, { useContext } from \"react\"\nimport { Box, makeStyles, Typography } from \"@material-ui/core\"\nimport Modal from \"../commons/Modal\"\nimport AddCircleOutlineIcon from \"@material-ui/icons/AddCircleOutline\"\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\"\nimport { RoleContext } from \"../views/Role/RoleContext\"\nimport { Target } from \"../../typings/role\"\nimport { truncateEthAddress } from \"../../utils/address\"\nimport classNames from \"classnames\"\n\nconst useStyles = makeStyles((theme) => ({\n  rowItemContainer: {\n    alignItems: \"center\",\n    display: \"flex\",\n    fontFamily: \"Roboto Mono, monospace\",\n    justifyContent: \"space-between\",\n    marginBottom: 10,\n    padding: theme.spacing(1),\n    position: \"relative\",\n    \"&::before\": {\n      content: '\" \"',\n      border: \"1px solid rgba(217, 212, 173, 0.3)\",\n      inset: -4,\n      pointerEvents: \"none\",\n      position: \"absolute\",\n      zIndex: 1,\n    },\n  },\n  rowIconContainer: {\n    alignItems: \"center\",\n    background: \"rgba(217, 212, 173, 0.1)\",\n    borderRadius: 999,\n    display: \"flex\",\n    height: 20,\n    justifyContent: \"center\",\n    marginRight: theme.spacing(1),\n    minWidth: 20,\n  },\n  add: {\n    backgroundColor: \"rgba(104, 195, 163, 0.1)\",\n  },\n  remove: {\n    backgroundColor: \"rgba(254, 121, 104, 0.1)\",\n  },\n  memberIcon: {},\n  label: {\n    color: theme.palette.text.primary,\n    marginBottom: theme.spacing(0.5),\n  },\n  address: {\n    alignItems: \"center\",\n    display: \"flex\",\n  },\n  targetNumberOfChanges: {\n    flex: \"auto\",\n    textAlign: \"right\",\n  },\n}))\n\ntype Props = {\n  isOpen: boolean\n  onClose: () => void\n}\n\nconst PendingChanges = ({ onClose, isOpen }: Props): React.ReactElement => {\n  const { state } = useContext(RoleContext)\n  const { id: roleId, members, targets } = state\n  return (\n    <Modal isOpen={isOpen} onClose={onClose}>\n      <Typography variant=\"h4\">Pending Changes to Role #{roleId}</Typography>\n      <Box sx={{ mt: 1 }}>\n        <Typography variant=\"body1\">\n          The following changes will be applied to role #{roleId} when you execute the update transaction.\n        </Typography>\n      </Box>\n      <Members members={members} />\n      <Targets targets={targets} />\n    </Modal>\n  )\n}\ntype MembersProps = {\n  members: {\n    list: string[]\n    add: string[]\n    remove: string[]\n  }\n}\nconst Members = ({ members }: MembersProps): React.ReactElement => {\n  const classes = useStyles()\n\n  const memberRow = (change: \"add\" | \"remove\") => (member: string) => {\n    if (change === \"add\") {\n      return (\n        <Box className={classNames(classes.rowItemContainer, classes.add)} key={`add-${member}`}>\n          <Box className={classes.address}>\n            <Box className={classes.rowIconContainer}>\n              <AddCircleOutlineIcon htmlColor=\"green\" className={classes.memberIcon} width={16} height={16} />\n            </Box>\n            {truncateEthAddress(member)}\n          </Box>\n        </Box>\n      )\n    }\n\n    if (change === \"remove\") {\n      return (\n        <Box className={classNames(classes.rowItemContainer, classes.remove)} key={`remove-${member}`}>\n          <Box className={classes.address}>\n            <Box className={classes.rowIconContainer}>\n              <RemoveCircleOutlineIcon color=\"error\" className={classes.memberIcon} width={16} height={16} />\n            </Box>\n            {truncateEthAddress(member)}\n          </Box>\n        </Box>\n      )\n    }\n  }\n\n  return (\n    <Box sx={{ mt: 2 }}>\n      <Typography className={classes.label}>Members</Typography>\n      {!members.add.length && !members.remove.length && <p>No member changes</p>}\n      {members.add.map(memberRow(\"add\"))}\n      {members.remove.map(memberRow(\"remove\"))}\n    </Box>\n  )\n}\n\ntype TargetsProps = {\n  targets: {\n    list: Target[]\n    add: Target[]\n    remove: string[]\n  }\n}\nconst Targets = ({ targets }: TargetsProps): React.ReactElement => {\n  const classes = useStyles()\n  const { state } = useContext(RoleContext)\n\n  const targetRemoveByAddress = (targetAddress: string) => (\n    <Box className={classNames(classes.rowItemContainer, classes.remove)} key={`remove${targetAddress}`}>\n      <Box className={classes.address}>\n        <Box className={classes.rowIconContainer}>\n          <RemoveCircleOutlineIcon color=\"error\" className={classes.memberIcon} width={16} height={16} />\n        </Box>\n        {truncateEthAddress(targetAddress)}\n      </Box>\n    </Box>\n  )\n\n  const targetAddOrUpdate = (changeType: \"add\" | \"update\") => (target: Target) => {\n    const changes = state.getTargetUpdate(target.id)\n    console.log(\"changes:\")\n    console.log(changes)\n\n    return (\n      <Box\n        className={classNames(classes.rowItemContainer, { [classes.add]: changeType === \"add\" })}\n        key={`${changeType}-${target.address}`}\n      >\n        <Box className={classes.address}>\n          {changeType === \"add\" && (\n            <Box className={classes.rowIconContainer}>\n              <AddCircleOutlineIcon htmlColor=\"green\" className={classes.memberIcon} width={16} height={16} />\n            </Box>\n          )}\n          {truncateEthAddress(target.address)}\n        </Box>\n        <Box className={classes.targetNumberOfChanges}>{`${changes.length} ${\n          changeType === \"add\" ? \"details\" : \"updates\"\n        }`}</Box>\n      </Box>\n    )\n  }\n\n  const targetsToUpdate = targets.list\n    .filter(({ address }) => !targets.remove.includes(address))\n    .filter(({ id }) => state.getTargetUpdate(id)?.length)\n\n  return (\n    <Box sx={{ mt: 2 }}>\n      <Typography className={classes.label}>Targets</Typography>\n      {!targets.add.length && !targetsToUpdate.length && !targets.remove.length && <p>No target changes</p>}\n      {targets.add.map(targetAddOrUpdate(\"add\"))}\n      {targetsToUpdate.map(targetAddOrUpdate(\"update\"))}\n      {targets.remove.map(targetRemoveByAddress)}\n    </Box>\n  )\n}\n\nexport default PendingChanges\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { Box, Button, CircularProgress, Link, Tooltip, Typography } from \"@material-ui/core\"\nimport ButtonLink from \"../../commons/input/ButtonLink\"\nimport { AddSharp, ArrowBackSharp, CheckSharp } from \"@material-ui/icons\"\nimport { useRootDispatch, useRootSelector } from \"../../../store\"\nimport {\n  getChainId,\n  getConnectedAddress,\n  getRolesModifierAddress,\n  getTransactionPending,\n} from \"../../../store/main/selectors\"\nimport { Role, Target } from \"../../../typings/role\"\nimport { Link as RouterLink, useNavigate, useParams } from \"react-router-dom\"\nimport { RoleMembers } from \"./members/RoleMembers\"\nimport { RoleTargets } from \"./targets/RoleTargets\"\nimport { useContext, useEffect, useState } from \"react\"\nimport { RoleContext } from \"./RoleContext\"\nimport {\n  executeTxsGnosisSafe,\n  executeTxsInjectedProvider,\n  getSafeTx,\n  updateRole,\n  WalletType,\n} from \"../../../services/rolesModifierContract\"\nimport { useWallet } from \"../../../hooks/useWallet\"\nimport { BigNumber } from \"ethers\"\nimport { setTransactionPending } from \"../../../store/main/rolesSlice\"\nimport { useFetchRoles } from \"../../../hooks/useFetchRoles\"\nimport PendingChanges from \"../../modals/PendingChanges\"\n\n/**\n * Security concern: roleId crashes is possible. This uses the currently available information.\n * - for instance there can be transactions in the mempool or not yet indexed buy the subgraph\n *\n * It depends on what the owner is how bad this is...\n *\n * @returns the roleId of the current role or the largest roleId+1 of the available roles\n */\nexport function getRoleId(roleId: string, roles: Role[]): string {\n  if (roleId === \"new\") {\n    return (\n      roles\n        .map((role) => BigNumber.from(role.name)) // Convert all IDs to BigNumber\n        // Get the last ID\n        .reduce((biggest, current) => (biggest.lt(current) ? current : biggest), BigNumber.from(0))\n        .add(1) // Add 1 to the last ID\n        .toString()\n    )\n  } else {\n    return roleId\n  }\n}\n\nconst RoleMenuTitle = ({ role, id }: { id: string; role?: Role }) => {\n  if (role)\n    return (\n      <Typography variant=\"h5\" style={{ wordBreak: \"break-all\" }}>\n        Editing Role #{role.name}\n      </Typography>\n    )\n  return (\n    <Typography variant=\"h5\" style={{ wordBreak: \"break-all\" }}>\n      Create Role #{id}\n    </Typography>\n  )\n}\n\nfunction getButtonText(\n  role: Role | undefined,\n  isWaiting: boolean,\n  indexing: boolean,\n  txProposedInSafe: boolean,\n): string {\n  if (indexing) return \"Indexing...\"\n\n  if (role) {\n    if (txProposedInSafe) return \"Update transaction proposed to the Safe\"\n    return !isWaiting ? \"Update role\" : \"Updating role...\"\n  }\n  if (txProposedInSafe) return \"Role creation transaction proposed to the Safe\"\n  return !isWaiting ? \"Create role\" : \"Creating role...\"\n}\n\nexport const RoleMenu = () => {\n  const { module } = useParams()\n  const { state } = useContext(RoleContext)\n  const { provider, walletType } = useWallet()\n  const dispatch = useRootDispatch()\n  const navigate = useNavigate()\n\n  const { fetch: fetchRoles } = useFetchRoles({ lazy: true })\n\n  const isWaiting = useRootSelector(getTransactionPending)\n  const network = useRootSelector(getChainId)\n  const walletAddress = useRootSelector(getConnectedAddress)\n  const rolesModifierAddress = useRootSelector(getRolesModifierAddress)\n\n  const [indexing, setIndexing] = useState(false)\n  const [txProposedInSafe, setTxProposedInSafe] = useState(false)\n  const [pendingChangesModalIsOpen, setPendingChangesModalIsOpen] = useState(false)\n  const [memberChanges, setMemberChanges] = useState<boolean>(false)\n  const [targetChanges, setTargetChanges] = useState<boolean>(false)\n\n  useEffect(() => {\n    if (state) {\n      const { members, targets } = state\n      handleMemberChanges(members)\n      handleTargetChanges(targets)\n    }\n  }, [state])\n\n  const handleMemberChanges = (members: { list: string[]; add: string[]; remove: string[] }) => {\n    if (!members.add.length && !members.remove.length) {\n      setMemberChanges(false)\n      return\n    }\n    setMemberChanges(true)\n  }\n\n  const handleTargetChanges = (targets: { list: Target[]; add: Target[]; remove: string[] }) => {\n    const targetsToUpdate = targets.list\n      .filter(({ address }) => !targets.remove.includes(address))\n      .filter(({ id }) => state.getTargetUpdate(id)?.length)\n\n    if (!targets.add.length && !targetsToUpdate.length && !targets.remove.length) {\n      setTargetChanges(false)\n      return\n    }\n    setTargetChanges(true)\n  }\n\n  const handleExecuteUpdate = async () => {\n    if (!rolesModifierAddress) return\n\n    dispatch(setTransactionPending(true))\n    try {\n      const txs = await updateRole(rolesModifierAddress, network, state)\n\n      switch (walletType) {\n        case WalletType.GNOSIS_SAFE: {\n          let txHash = await executeTxsGnosisSafe(txs)\n          let tx = await getSafeTx(txHash)\n          // Possible statuses: 'AWAITING_CONFIRMATIONS' | 'AWAITING_EXECUTION' | 'CANCELLED' | 'FAILED' | 'SUCCESS' | 'PENDING' | 'PENDING_FAILED' | 'WILL_BE_REPLACED';\n\n          // wait while tx status is PENDING\n          while ([\"PENDING\", \"AWAITING_CONFIRMATIONS\"].includes(tx.txStatus)) {\n            await new Promise((resolve) => setTimeout(resolve, 5000))\n            tx = await getSafeTx(txHash)\n          }\n\n          // if the transaction is submitted to the safe but not executed\n          if ([\"AWAITING_EXECUTION\"].includes(tx.txStatus)) {\n            console.log(\"transaction proposed but not executed\")\n            setTxProposedInSafe(true)\n          }\n          // if transaction is executed immediately with success\n          else if (tx.txStatus === \"SUCCESS\" && tx.txHash) {\n            setIndexing(true)\n            if (provider) {\n              // Wait for 3 confirmations\n              await provider.waitForTransaction(tx.txHash, 3)\n            } else {\n              // Wait 15s to wait for a few confirmations\n              await new Promise((resolve) => setTimeout(resolve, 15000))\n            }\n          } else {\n            throw Error(`Unknown status of transaction: ${tx.txStatus}`)\n          }\n          break\n        }\n        case WalletType.INJECTED: {\n          await executeTxsInjectedProvider(txs)\n          setIndexing(true)\n          // Wait 5s to wait to the subgraph to index new txs\n          await new Promise((resolve) => setTimeout(resolve, 5000))\n          break\n        }\n        case WalletType.ZODIAC_PILOT: {\n          throw Error(\"Sending transactions via the zodiac pilot in not yet supported\")\n        }\n      }\n\n      if (!txProposedInSafe) {\n        if (!state.role) {\n          // If role === undefined, it's created a new role\n          navigate(`/${module}/roles/${state.id}`)\n        } else {\n          fetchRoles()\n        }\n      }\n    } catch (error: any) {\n      console.error(error)\n    } finally {\n      dispatch(setTransactionPending(false))\n      setIndexing(false)\n    }\n  }\n\n  const handleIsDisabled = (): boolean => !memberChanges && !targetChanges\n  const button = (\n    <Button\n      fullWidth\n      color=\"secondary\"\n      size=\"large\"\n      variant=\"contained\"\n      onClick={handleExecuteUpdate}\n      disabled={isWaiting || !walletAddress || txProposedInSafe || handleIsDisabled()}\n      startIcon={\n        txProposedInSafe ? <CheckSharp /> : isWaiting ? <CircularProgress size={18} color=\"primary\" /> : <AddSharp />\n      }\n    >\n      {getButtonText(state.role, isWaiting, indexing, txProposedInSafe)}\n    </Button>\n  )\n\n  return (\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", justifyContent: \"space-between\", height: \"100%\" }}>\n      <Box>\n        <Box sx={{ display: \"flex\", flexDirection: \"row\" }}>\n          <RoleMenuTitle id={state.id} role={state.role} />\n          <Box sx={{ flexGrow: 1 }} />\n          <Box sx={{ minWidth: 128 }}>\n            <RouterLink to={`/${module}`}>\n              <ButtonLink text=\"View all roles\" icon={<ArrowBackSharp fontSize=\"small\" />} />\n            </RouterLink>\n          </Box>\n        </Box>\n        <Box\n          sx={{\n            bgcolor: \"rgba(217, 212, 173, 0.1)\",\n            height: 1,\n            my: 2,\n            width: \"100%\",\n          }}\n        />\n        {txProposedInSafe ? (\n          <Box sx={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\" }}>\n            <Typography variant=\"body1\" align=\"center\">\n              Your transaction is proposed to the Gnosis Safe\n              <br />\n              it can be executed in the Safe when its signed by\n              <br />\n              the required amounts of owners.\n              <br />\n              <br />\n              You can safely leave this page.\n            </Typography>\n            <Box sx={{ mt: 2 }}>\n              <RouterLink to={`/${module}`}>\n                <ButtonLink icon={<ArrowBackSharp fontSize=\"small\" />} text=\"Go back to Roles\" />\n              </RouterLink>\n            </Box>\n          </Box>\n        ) : (\n          <>\n            <RoleMembers />\n            <RoleTargets />\n          </>\n        )}\n      </Box>\n      {(memberChanges || targetChanges) && !txProposedInSafe && (\n        <Box sx={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\", mt: \"auto\", mb: 2 }}>\n          <Link onClick={() => setPendingChangesModalIsOpen(true)} underline=\"always\">\n            <ButtonLink text={\"View pending changes\"} />\n          </Link>\n        </Box>\n      )}\n\n      {walletAddress ? (\n        button\n      ) : (\n        // TODO (carlos): Add styling\n        <Tooltip title=\"You must connect your wallet before creating a role.\">\n          <div>{button}</div>\n        </Tooltip>\n      )}\n      <PendingChanges isOpen={pendingChangesModalIsOpen} onClose={() => setPendingChangesModalIsOpen(false)} />\n    </Box>\n  )\n}\n","import React, { PropsWithChildren, Reducer, useEffect, useMemo, useReducer } from \"react\"\nimport {\n  ConditionType,\n  ExecutionOption,\n  FunctionCondition,\n  ParamCondition,\n  ParameterType,\n  Role,\n  Target,\n  TargetConditions,\n} from \"../../../typings/role\"\nimport { getRoleId } from \"./RoleMenu\"\nimport { useRootSelector } from \"../../../store\"\nimport { getRoles } from \"../../../store/main/selectors\"\n\nexport interface RoleContextState {\n  id: string\n  activeTarget?: string\n  role?: Role\n  members: {\n    list: string[]\n    add: string[]\n    remove: string[]\n  }\n  targets: {\n    list: Target[]\n    add: Target[]\n    remove: string[]\n  }\n\n  getActiveRole(): Target | undefined\n\n  getTargetUpdate(targetId: string): UpdateEvent[]\n}\n\nenum RoleActionType {\n  ADD_MEMBER,\n  ADD_TARGET,\n  REMOVE_MEMBER,\n  REMOVE_TARGET,\n  SET_ACTIVE_TARGET,\n  SET_TARGET_EXECUTION_OPTION,\n  SET_TARGET_CONDITIONS,\n  SET_TARGET_CLEARANCE,\n  RESET_STATE,\n}\n\ninterface RoleAction {\n  type: RoleActionType\n  payload: any\n}\n\nexport enum Level {\n  SCOPE_TARGET, // Allowed, Scoped, Blocked\n  SCOPE_FUNCTION, // Allowed, Scoped, Blocked\n  SCOPE_PARAM,\n  UPDATE_FUNCTION_EXECUTION_OPTION,\n}\n\nexport type UpdateEvent =\n  | {\n      level: Level.SCOPE_TARGET\n      value: Target\n      old: Target\n    }\n  | {\n      level: Level.SCOPE_FUNCTION | Level.UPDATE_FUNCTION_EXECUTION_OPTION\n      value: FunctionCondition\n      old: FunctionCondition\n      targetAddress: string\n    }\n  | {\n      level: Level.SCOPE_PARAM\n      funcSighash: string\n      targetAddress: string\n      value: ParamCondition\n      old: ParamCondition\n    }\n\ntype RemoveTargetPayload = { target: Target; remove?: boolean }\n\ntype RemoveMemberPayload = { member: string; remove?: boolean }\n\ntype SetTargetExecutionOptionPayload = { targetId: string; option: ExecutionOption }\n\ntype SetTargetConditionsPayload = { targetId: string; conditions: TargetConditions }\n\ntype SetTargetClearancePayload = { targetId: string; option: ConditionType }\n\nfunction handleRemoveTarget(state: RoleContextState, payload: RemoveTargetPayload): RoleContextState {\n  const { target, remove = true } = payload\n\n  if (state.activeTarget === target.id) {\n    return handleRemoveTarget({ ...state, activeTarget: undefined }, payload)\n  }\n\n  if (!remove) {\n    // Remove from delete queue\n    return {\n      ...state,\n      targets: { ...state.targets, remove: state.targets.remove.filter((_target) => _target !== target.address) },\n    }\n  }\n  if (state.targets.add.find((_target) => _target.address === target.address)) {\n    return {\n      ...state,\n      targets: { ...state.targets, add: state.targets.add.filter((_target) => _target.address !== target.address) },\n    }\n  }\n  if (state.targets.remove.includes(target.address)) {\n    // Already in queue\n    return state\n  }\n\n  return { ...state, targets: { ...state.targets, remove: [...state.targets.remove, target.address] } }\n}\n\nfunction handleAddTarget(state: RoleContextState, target: Target): RoleContextState {\n  const currentTarget =\n    state.targets.add.find((_target) => target.address.toLowerCase() === _target.address.toLowerCase()) ||\n    state.targets.list.find((_target) => target.address.toLowerCase() === _target.address.toLowerCase())\n  if (currentTarget) {\n    return { ...state, activeTarget: currentTarget.id }\n  }\n  return {\n    ...state,\n    activeTarget: target.id,\n    targets: { ...state.targets, add: [...state.targets.add, { ...target, address: target.address.toLowerCase() }] },\n  }\n}\n\nconst handleRemoveMember = (state: RoleContextState, payload: RemoveMemberPayload): RoleContextState => {\n  const { member, remove = true } = payload\n  if (!remove) {\n    // Remove from delete queue\n    return {\n      ...state,\n      members: { ...state.members, remove: state.members.remove.filter((_member) => _member !== member) },\n    }\n  }\n  if (state.members.add.includes(member)) {\n    return {\n      ...state,\n      members: { ...state.members, add: state.members.add.filter((_member) => _member !== member) },\n    }\n  }\n  if (state.members.remove.includes(member)) {\n    // Already in queue\n    return state\n  }\n  return { ...state, members: { ...state.members, remove: [...state.members.remove, member] } }\n}\n\nfunction replaceTargetValue(targets: Target[], id: string, value: Partial<Target>): Target[] {\n  return targets.map((target): Target => {\n    if (target.id === id) {\n      return { ...target, ...value }\n    }\n    return target\n  })\n}\n\nfunction handleTargetExecutionOption(\n  state: RoleContextState,\n  payload: SetTargetExecutionOptionPayload,\n): RoleContextState {\n  const replaceValue = (targets: Target[]) =>\n    replaceTargetValue(targets, payload.targetId, { executionOption: payload.option })\n\n  if (state.targets.list.find((target) => target.id === payload.targetId)) {\n    return { ...state, targets: { ...state.targets, list: replaceValue(state.targets.list) } }\n  }\n  return { ...state, targets: { ...state.targets, add: replaceValue(state.targets.add) } }\n}\n\nfunction handleTargetConditions(state: RoleContextState, payload: SetTargetConditionsPayload): RoleContextState {\n  const replaceValue = (targets: Target[]) => {\n    const conditionTypes = Object.values(payload.conditions).map((condition) => condition.type)\n    const targetInState = targets.find((target) => target.id === payload.targetId)\n\n    if (!targetInState) {\n      throw Error(\"Target not found in state\")\n    }\n\n    let type: ConditionType = targetInState.type\n    if (type !== ConditionType.WILDCARDED) {\n      const hasWildcardedFunction = conditionTypes.some((condition) => condition === ConditionType.WILDCARDED)\n      const hasScopedFunction = conditionTypes.some((condition) => condition === ConditionType.SCOPED)\n\n      type = ConditionType.SCOPED\n      if (!hasScopedFunction && !hasWildcardedFunction) {\n        type = ConditionType.BLOCKED\n      }\n    }\n\n    return replaceTargetValue(targets, payload.targetId, { type, conditions: payload.conditions })\n  }\n\n  if (state.targets.list.find((target) => target.id === payload.targetId)) {\n    return { ...state, targets: { ...state.targets, list: replaceValue(state.targets.list) } }\n  }\n  return { ...state, targets: { ...state.targets, add: replaceValue(state.targets.add) } }\n}\n\nfunction handleAddMember(state: RoleContextState, payload: string): RoleContextState {\n  if (state.members.add.includes(payload.toLowerCase()) || state.members.list.includes(payload.toLowerCase())) {\n    return state\n  }\n  return { ...state, members: { ...state.members, add: [...state.members.add, payload.toLowerCase()] } }\n}\n\nfunction handleSetTargetClearance(state: RoleContextState, payload: SetTargetClearancePayload): RoleContextState {\n  const replaceOption = (target: Target): Target => {\n    if (target.id !== payload.targetId) return target\n    return { ...target, executionOption: ExecutionOption.NONE, type: payload.option }\n  }\n\n  return {\n    ...state,\n    targets: {\n      ...state.targets,\n      add: state.targets.add.map(replaceOption),\n      list: state.targets.list.map(replaceOption),\n    },\n  }\n}\n\nconst roleReducer: Reducer<RoleContextState, RoleAction> = (state, action) => {\n  switch (action.type) {\n    case RoleActionType.ADD_MEMBER:\n      return handleAddMember(state, action.payload)\n    case RoleActionType.ADD_TARGET:\n      return handleAddTarget(state, action.payload)\n    case RoleActionType.REMOVE_TARGET:\n      return handleRemoveTarget(state, action.payload)\n    case RoleActionType.REMOVE_MEMBER:\n      return handleRemoveMember(state, action.payload)\n    case RoleActionType.SET_ACTIVE_TARGET:\n      return { ...state, activeTarget: action.payload }\n    case RoleActionType.SET_TARGET_EXECUTION_OPTION:\n      return handleTargetExecutionOption(state, action.payload)\n    case RoleActionType.SET_TARGET_CONDITIONS:\n      return handleTargetConditions(state, action.payload)\n    case RoleActionType.SET_TARGET_CLEARANCE:\n      return handleSetTargetClearance(state, action.payload)\n    case RoleActionType.RESET_STATE:\n      return initReducerState(action.payload)\n  }\n}\n\ninterface RoleContextWrapProps {\n  id: string\n  role?: Role\n}\n\ninterface RoleContextValue {\n  state: RoleContextState\n\n  addMember(payload: string): void\n\n  setActiveTarget(payload: string): void\n\n  addTarget(payload: Target): void\n\n  removeMember(payload: RemoveMemberPayload): void\n\n  removeTarget(payload: RemoveTargetPayload): void\n\n  setTargetExecutionOption(payload: SetTargetExecutionOptionPayload): void\n\n  setTargetConditions(payload: SetTargetConditionsPayload): void\n\n  setTargetClearance(payload: SetTargetClearancePayload): void\n\n  reset(payload: RoleContextWrapProps): void\n}\n\nexport const RoleContext = React.createContext<RoleContextValue>({\n  state: {\n    id: \"\",\n    targets: { add: [], remove: [], list: [] },\n    members: { add: [], remove: [], list: [] },\n    getActiveRole: (): Target => ({} as Target),\n    getTargetUpdate: (): UpdateEvent[] => [],\n  },\n  addTarget() {},\n  removeMember() {},\n  removeTarget() {},\n  addMember() {},\n  setActiveTarget() {},\n  setTargetConditions() {},\n  setTargetExecutionOption() {},\n  setTargetClearance() {},\n  reset() {},\n})\n\nfunction initReducerState({ id, role }: RoleContextWrapProps): RoleContextState {\n  return {\n    id,\n    role,\n    members: {\n      list: role?.members.map((member) => member.address) || [],\n      add: [],\n      remove: [],\n    },\n    targets: {\n      list: role?.targets || [],\n      add: [],\n      remove: [],\n    },\n    getActiveRole(): Target | undefined {\n      const inList = this.targets.list.find((target) => target.id === this.activeTarget)\n      if (inList) {\n        return inList\n      }\n      return this.targets.add.find((target) => target.id === this.activeTarget)\n    },\n    getTargetUpdate(targetId: string): UpdateEvent[] {\n      const updatedTarget = [...this.targets.list, ...this.targets.add].find((_target) => _target.id === targetId)\n      if (!updatedTarget) return []\n\n      const originalTarget = this.role?.targets.find((_target) => _target.id === targetId)\n      if (!originalTarget) {\n        // Avoid creating block conditions as that's the default value\n        if (updatedTarget.type === ConditionType.BLOCKED) return []\n\n        // If original is not found, target will be created\n        const functionEvents = Object.values(updatedTarget.conditions)\n          .map((funcCondition) => getFunctionUpdate(updatedTarget, funcCondition))\n          .flat()\n        const createEvent: UpdateEvent = {\n          level: Level.SCOPE_TARGET,\n          value: updatedTarget,\n          old: updatedTarget,\n        }\n        return [createEvent, ...functionEvents]\n      }\n\n      const isClearanceUpdated = originalTarget.type !== updatedTarget.type\n\n      if (updatedTarget.type !== ConditionType.SCOPED) {\n        /**\n         * If Clearance if WILDCARDED or BLOCKED, only update clearance and execution option (if needed).\n         */\n        const isExecutionOptionUpdated = originalTarget.executionOption !== updatedTarget.executionOption\n\n        if (!isClearanceUpdated && (updatedTarget.type === ConditionType.BLOCKED || !isExecutionOptionUpdated))\n          return []\n\n        return [{ level: Level.SCOPE_TARGET, value: updatedTarget, old: originalTarget }]\n      }\n\n      const events: UpdateEvent[] = []\n\n      if (isClearanceUpdated) {\n        events.push({ level: Level.SCOPE_TARGET, value: updatedTarget, old: originalTarget })\n      }\n\n      const functionEvents = Object.values(updatedTarget.conditions)\n        .map((funcCondition) => {\n          const originalFuncCondition = originalTarget.conditions[funcCondition.sighash]\n          return getFunctionUpdate(updatedTarget, funcCondition, originalFuncCondition)\n        })\n        .flat()\n\n      events.push(...functionEvents)\n\n      return events\n    },\n  }\n}\n\nfunction getParamUpdate(\n  targetAddress: string,\n  funcCondition: FunctionCondition,\n  original?: FunctionCondition,\n): UpdateEvent[] {\n  const updates = funcCondition.params.reduce((toUpdate, newParamConfig) => {\n    // console.log(\"getParamUpdate - param:\", newParamConfig)\n    if (!newParamConfig) return toUpdate\n    const originalParamConfig = original?.params.find((_param) => newParamConfig.index === _param?.index)\n    // console.log(\"getParamUpdate - originalParam:\", originalParamConfig)\n\n    if (\n      originalParamConfig &&\n      newParamConfig.value === originalParamConfig.value &&\n      newParamConfig.type === originalParamConfig.type &&\n      newParamConfig.condition === originalParamConfig.condition\n    ) {\n      return toUpdate\n    }\n\n    return [\n      ...toUpdate,\n      {\n        level: Level.SCOPE_PARAM,\n        value: newParamConfig,\n        old: newParamConfig,\n        targetAddress,\n        funcSighash: funcCondition.sighash,\n      } as UpdateEvent,\n    ]\n  }, [] as UpdateEvent[])\n\n  const removals = (original?.params ?? []).reduce((toRemove, originalParamConfig) => {\n    const newParamConfig = funcCondition.params.find((_param) => originalParamConfig.index === _param?.index)\n\n    if (\n      newParamConfig == null &&\n      updates.find((update: any) => update.value.index === originalParamConfig.index) == null // check if param was updated\n    ) {\n      // param was removed\n      return [\n        ...toRemove,\n        {\n          level: Level.SCOPE_PARAM,\n          value: {\n            ...originalParamConfig,\n            type: ParameterType.NO_RESTRICTION, // remove restriction\n          },\n          old: originalParamConfig,\n          targetAddress,\n          funcSighash: funcCondition.sighash,\n        },\n      ] as UpdateEvent[]\n    }\n    return toRemove\n  }, [] as UpdateEvent[])\n\n  return [...updates, ...removals]\n}\n\nfunction getFunctionUpdate(\n  target: Target,\n  funcCondition: FunctionCondition,\n  original?: FunctionCondition,\n): UpdateEvent[] {\n  if (!original && funcCondition.type === ConditionType.BLOCKED) return []\n\n  const isClearanceUpdated = original?.type !== funcCondition.type\n  const isExecutionOptionUpdated = original?.executionOption !== funcCondition.executionOption\n\n  if (funcCondition.type !== ConditionType.SCOPED) {\n    /**\n     * If Clearance if WILDCARDED or BLOCKED, only update clearance and execution option (if needed).\n     */\n\n    if (!isClearanceUpdated && isExecutionOptionUpdated)\n      return [\n        {\n          level: Level.UPDATE_FUNCTION_EXECUTION_OPTION,\n          value: funcCondition,\n          old: original,\n          targetAddress: target.address,\n        },\n      ]\n\n    if (!isClearanceUpdated && (funcCondition.type === ConditionType.BLOCKED || !isExecutionOptionUpdated)) return []\n\n    return [\n      {\n        level: Level.SCOPE_FUNCTION,\n        value: funcCondition,\n        old: original || funcCondition,\n        targetAddress: target.address,\n      },\n    ]\n  }\n\n  const events: UpdateEvent[] = []\n\n  if (isClearanceUpdated) {\n    events.push({\n      level: Level.SCOPE_FUNCTION,\n      value: funcCondition,\n      old: original || funcCondition,\n      targetAddress: target.address,\n    })\n  } else if (isExecutionOptionUpdated) {\n    events.push({\n      level: Level.UPDATE_FUNCTION_EXECUTION_OPTION,\n      value: funcCondition,\n      old: original,\n      targetAddress: target.address,\n    })\n  }\n\n  // Function is SCOPED\n  const paramsEvents = getParamUpdate(target.address, funcCondition, original)\n  events.push(...paramsEvents)\n\n  return events\n}\n\nexport const RoleContextWrap = ({ id, role, children }: PropsWithChildren<RoleContextWrapProps>) => {\n  const roles = useRootSelector(getRoles)\n\n  const [state, dispatch] = useReducer(roleReducer, { id: getRoleId(id, roles), role }, initReducerState)\n\n  const methods = useMemo((): Omit<RoleContextValue, \"state\"> => {\n    return {\n      addMember(payload: string) {\n        return dispatch({ type: RoleActionType.ADD_MEMBER, payload })\n      },\n      addTarget(payload: Target) {\n        return dispatch({ type: RoleActionType.ADD_TARGET, payload })\n      },\n      removeMember(payload: RemoveMemberPayload) {\n        return dispatch({ type: RoleActionType.REMOVE_MEMBER, payload })\n      },\n      removeTarget(payload: RemoveTargetPayload) {\n        return dispatch({ type: RoleActionType.REMOVE_TARGET, payload })\n      },\n      setActiveTarget(payload: string) {\n        return dispatch({ type: RoleActionType.SET_ACTIVE_TARGET, payload })\n      },\n      setTargetExecutionOption(payload: SetTargetExecutionOptionPayload) {\n        return dispatch({ type: RoleActionType.SET_TARGET_EXECUTION_OPTION, payload })\n      },\n      setTargetConditions(payload: SetTargetConditionsPayload) {\n        return dispatch({ type: RoleActionType.SET_TARGET_CONDITIONS, payload })\n      },\n      setTargetClearance(payload: SetTargetClearancePayload) {\n        return dispatch({ type: RoleActionType.SET_TARGET_CLEARANCE, payload })\n      },\n      reset(payload: RoleContextWrapProps) {\n        return dispatch({ type: RoleActionType.RESET_STATE, payload })\n      },\n    }\n  }, [dispatch])\n\n  useEffect(() => {\n    methods.reset({ role, id: getRoleId(id, roles) })\n  }, [id, methods, role, roles])\n\n  const value: RoleContextValue = {\n    state,\n    ...methods,\n  }\n  return <RoleContext.Provider value={value}>{children}</RoleContext.Provider>\n}\n","import React, { useContext } from \"react\"\nimport { Box, FormControlLabel, makeStyles, Typography } from \"@material-ui/core\"\nimport { ConditionType, ExecutionOption, Target, TargetConditions } from \"../../../../typings/role\"\nimport { useAbi } from \"../../../../hooks/useAbi\"\nimport { TargetFunctionList } from \"./TargetFunctionList\"\nimport { RoleContext } from \"../RoleContext\"\nimport { Checkbox } from \"../../../commons/input/Checkbox\"\nimport { getWriteFunctions } from \"../../../../utils/conditions\"\nimport classNames from \"classnames\"\nimport { ExecutionOptions } from \"./ExecutionOptions\"\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(3),\n  },\n  allowAllLabel: {\n    \"& .MuiTypography-body1\": {\n      fontSize: 16,\n    },\n  },\n\n  functionWrapper: {\n    backgroundColor: \"rgba(217, 212, 173, 0.1)\",\n    border: \"1px solid rgba(217, 212, 173, 0.3)\",\n    marginTop: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    position: \"relative\",\n    \"&::before\": {\n      border: \"1px solid rgba(217, 212, 173, 0.3)\",\n      content: '\" \"',\n      position: \"absolute\",\n      zIndex: 1,\n      inset: 2,\n      pointerEvents: \"none\",\n    },\n  },\n  functionTrigger: {\n    alignItems: \"center\",\n    cursor: \"pointer\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  removeButton: {\n    whiteSpace: \"nowrap\",\n    marginLeft: theme.spacing(4),\n    paddingLeft: theme.spacing(4),\n    paddingRight: theme.spacing(4),\n  },\n  arrow: {\n    height: 32,\n    fill: \"#B2B5B2\",\n    transition: \"transform 0.25s ease-in-out\",\n    width: 32,\n    \"&.isActive\": {\n      transform: \"rotate(180deg)\",\n    },\n  },\n  title: {\n    fontSize: 16,\n  },\n  subtitle: {\n    color: \"rgb(178,178,178)\",\n    fontFamily: \"Roboto Mono\",\n    fontSize: 12,\n  },\n}))\n\ntype TargetConfigurationProps = {\n  target: Target\n}\n\nexport const TargetConfiguration = ({ target }: TargetConfigurationProps) => {\n  const classes = useStyles()\n  const { abi, setAbi, fetchAbi, loading: abiLoading } = useAbi(target.address)\n  const { setTargetConditions, setTargetClearance, setTargetExecutionOption, state } = useContext(RoleContext)\n\n  console.log(\"update events\", state.getTargetUpdate(target.id))\n  const isWildcarded = target.type === ConditionType.WILDCARDED\n  const functions = getWriteFunctions(abi)\n\n  const handleChangeTargetExecutionsOptions = (value: ExecutionOption) => {\n    setTargetExecutionOption({ targetId: target.id, option: value })\n  }\n\n  const handleFuncParamsChange = (conditions: TargetConditions) => {\n    setTargetConditions({ targetId: target.id, conditions })\n  }\n\n  const handleAllFuncChange = () => {\n    const type = !isWildcarded ? ConditionType.WILDCARDED : ConditionType.SCOPED\n    setTargetClearance({ targetId: target.id, option: type })\n\n    const conditions = Object.keys(target.conditions).reduce(\n      (map, key) => ({\n        ...map,\n        [key]: { ...target.conditions[key], params: [], type: ConditionType.BLOCKED },\n      }),\n      {},\n    )\n\n    setTargetConditions({\n      targetId: target.id,\n      conditions,\n    })\n  }\n\n  return (\n    <Box>\n      <Box alignItems=\"flex-end\" display=\"flex\" justifyContent=\"space-between\">\n        <div>\n          <Typography variant=\"h5\" className={classes.title}>\n            Target Address\n          </Typography>\n          <Typography variant=\"h5\" className={classes.subtitle}>\n            {target.address}\n          </Typography>\n        </div>\n        {/*// TODO: A target can't be remove from a role, it's set to 'None' which is same as disabling all functions */}\n        {/*// from the users perspective it will be \"removed\", so I still think we should do it*/}\n        {/*<Button*/}\n        {/*  color=\"secondary\"*/}\n        {/*  variant=\"outlined\"*/}\n        {/*  className={classes.removeButton}*/}\n        {/*  onClick={() => removeTarget({ target })}*/}\n        {/*  startIcon={<DeleteOutlineSharp />}*/}\n        {/*>*/}\n        {/*  Remove Target*/}\n        {/*</Button>*/}\n      </Box>\n      <Box sx={{ mt: 3 }}>\n        <FormControlLabel\n          className={classes.allowAllLabel}\n          label=\"Allow all calls to target\"\n          control={<Checkbox checked={isWildcarded} onClick={handleAllFuncChange} />}\n        />\n      </Box>\n      {isWildcarded ? (\n        <Box sx={{ mt: 2 }}>\n          <ExecutionOptions value={target.executionOption} onChange={handleChangeTargetExecutionsOptions} />\n        </Box>\n      ) : null}\n      <Box className={classNames(classes.container)}>\n        <TargetFunctionList\n          items={functions}\n          conditions={target.conditions}\n          onChange={handleFuncParamsChange}\n          abiLoading={abiLoading}\n          onSubmit={(customABI) => (customABI.length ? setAbi(customABI) : fetchAbi())}\n          wildcarded={isWildcarded}\n          key={target.id} // force discarding custom entered ABI state when switching between targets\n        />\n      </Box>\n    </Box>\n  )\n}\n","import { useCallback, useEffect, useState } from \"react\"\nimport { JsonFragment } from \"@ethersproject/abi\"\nimport { getExplorer } from \"../utils/explorer\"\nimport { useRootSelector } from \"../store\"\nimport { getChainId } from \"../store/main/selectors\"\n\nexport const useAbi = (address: string) => {\n  const network = useRootSelector(getChainId)\n\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string>()\n  const [abi, setAbi] = useState<JsonFragment[]>()\n\n  const fetchAbi = useCallback(async () => {\n    const explorer = getExplorer(network)\n    setLoading(true)\n    try {\n      const result = await explorer.abi(address)\n      setAbi(result)\n      setError(undefined)\n    } catch (err) {\n      setAbi(undefined)\n      console.error(err)\n      setError((err as any).message)\n    } finally {\n      setLoading(false)\n    }\n  }, [network, address])\n\n  useEffect(() => {\n    fetchAbi()\n  }, [fetchAbi])\n\n  return { abi, setAbi, fetchAbi, error, loading }\n}\n","import { Box, makeStyles } from \"@material-ui/core\"\nimport React, { PropsWithChildren } from \"react\"\nimport classNames from \"classnames\"\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    display: \"grid\",\n    gridTemplateColumns: \"minmax(360px, 500px) 4px 1fr\",\n\n    height: \"100%\",\n    position: \"relative\",\n    flexGrow: 1,\n    \"&::before\": {\n      content: '\" \"',\n      position: \"absolute\",\n      zIndex: 1,\n      top: \"-4px\",\n      left: \"-4px\",\n      right: \"-4px\",\n      bottom: \"-4px\",\n      border: \"1px solid rgba(217, 212, 173, 0.3)\",\n      pointerEvents: \"none\",\n    },\n  },\n  sideBar: {\n    paddingRight: \"0 !important\",\n    \"& $item\": {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\",\n    },\n  },\n  item: {\n    border: \"1px solid rgba(217, 212, 173, 0.3)\",\n    height: \"100%\",\n    padding: theme.spacing(2),\n  },\n  menu: {\n    gridColumnStart: 1,\n  },\n  content: {\n    gridColumnStart: 3,\n    overflow: \"auto\",\n  },\n}))\n\ntype DashboardProps = PropsWithChildren<{ left: React.ReactElement }>\n\nexport const Dashboard = ({ left, children }: DashboardProps) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.container}>\n      <Box className={classNames(classes.item, classes.menu)}>{left}</Box>\n      <Box className={classNames(classes.item, classes.content)}>{children}</Box>\n    </div>\n  )\n}\n","import { Box, makeStyles, Typography } from \"@material-ui/core\"\n\nconst useStyles = makeStyles(() => ({\n  mainPanelZeroState: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\",\n  },\n}))\n\nexport const RoleNoTarget = () => {\n  const classes = useStyles()\n  return (\n    <Box className={classes.mainPanelZeroState}>\n      <Box sx={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\" }}>\n        <Typography variant=\"body1\" align=\"center\">\n          Here you can configure the role's targets.\n          <br />\n          Add or select a target to get started.\n        </Typography>\n      </Box>\n    </Box>\n  )\n}\n","import { useParams } from \"react-router-dom\"\nimport { TargetConfiguration } from \"./targets/TargetConfiguration\"\nimport { useRootSelector } from \"../../../store\"\nimport { getRoleById } from \"../../../store/main/selectors\"\nimport { Dashboard } from \"../../commons/layout/Dashboard\"\nimport { RoleMenu } from \"./RoleMenu\"\nimport { RoleNoTarget } from \"./RoleNoTarget\"\nimport { useFetchRoles } from \"../../../hooks/useFetchRoles\"\nimport { RoleContext, RoleContextWrap } from \"./RoleContext\"\n\nconst RoleView = () => {\n  const { roleId = \"new\" } = useParams()\n\n  const role = useRootSelector(getRoleById(roleId))\n\n  useFetchRoles()\n\n  return (\n    <RoleContextWrap role={role} id={roleId}>\n      <Dashboard left={<RoleMenu />}>\n        <RoleContext.Consumer>\n          {({ state }) => {\n            const target = state.activeTarget && state.getActiveRole()\n            return target ? <TargetConfiguration target={target} /> : <RoleNoTarget />\n          }}\n        </RoleContext.Consumer>\n      </Dashboard>\n    </RoleContextWrap>\n  )\n}\n\nexport default RoleView\n","import { makeStyles } from \"@material-ui/core\"\nimport classNames from \"classnames\"\nimport React, { PropsWithChildren } from \"react\"\nimport { colors, doubleBorder, ZodiacPaper } from \"zodiac-ui-components\"\n\nconst useStyles = makeStyles((theme) => ({\n  banner: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(0.5),\n    position: \"relative\",\n    transition: \"background 0.25s ease-in-out\",\n    \"&:not(:first-child)\": {\n      marginLeft: theme.spacing(2),\n    },\n    \"&::before\": {\n      ...doubleBorder(-5),\n      borderColor: colors.tan[300],\n    },\n  },\n  clickable: {\n    cursor: \"pointer\",\n    transition: \"background 0.25s ease-in-out\",\n    \"&:hover::before\": {\n      background: colors.tan[300],\n    },\n  },\n  icon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 60,\n    borderWidth: 1,\n    borderStyle: \"solid\",\n    borderColor: colors.tan[300],\n    padding: theme.spacing(0.5),\n    width: 46,\n    height: 46,\n  },\n  leftIcon: {\n    paddingRight: 16,\n  },\n}))\n\ninterface HeaderBoxProps {\n  className?: string\n  icon?: React.ReactElement\n  onClick?(): void\n}\n\nexport const HeaderBox = ({ className, icon, children, onClick }: PropsWithChildren<HeaderBoxProps>) => {\n  const classes = useStyles()\n\n  if (icon !== undefined) {\n    return (\n      <ZodiacPaper\n        rounded=\"left\"\n        elevation={0}\n        onClick={onClick}\n        className={classNames(classes.banner, classes.leftIcon, className, { [classes.clickable]: onClick != null })}\n      >\n        {icon != null && <div className={classes.icon}>{icon}</div>}\n        {children}\n      </ZodiacPaper>\n    )\n  }\n\n  return (\n    <ZodiacPaper\n      elevation={0}\n      onClick={onClick}\n      className={classNames(classes.banner, className, { [classes.clickable]: onClick != null })}\n    >\n      {children}\n    </ZodiacPaper>\n  )\n}\n","import { InputLabel, makeStyles, MenuItem, Select } from \"@material-ui/core\"\nimport { useRootDispatch, useRootSelector } from \"../../../store\"\nimport { getChainId, getNetworkPickerDisabled, getRolesModifierAddress } from \"../../../store/main/selectors\"\nimport { setChainId } from \"../../../store/main/web3Slice\"\nimport { HeaderBox } from \"./HeaderBox\"\nimport { getNetwork, NETWORKS } from \"../../../utils/networks\"\n\nconst useStyles = makeStyles((theme) => ({\n  networkPickerContainer: {\n    \"&.MuiPaper-root\": {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n      flexGrow: 1,\n      maxWidth: 180,\n    },\n  },\n  networkPicker: {\n    marginTop: theme.spacing(0.5),\n    padding: theme.spacing(0.5),\n    fontSize: 12,\n  },\n}))\n\nconst networkConfigs = NETWORKS.map(getNetwork)\n\nexport const ChainPicker = () => {\n  const classes = useStyles()\n  const dispatch = useRootDispatch()\n\n  const chainId = useRootSelector(getChainId)\n  const disabled = useRootSelector(getNetworkPickerDisabled)\n  const rolesModifierAddress = useRootSelector(getRolesModifierAddress)\n\n  const handleNetworkChange = (value: string) => dispatch(setChainId(parseInt(value)))\n\n  return (\n    <HeaderBox className={classes.networkPickerContainer}>\n      <InputLabel shrink>Chain</InputLabel>\n      <Select\n        disableUnderline\n        className={classes.networkPicker}\n        disabled={!!rolesModifierAddress || disabled}\n        value={chainId}\n        onChange={(evt) => handleNetworkChange(evt.target.value as string)}\n      >\n        {networkConfigs.map((config) => (\n          <MenuItem key={config.chainId} value={config.chainId}>\n            {config.name}\n          </MenuItem>\n        ))}\n      </Select>\n    </HeaderBox>\n  )\n}\n","import { HeaderBox } from \"./HeaderBox\"\nimport { Box, Link, makeStyles, Typography } from \"@material-ui/core\"\nimport { ArrowForward } from \"@material-ui/icons\"\nimport { EthHashInfo } from \"@gnosis.pm/safe-react-components\"\nimport { truncateEthAddress } from \"../../../utils/address\"\nimport classNames from \"classnames\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginBottom: theme.spacing(2),\n  },\n  avatar: {\n    \"& div\": {\n      margin: 0,\n    },\n    \"& img\": {\n      width: 36,\n      height: 36,\n    },\n  },\n  title: {\n    marginLeft: theme.spacing(1),\n  },\n  zodiacArrow: {\n    color: \"currentColor\",\n    marginLeft: theme.spacing(0.5),\n    width: theme.spacing(2),\n  },\n  zodiacLink: {\n    color: \"rgba(255,255,255,0.8)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    \"&:hover\": {\n      color: \"white\",\n    },\n  },\n  addressFont: {\n    fontFamily: \"Roboto Mono\",\n  },\n  empty: {\n    opacity: 0.5,\n  },\n}))\n\ninterface HeaderAddressBoxProps {\n  address?: string\n  emptyText: string\n  onClick?: () => void\n  linkToZodiac?: boolean\n}\n\nexport const HeaderAddressBox = ({ address, emptyText, onClick, linkToZodiac }: HeaderAddressBoxProps) => {\n  const classes = useStyles()\n\n  return (\n    <HeaderBox\n      icon={\n        address ? (\n          <EthHashInfo\n            className={classes.avatar}\n            hash={address}\n            showAvatar\n            showCopyBtn={false}\n            showHash={false}\n            avatarSize=\"md\"\n          />\n        ) : undefined\n      }\n      onClick={onClick}\n    >\n      <Box className={classes.title}>\n        <Typography\n          variant=\"body1\"\n          className={classNames({ [classes.empty]: !address, [classes.addressFont]: address })}\n        >\n          {address ? truncateEthAddress(address) : emptyText}\n        </Typography>\n        {address && linkToZodiac && (\n          <Link\n            rel=\"noredirect\"\n            onClick={() => {\n              window.location.href = `https://zodiac.gnosisguild.org/`\n            }}\n            className={classes.zodiacLink}\n            underline=\"always\"\n          >\n            Open Zodiac\n            <ArrowForward className={classes.zodiacArrow} />\n          </Link>\n        )}\n      </Box>\n    </HeaderBox>\n  )\n}\n","import { HeaderAddressBox } from \"./HeaderAddressBox\"\nimport { useRootSelector } from \"../../../store\"\nimport { getConnectedAddress } from \"../../../store/main/selectors\"\nimport { HeaderBox } from \"./HeaderBox\"\nimport { Box, Button, makeStyles, Typography } from \"@material-ui/core\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { useWallet } from \"../../../hooks/useWallet\"\nimport { useState } from \"react\"\nimport { WalletType } from \"../../../services/rolesModifierContract\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    cursor: \"pointer\",\n  },\n  title: {\n    marginLeft: theme.spacing(1),\n    color: \"#D9D4AD\",\n  },\n  icon: {\n    color: \"#D9D4AD\",\n  },\n  connectWalletBoxContainer: {\n    position: \"relative\",\n    marginLeft: 16,\n    zIndex: 1,\n  },\n  connectWalletBoxMenu: {\n    position: \"absolute\",\n    bottom: -50,\n    width: \"100%\",\n  },\n}))\n\nexport const ConnectWalletBox = () => {\n  const classes = useStyles()\n  const address = useRootSelector(getConnectedAddress)\n  const { startOnboard, onboard, walletType } = useWallet()\n  const [showWalletOption, setShowWalletOption] = useState<boolean>(false)\n  if (!address) {\n    return (\n      <HeaderBox onClick={startOnboard} icon={<AddIcon className={classes.icon} />} className={classes.root}>\n        <Typography variant=\"body1\" className={classes.title}>\n          Connect Wallet\n        </Typography>\n      </HeaderBox>\n    )\n  }\n\n  return (\n    <Box className={classes.connectWalletBoxContainer}>\n      <HeaderAddressBox\n        address={address}\n        emptyText=\"No Wallet Connected\"\n        onClick={walletType !== WalletType.GNOSIS_SAFE ? () => setShowWalletOption(!showWalletOption) : undefined}\n        linkToZodiac={walletType === WalletType.GNOSIS_SAFE}\n      />\n      {showWalletOption && (\n        <Box className={classes.connectWalletBoxMenu}>\n          <Button\n            size=\"large\"\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            onClick={() => {\n              onboard.walletReset()\n              setShowWalletOption(false)\n            }}\n          >\n            Disconnect Wallet\n          </Button>\n        </Box>\n      )}\n    </Box>\n  )\n}\n","import { Box, makeStyles, Typography } from \"@material-ui/core\"\nimport { ChainPicker } from \"./ChainPicker\"\nimport { HeaderBox } from \"./HeaderBox\"\nimport { HeaderAddressBox } from \"./HeaderAddressBox\"\nimport { useRootSelector } from \"../../../store\"\nimport { getRolesModifierAddress } from \"../../../store/main/selectors\"\nimport { ConnectWalletBox } from \"./ConnectWalletBox\"\nimport { BadgeIcon } from \"zodiac-ui-components\"\nimport { useNavigate } from \"react-router-dom\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginBottom: theme.spacing(2),\n  },\n  img: {\n    display: \"block\",\n    width: 36,\n    height: 36,\n  },\n  title: {\n    marginLeft: theme.spacing(1),\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  badge: {\n    marginLeft: theme.spacing(2),\n  },\n  warning: {\n    color: theme.palette.warning.main,\n    textTransform: \"uppercase\",\n  },\n}))\n\nexport const Header = () => {\n  const classes = useStyles()\n  const navigate = useNavigate()\n\n  const module = useRootSelector(getRolesModifierAddress)\n\n  return (\n    <Box className={classes.root}>\n      <HeaderBox icon={<BadgeIcon icon=\"roles\" />} onClick={() => navigate(`/${module}`)}>\n        <Typography variant=\"h5\" className={classes.title}>\n          Roles\n        </Typography>\n      </HeaderBox>\n      <HeaderBox className={classes.grow}>\n        <div className={classes.badge}>\n          <Typography className={classes.warning}>Experimental</Typography>\n          <Typography variant=\"body2\">\n            Use this app with caution and carefully review all applied permissions\n          </Typography>\n        </div>\n      </HeaderBox>\n      <ChainPicker />\n      <HeaderAddressBox address={module} emptyText=\"No Safe Attached\" />\n      <ConnectWalletBox />\n    </Box>\n  )\n}\n","import { Header } from \"./views/Header/Header\"\nimport { Outlet } from \"react-router-dom\"\nimport React from \"react\"\nimport { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    minHeight: \"100vh\",\n    padding: theme.spacing(3),\n  },\n}))\n\nexport const Root = () => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <Header />\n      <Outlet />\n      {/*{!onboard.getState().address && <ConnectWallet onClick={startOnboard} />}*/}\n    </div>\n  )\n}\n","import React from \"react\"\nimport { HashRouter, Route, Routes } from \"react-router-dom\"\nimport RolesView from \"./views/Roles/RolesView\"\nimport AttachRolesModifierView from \"./views/AttachRolesModifier/AttachRolesModifierView\"\nimport RoleView from \"./views/Role/RoleView\"\nimport { Root } from \"./Root\"\n\nexport const App = (): React.ReactElement => {\n  return (\n    <HashRouter>\n      <Routes>\n        <Route path=\"/\" element={<Root />}>\n          <Route index element={<AttachRolesModifierView />} />\n          <Route path=\":module\" element={<RolesView />} />\n          <Route path=\":module/roles/:roleId\" element={<RoleView />} />\n        </Route>\n      </Routes>\n    </HashRouter>\n  )\n}\n\nexport default App\n","import { createGlobalStyle } from \"styled-components\"\n\nexport const RolesGlobalStyles = createGlobalStyle`\n  :root {\n    --scrollbarWidth: 0;\n  }\n  a {\n    text-decoration: none;\n  }\n  body:before {\n    position: fixed;\n  }\n`\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { ThemeProvider } from \"styled-components\"\nimport { CssBaseline, ThemeProvider as MUIThemeProvider } from \"@material-ui/core\"\nimport { zodiacMuiTheme } from \"zodiac-ui-components\"\nimport { theme as gnosisStyledComponentsTheme } from \"@gnosis.pm/safe-react-components\"\nimport App from \"./components/App\"\nimport { RolesGlobalStyles } from \"./theme/RolesGlobalStyles\"\nimport { Provider as ReduxProvider } from \"react-redux\"\nimport { REDUX_STORE } from \"./store\"\n\nconst Main = () => {\n  return (\n    <MUIThemeProvider theme={zodiacMuiTheme}>\n      <ThemeProvider theme={gnosisStyledComponentsTheme}>\n        <CssBaseline />\n        <RolesGlobalStyles />\n        <ReduxProvider store={REDUX_STORE}>\n          <App />\n        </ReduxProvider>\n      </ThemeProvider>\n    </MUIThemeProvider>\n  )\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Main />\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n)\n"],"sourceRoot":""}